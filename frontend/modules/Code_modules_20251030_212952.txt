
===== BEGIN admin\components\index.ts =====
﻿export { default as ModerationQueue } from "./ModerationQueue";
export { default as UserStats       } from "./UserStats";

===== END admin\components\index.ts =====


===== BEGIN admin\components\ModerationQueue.tsx =====
﻿"use client";
import React from "react";
import { Card, List, Spin, Alert, Tag } from "antd";
import useModeration, { ModerationItem } from "@/admin/hooks/useModeration";

function ModerationQueue() {
  const { data, isLoading, isError, error } = useModeration();

  if (isLoading) return <Spin />;
  if (isError) return <Alert message={error.message} type="error" />;

  return (
    <Card title="Moderation Queue" style={{ marginTop: 16 }}>
      <List<ModerationItem>
        itemLayout="vertical"
        dataSource={data}
        renderItem={(item) => (
          <List.Item key={item.id}>
            <List.Item.Meta
              title={
                <>
                  <Tag>{item.type}</Tag> by {item.userId}
                </>
              }
              description={new Date(item.createdAt).toLocaleString()}
            />
            <p>{item.content}</p>
            <p>
              <strong>Reason:</strong> {item.reason}
            </p>
          </List.Item>
        )}
      />
    </Card>
  );
}

export default ModerationQueue;

===== END admin\components\ModerationQueue.tsx =====


===== BEGIN admin\components\UserStats.tsx =====
"use client";
import React from "react";
import { Card, Descriptions, Spin, Alert } from "antd";
import useStats from "@/admin/hooks/useStats";

export default function UserStats() {
  const { data, isLoading, isError, error } = useStats();
  if (isLoading) return <Spin />;
  if (isError)   return <Alert message={error.message} type="error" />;
  if (!data)     return null;                         // TS18048 safe‑guard

  return (
    <Card title="User Statistics">
      <Descriptions column={1}>
        <Descriptions.Item label="Total users">{data.totalUsers}</Descriptions.Item>
        <Descriptions.Item label="Active users">{data.activeUsers}</Descriptions.Item>
        {data.newUsers != null && (
          <Descriptions.Item label="New users (24 h)">
            {data.newUsers}
          </Descriptions.Item>
        )}
      </Descriptions>
    </Card>
  );
}

===== END admin\components\UserStats.tsx =====


===== BEGIN admin\hooks\index.ts =====
﻿export { default as useModeration } from "./useModeration";
export { default as useStats       } from "./useStats";

===== END admin\hooks\index.ts =====


===== BEGIN admin\hooks\useModeration.ts =====
﻿import { useQuery } from "@tanstack/react-query";
import { api } from "@/shared/api";

export interface ModerationItem {
  id: string;
  type: string;
  content: string;
  reason: string;
  userId: string;
  createdAt: string;
}

export default function useModeration() {
  return useQuery<ModerationItem[], Error>({
    queryKey: ["admin-moderation"],
    queryFn: async () =>
      (await api.get<ModerationItem[]>("/api/admin/moderation")).data,
    staleTime: 2 * 60_000,
    retry: 1,
  });
}

===== END admin\hooks\useModeration.ts =====


===== BEGIN admin\hooks\useStats.ts =====
﻿import { useQuery } from "@tanstack/react-query";
import { api } from "@/shared/api";

export interface AdminStats {
  totalUsers: number;
  activeUsers: number;
  newUsers?: number;
}

export default function useStats() {
  return useQuery<AdminStats, Error>({
    queryKey: ["admin-stats"],
    queryFn: async () => (await api.get<AdminStats>("/api/admin/stats")).data,
    staleTime: 5 * 60_000,
    retry: 1,
  });
}

===== END admin\hooks\useStats.ts =====


===== BEGIN admin\pages\AdminConsole.tsx =====
"use client";
import React from "react";
import AppShell from "@/global/components/AppShell";
import { ModerationQueue, UserStats } from "@/admin/components";

export default function AdminConsole() {
  return (
    <AppShell>
      <main className="container mx-auto p-8">
        <h1 className="text-2xl font-bold mb-6">Admin Console</h1>
        <div className="grid gap-6 md:grid-cols-2">
          <UserStats />
          <ModerationQueue />
        </div>
      </main>
    </AppShell>
  );
}

===== END admin\pages\AdminConsole.tsx =====


===== BEGIN admin\pages\index.ts =====
export { default as AdminConsole } from './AdminConsole';

===== END admin\pages\index.ts =====


===== BEGIN concatv2.py =====
#!/usr/bin/env python3
"""
Concatène tous les fichiers texte du dossier du script et de ses sous-dossiers.
Par défaut, écrit le résultat dans "Code_<nom_dossier>_<YYYYMMDD_HHMMSS>.txt" à la racine du script.

Usage simple :
    python concatv1.py

Options :
    -o, --out         Fichier de sortie (prioritaire sur le nom auto)
    --ext             Extensions personnalisées (csv) ex: "tsx,tx,ts,js,md"
    --include         Glob d'inclusion relatif (répétable)
    --exclude         Glob d'exclusion relatif (répétable)
    --max-size        Taille max par fichier en octets (défaut: 2000000)
    --no-headers      Désactive les entêtes BEGIN/END par fichier
"""
from __future__ import annotations

import argparse
import fnmatch
import os
from pathlib import Path
from typing import Set, List, Optional
from datetime import datetime

DEFAULT_EXTS: Set[str] = {
    ".tx", ".md", ".markdown",
    ".json", ".yaml", ".yml", ".xml", ".toml", ".ini", ".cfg", ".conf", ".properties",
    ".html", ".htm", ".css", ".scss", ".less",
    ".js", ".jsx", ".ts", ".tsx", ".mjs", ".cjs",
    ".py", ".pyi", ".ipynb",
    ".java", ".kt", ".swift", ".rb", ".php", ".go", ".rs",
    ".c", ".h", ".cpp", ".cc", ".hpp", ".cs",
    ".sql",
    ".sh", ".bash", ".zsh", ".fish", ".ps1", ".bat",
    ".tex", ".bib",
    ".graphql", ".gql",
    ".gradle",
    ".pl", ".lua", ".r",
    ".env",
}

NAMES_WITHOUT_EXT: Set[str] = {
    "Dockerfile", "Makefile", "CMakeLists.txt",
    ".gitignore", ".gitattributes", ".editorconfig",
    "Procfile", "Gemfile", "requirements.txt", "Pipfile", "poetry.lock",
    "package.json", "package-lock.json", "yarn.lock", "pnpm-lock.yaml",
    "tsconfig.json", "eslint.config.js", ".eslintrc", ".prettierrc",
}

DEFAULT_EXCLUDE_DIRS: Set[str] = {
    ".git", ".hg", ".svn",
    "node_modules", ".next", ".nuxt",
    "dist", "build", "out", "coverage", ".cache",
    ".venv", "venv", "__pycache__",
    "target", "bin", "obj",
}


def parse_args() -> argparse.Namespace:
    p = argparse.ArgumentParser(description="Concatène les fichiers texte du projet dans un seul fichier.")
    p.add_argument("-o", "--out", default=None, help="Fichier de sortie (facultatif)")
    p.add_argument("--ext", help="Extensions additionnelles ou personnalisées, séparées par des virgules")
    p.add_argument("--include", action="append", default=[], help="Glob d'inclusion relatif à la racine (répétable)")
    p.add_argument("--exclude", action="append", default=[], help="Glob d'exclusion relatif à la racine (répétable)")
    p.add_argument("--max-size", type=int, default=2_000_000, help="Taille max par fichier en octets")
    p.add_argument("--no-headers", action="store_true", help="Ne pas imprimer d'entêtes par fichier")
    return p.parse_args()


def normalize_exts(exts_csv: Optional[str]) -> Set[str]:
    if not exts_csv:
        return set(DEFAULT_EXTS)
    parts = [e.strip().lower() for e in exts_csv.split(",") if e.strip()]
    normed = set()
    for e in parts:
        if not e.startswith("."):
            e = "." + e
        normed.add(e)
    return normed


def is_probably_text(sample: bytes) -> bool:
    if not sample:
        return True
    if b"\x00" in sample:
        return False
    try:
        sample.decode("utf-8")
        return True
    except UnicodeDecodeError:
        pass
    ctrl_hits = 0
    for b in sample:
        if b < 32 and b not in (9, 10, 13):  # \t \n \r
            ctrl_hits += 1
    return (ctrl_hits / max(1, len(sample))) < 0.01


def pick_encoding(path: Path) -> Optional[str]:
    try:
        with path.open("rb") as f:
            sample = f.read(32768)
    except Exception:
        return None
    if not is_probably_text(sample):
        return None
    for enc in ("utf-8", "utf-8-sig", "utf-16", "cp1252", "latin-1"):
        try:
            sample.decode(enc)
            return enc
        except UnicodeDecodeError:
            continue
    return "latin-1"


def relpath(base: Path, p: Path) -> str:
    try:
        return str(p.relative_to(base))
    except Exception:
        return str(p)


def should_include_file(base: Path, file_path: Path, allowed_exts: Set[str],
                        include_globs: List[str], exclude_globs: List[str],
                        max_size: int, out_path: Path) -> bool:
    if not file_path.is_file():
        return False
    if file_path == out_path:
        return False
    if file_path.suffix.lower() == ".txt":
        return False  # exclusion explicite
    try:
        if file_path.stat().st_size > max_size:
            return False
    except Exception:
        return False
    rel = relpath(base, file_path)
    for pat in exclude_globs:
        if fnmatch.fnmatch(rel, pat):
            return False
    if include_globs:
        ok = any(fnmatch.fnmatch(rel, pat) for pat in include_globs)
        if not ok:
            return False
    if file_path.suffix.lower() in allowed_exts or file_path.name in NAMES_WITHOUT_EXT:
        return True
    enc = pick_encoding(file_path)
    return enc is not None


def main() -> None:
    args = parse_args()
    base_dir = Path(__file__).resolve().parent

    if args.out:
        out_path = (base_dir / args.out).resolve()
    else:
        stamp = datetime.now().strftime("%Y%m%d_%H%M%S")
        out_name = f"Code_{base_dir.name}_{stamp}.txt"
        out_path = (base_dir / out_name).resolve()

    allowed_exts = normalize_exts(args.ext)
    include_globs = list(args.include or [])
    exclude_globs = list(args.exclude or [])

    selected: List[Path] = []
    for root, dirs, files in os.walk(base_dir, followlinks=False):
        dirs[:] = [d for d in dirs if d not in DEFAULT_EXCLUDE_DIRS]
        root_path = Path(root)
        for name in files:
            fp = root_path / name
            if should_include_file(base_dir, fp, allowed_exts, include_globs, exclude_globs, args.max_size, out_path):
                selected.append(fp)

    selected.sort(key=lambda p: relpath(base_dir, p).lower())
    out_path.parent.mkdir(parents=True, exist_ok=True)

    with out_path.open("w", encoding="utf-8", newline="\n") as out:
        for p in selected:
            enc = pick_encoding(p) or "utf-8"
            if not args.no_headers:
                out.write(f"\n===== BEGIN {relpath(base_dir, p)} =====\n")
            try:
                with p.open("r", encoding=enc, errors="strict") as f:
                    for line in f:
                        out.write(line)
            except UnicodeDecodeError:
                with p.open("r", encoding="latin-1", errors="replace") as f:
                    for line in f:
                        out.write(line)
            if not args.no_headers:
                out.write(f"\n===== END {relpath(base_dir, p)} =====\n")
            out.write("\n")

    print(f"{len(selected)} fichier(s) concaténé(s) -> {relpath(base_dir, out_path)}")


if __name__ == "__main__":
    main()

===== END concatv2.py =====


===== BEGIN ekoh\achievements-badges\earned-badges-display\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END ekoh\achievements-badges\earned-badges-display\components\CommonWidget\page.tsx =====


===== BEGIN ekoh\achievements-badges\earned-badges-display\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END ekoh\achievements-badges\earned-badges-display\index.test\page.tsx =====


===== BEGIN ekoh\achievements-badges\earned-badges-display\page.tsx =====
'use client'

// pages/ekoh/achievements-badges/earned-badges-display/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, List, Modal, Select, Row, Col, Typography, Empty, Divider } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Option } = Select;

// Définition du type pour un badge
interface Badge {
  id: string;
  name: string;
  icon: string; // chemin vers l'image
  category: string;
  dateEarned: string; // format ISO ou chaîne lisible
  description: string;
}

// Données simulées pour les badges
const sampleBadges: Badge[] = [
  {
    id: '1',
    name: 'Top Contributor',
    icon: '/badges/top-contributor.png',
    category: 'Expertise',
    dateEarned: '2023-08-20',
    description: 'Awarded for exceptional contributions in discussions.',
  },
  {
    id: '2',
    name: 'Community Champion',
    icon: '/badges/community-champion.png',
    category: 'Community',
    dateEarned: '2023-07-15',
    description: 'Recognizes outstanding community engagement and support.',
  },
  {
    id: '3',
    name: 'Innovator',
    icon: '/badges/innovator.png',
    category: 'Innovation',
    dateEarned: '2023-06-10',
    description: 'Awarded for innovative ideas and solutions.',
  },
  {
    id: '4',
    name: 'Expert Reviewer',
    icon: '/badges/expert-reviewer.png',
    category: 'Expertise',
    dateEarned: '2023-05-22',
    description: 'Given to users providing insightful reviews.',
  },
  {
    id: '5',
    name: 'Active Participant',
    icon: '/badges/active-participant.png',
    category: 'Community',
    dateEarned: '2023-09-01',
    description: 'Recognizes consistent participation over time.',
  },
];

const EarnedBadgesDisplay: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  // États pour filtre et tri
  const [filterCategory, setFilterCategory] = useState<string>('All');
  const [sortOrder, setSortOrder] = useState<string>('Newest');
  // État pour la modal de détail
  const [selectedBadge, setSelectedBadge] = useState<Badge | null>(null);
  const [modalVisible, setModalVisible] = useState<boolean>(false);

  // Calcul du résumé
  const totalBadges = sampleBadges.length;
  const userLevel = totalBadges >= 5 ? 'Gold' : totalBadges >= 3 ? 'Silver' : 'Bronze';

  // Filtre et tri des badges
  const displayedBadges = useMemo(() => {
    let badges = [...sampleBadges];
    if (filterCategory !== 'All') {
      badges = badges.filter((badge) => badge.category === filterCategory);
    }
    badges.sort((a, b) => {
      const dateA = new Date(a.dateEarned).getTime();
      const dateB = new Date(b.dateEarned).getTime();
      return sortOrder === 'Newest' ? dateB - dateA : dateA - dateB;
    });
    return badges;
  }, [filterCategory, sortOrder]);

  // Ouvrir la modal avec les détails d'un badge
  const showBadgeDetails = (badge: Badge) => {
    setSelectedBadge(badge);
    setModalVisible(true);
  };

  return (
    <>
      <Head>
        <title>Achievements & Badges</title>
        <meta name="description" content="View all your earned badges and achievements with filtering and detailed views." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de page */}
        <Title level={2}>Achievements & Badges</Title>
        <Divider />
        {/* Résumé en haut de page */}
        <Row gutter={16} className="mb-6">
          <Col xs={24} sm={12}>
            <Text strong>Total Badges:</Text> <Text>{totalBadges}</Text>
          </Col>
          <Col xs={24} sm={12}>
            <Text strong>Level:</Text> <Text>{userLevel}</Text>
          </Col>
        </Row>

        {/* Contrôles de filtre et de tri */}
        <Row gutter={[16, 16]} className="mb-6">
          <Col xs={24} sm={12}>
            <Text>Filter by Category:</Text>
            <Select
              defaultValue="All"
              style={{ width: '100%' }}
              onChange={(value) => setFilterCategory(value)}
            >
              <Option value="All">All</Option>
              <Option value="Expertise">Expertise</Option>
              <Option value="Community">Community</Option>
              <Option value="Innovation">Innovation</Option>
            </Select>
          </Col>
          <Col xs={24} sm={12}>
            <Text>Sort by Date Earned:</Text>
            <Select
              defaultValue="Newest"
              style={{ width: '100%' }}
              onChange={(value) => setSortOrder(value)}
            >
              <Option value="Newest">Newest</Option>
              <Option value="Oldest">Oldest</Option>
            </Select>
          </Col>
        </Row>

        {/* Galerie des badges */}
        {displayedBadges.length > 0 ? (
          <List
            grid={{ gutter: 16, xs: 1, sm: 2, md: 3, lg: 4, xl: 4 }}
            dataSource={displayedBadges}
            renderItem={(badge: Badge) => (
              <List.Item>
                <Card
                  hoverable
                  onClick={() => showBadgeDetails(badge)}
                  cover={
                    <img
                      alt={badge.name}
                      src={badge.icon}
                      style={{ padding: '10px', objectFit: 'contain', height: 120 }}
                    />
                  }
                >
                  <Card.Meta title={badge.name} description={badge.category} />
                </Card>
              </List.Item>
            )}
          />
        ) : (
          <Empty description="No badges earned yet." />
        )}

        {/* Modal pour afficher les détails du badge */}
        <Modal
          title={selectedBadge?.name}
          visible={modalVisible}
          onOk={() => setModalVisible(false)}
          onCancel={() => setModalVisible(false)}
          footer={null}
        >
          {selectedBadge && (
            <div>
              <img
                alt={selectedBadge.name}
                src={selectedBadge.icon}
                style={{ width: '100%', maxHeight: 150, objectFit: 'contain', marginBottom: 16 }}
              />
              <p><strong>Description:</strong> {selectedBadge.description}</p>
              <p><strong>Date Earned:</strong> {selectedBadge.dateEarned}</p>
            </div>
          )}
        </Modal>
      </div>
    </>
  );
};

EarnedBadgesDisplay.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default EarnedBadgesDisplay;

===== END ekoh\achievements-badges\earned-badges-display\page.tsx =====


===== BEGIN ekoh\dashboard\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END ekoh\dashboard\components\CommonWidget\page.tsx =====


===== BEGIN ekoh\dashboard\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END ekoh\dashboard\index.test\page.tsx =====


===== BEGIN ekoh\dashboard\page.tsx =====
'use client'

// pages/ekoh/dashboard/index.tsx
import React, { useState, useEffect } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, Statistic, Row, Col, Tabs } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import LineChart from '@/components/dashboard-components/LineChart';

const { TabPane } = Tabs;

const EkohDashboard: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  // États simulant des données utilisateur
  const [ekohScore, setEkohScore] = useState<number>(80);
  const [smartVoteWeight, setSmartVoteWeight] = useState<number>(70);
  const [badgesEarned, setBadgesEarned] = useState<number>(12);

  // Données pour le graphique de tendance (Ekoh score over time)
  const [trendData, setTrendData] = useState<Array<{ time: string; score: number }>>([
    { time: '08:00', score: 70 },
    { time: '10:00', score: 72 },
    { time: '12:00', score: 75 },
    { time: '14:00', score: 78 },
    { time: '16:00', score: 80 },
    { time: '18:00', score: 82 },
    { time: '20:00', score: 80 },
  ]);

  // Notable achievements et recent contributions (données simulées)
  const notableAchievements = [
    'Reached Expert Level 5',
    'Highest vote weight: 78%',
    'Awarded "Community Champion" badge',
  ];
  const recentContributions = [
    'Voted on Economic Reform Proposal',
    'Commented on Climate Policy Debate',
    'Shared article on Smart Voting Impact',
  ];

  // Simulation d'actualisation du graphique (optionnelle)
  useEffect(() => {
    const interval = setInterval(() => {
      // Simuler une mise à jour du score en ajoutant un nouveau point et en conservant les 7 derniers points
      const newTime = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
      const newScore = 70 + Math.floor(Math.random() * 20);
      setTrendData(prev => [...prev.slice(-6), { time: newTime, score: newScore }]);
    }, 5000);
    return () => clearInterval(interval);
  }, []);

  return (
    <>
      <Head>
        <title>Ekoh Dashboard</title>
        <meta name="description" content="Overview of your reputation and influence in the Ekoh system." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de la page */}
        <h1 className="text-2xl font-bold mb-4">Ekoh Dashboard</h1>

        {/* Overview cards */}
        <Row gutter={16} className="mb-6">
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Ekoh Score" value={ekohScore} suffix="pts" />
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Smart Vote Weight" value={smartVoteWeight} suffix="%" />
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Badges Earned" value={badgesEarned} />
            </Card>
          </Col>
        </Row>

        {/* Reputation trend chart */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-2">Reputation Trend Over Time</h2>
          {/* On transforme les données pour que le composant LineChart attende {time, value} */}
          <LineChart data={trendData.map(item => ({ time: item.time, value: item.score }))} />
        </Card>

        {/* Onglets pour les vues approfondies */}
        <Card className="mb-6">
          <Tabs defaultActiveKey="overview">
            <TabPane tab="Overview" key="overview">
              <p>This section provides an overall summary of your reputation, voting influence, expertise, and badges.</p>
            </TabPane>
            <TabPane tab="Voting Influence" key="votingInfluence">
              <p>Detailed view on your Smart Vote weight and how it affects overall decisions.</p>
            </TabPane>
            <TabPane tab="Expertise" key="expertise">
              <p>Breakdown of your expertise areas and performance therein.</p>
            </TabPane>
            <TabPane tab="Badges" key="badges">
              <p>Review your earned badges and achievements in detail.</p>
            </TabPane>
          </Tabs>
        </Card>

        {/* Achievements & Recent Contributions */}
        <Row gutter={16}>
          <Col xs={24} md={12}>
            <Card title="Notable Achievements" className="mb-6">
              <ul>
                {notableAchievements.map((achievement, index) => (
                  <li key={index}>{achievement}</li>
                ))}
              </ul>
            </Card>
          </Col>
          <Col xs={24} md={12}>
            <Card title="Recent Contributions" className="mb-6">
              <ul>
                {recentContributions.map((contribution, index) => (
                  <li key={index}>{contribution}</li>
                ))}
              </ul>
            </Card>
          </Col>
        </Row>
      </div>
    </>
  );
};

EkohDashboard.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default EkohDashboard;

===== END ekoh\dashboard\page.tsx =====


===== BEGIN ekoh\expertise-areas\view-current-expertise\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END ekoh\expertise-areas\view-current-expertise\components\CommonWidget\page.tsx =====


===== BEGIN ekoh\expertise-areas\view-current-expertise\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END ekoh\expertise-areas\view-current-expertise\index.test\page.tsx =====


===== BEGIN ekoh\expertise-areas\view-current-expertise\page.tsx =====
// pages/ekoh/expertise-areas/view-current-expertise/index.tsx
import React from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, List, Progress, Tag, Typography } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title } = Typography;

// Exemple de données simulées pour l'expertise de l'utilisateur
interface Expertise {
  id: string;
  domain: string;
  proficiency: number; // en pourcentage
  contributions: number;
  lastUpdated: string; // format ISO ou date formatée
}

const expertiseData: Expertise[] = [
  {
    id: '1',
    domain: 'Economy',
    proficiency: 80,
    contributions: 45,
    lastUpdated: '2023-08-28',
  },
  {
    id: '2',
    domain: 'Politics',
    proficiency: 65,
    contributions: 30,
    lastUpdated: '2023-08-25',
  },
  {
    id: '3',
    domain: 'Technology',
    proficiency: 75,
    contributions: 38,
    lastUpdated: '2023-08-27',
  },
];

const ViewCurrentExpertise: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  return (
    <>
      <Head>
        <title>Expertise Areas</title>
        <meta name="description" content="View your recognized expertise areas along with proficiency levels and contribution details." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de la page */}
        <Title level={2}>Expertise Areas</Title>

        {/* Liste des domaines d'expertise */}
        <Card className="mb-6">
          <List
            itemLayout="vertical"
            dataSource={expertiseData}
            renderItem={(item) => (
              <List.Item key={item.id}>
                <List.Item.Meta
                  title={
                    <span>
                      {item.domain}{" "}
                      <Tag color="blue">Proficiency: {item.proficiency}%</Tag>
                    </span>
                  }
                  description={
                    <span>
                      Contributions: {item.contributions} | Last Updated: {item.lastUpdated}
                    </span>
                  }
                />
                <Progress percent={item.proficiency} status="active" />
              </List.Item>
            )}
          />
        </Card>
      </div>
    </>
  );
};

ViewCurrentExpertise.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default ViewCurrentExpertise;

===== END ekoh\expertise-areas\view-current-expertise\page.tsx =====


===== BEGIN ekoh\overview-analytics\current-ekoh-score\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END ekoh\overview-analytics\current-ekoh-score\components\CommonWidget\page.tsx =====


===== BEGIN ekoh\overview-analytics\current-ekoh-score\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END ekoh\overview-analytics\current-ekoh-score\index.test\page.tsx =====


===== BEGIN ekoh\overview-analytics\current-ekoh-score\page.tsx =====
'use client'

// pages/ekoh/overview-analytics/current-ekoh-score/index.tsx
import React, { useState, useEffect } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, Row, Col, Alert, Timeline, Table } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import {
  PieChart as RePieChart,
  Pie,
  Cell,
  Legend,
  Tooltip as ReTooltip,
  ResponsiveContainer,
  LineChart as ReLineChart,
  Line,
  XAxis,
  YAxis,
  CartesianGrid,
} from 'recharts';

const COLORS = ['#0088FE', '#00C49F', '#FFBB28'];

const CurrentEkohScore: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  // Données pour le donut chart
  const [pieData, setPieData] = useState([
    { name: 'Expertise', value: 40 },
    { name: 'Community Feedback', value: 35 },
    { name: 'Ethics', value: 25 },
  ]);

  // Données pour le graphique en ligne (historical trend)
  const [trendData, setTrendData] = useState<Array<{ date: string; score: number }>>([
    { date: '2023-08-01', score: 60 },
    { date: '2023-08-02', score: 62 },
    { date: '2023-08-03', score: 65 },
    { date: '2023-08-04', score: 67 },
    { date: '2023-08-05', score: 70 },
    { date: '2023-08-06', score: 72 },
    { date: '2023-08-07', score: 75 },
  ]);

  // Timeline : événements clés influençant le score
  const timelineData = [
    { key: '1', time: '2023-08-02', event: 'Achieved Expert Level 3' },
    { key: '2', time: '2023-08-04', event: 'Received high community feedback' },
    { key: '3', time: '2023-08-06', event: 'Ethics audit improved rating' },
  ];

  // Colonnes et données simulées pour la table des évaluations récentes
  const tableColumns = [
    { title: 'Date', dataIndex: 'date', key: 'date' },
    { title: 'Contribution Detail', dataIndex: 'detail', key: 'detail' },
  ];

  const tableData = [
    { key: '1', date: '2023-08-02', detail: 'Expert review added +4 points' },
    { key: '2', date: '2023-08-04', detail: 'Community vote increased score by +3 points' },
    { key: '3', date: '2023-08-06', detail: 'Ethics audit contributed +2 points' },
  ];

  // Optionnel : mise à jour dynamique du graphique historique
  useEffect(() => {
    const interval = setInterval(() => {
      const newDate = new Date().toISOString().split('T')[0];
      const newScore = 60 + Math.floor(Math.random() * 20);
      setTrendData(prev => [...prev.slice(-6), { date: newDate, score: newScore }]);
    }, 5000);
    return () => clearInterval(interval);
  }, []);

  return (
    <>
      <Head>
        <title>Current Ekoh Score – Overview & Analytics</title>
        <meta name="description" content="Detailed breakdown of your Ekoh score with charts, timeline, and evaluation details." />
      </Head>
      <div className="container mx-auto p-5">
        {/* Page header */}
        <h1 className="text-2xl font-bold mb-4">Current Ekoh Score – Overview & Analytics</h1>

        {/* Donut Chart Section */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">Score Breakdown</h2>
          <div style={{ width: '100%', height: 300 }}>
            <ResponsiveContainer>
              <RePieChart>
                <ReTooltip />
                <Legend verticalAlign="bottom" height={36} />
                <Pie
                  data={pieData}
                  cx="50%"
                  cy="50%"
                  innerRadius={60}
                  outerRadius={100}
                  dataKey="value"
                  paddingAngle={5}
                >
                  {pieData.map((entry, index) => (
                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
                  ))}
                </Pie>
              </RePieChart>
            </ResponsiveContainer>
          </div>
        </Card>

        {/* Historical Trend Chart */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">Historical Trend</h2>
          <div style={{ width: '100%', height: 250 }}>
            <ResponsiveContainer>
              <ReLineChart data={trendData}>
                <CartesianGrid strokeDasharray="3 3" />
                <XAxis dataKey="date" />
                <YAxis />
                <ReTooltip />
                <Line type="monotone" dataKey="score" stroke="#82ca9d" />
              </ReLineChart>
            </ResponsiveContainer>
          </div>
        </Card>

        {/* Timeline of Influencing Events */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">Key Events Influencing Your Score</h2>
          <Timeline>
            {timelineData.map(item => (
              <Timeline.Item key={item.key}>
                <strong>{item.time}</strong> - {item.event}
              </Timeline.Item>
            ))}
          </Timeline>
        </Card>

        {/* Explanation Panel */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">How Your Score is Calculated</h2>
          <Alert
            message="Score Calculation Explained"
            description="Your Ekoh score is derived from a weighted combination of your expertise level, community feedback, and ethical evaluations. This transparent approach ensures that every contribution is fairly recognized."
            type="info"
            showIcon
          />
        </Card>

        {/* Recent Evaluations Table */}
        <Card>
          <h2 className="text-xl font-semibold mb-4">Recent Evaluations Impacting Your Score</h2>
          <Table columns={tableColumns} dataSource={tableData} pagination={false} />
        </Card>
      </div>
    </>
  );
};

CurrentEkohScore.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default CurrentEkohScore;

===== END ekoh\overview-analytics\current-ekoh-score\page.tsx =====


===== BEGIN ekoh\voting-influence\current-voting-weight\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END ekoh\voting-influence\current-voting-weight\components\CommonWidget\page.tsx =====


===== BEGIN ekoh\voting-influence\current-voting-weight\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END ekoh\voting-influence\current-voting-weight\index.test\page.tsx =====


===== BEGIN ekoh\voting-influence\current-voting-weight\page.tsx =====
// pages/ekoh/voting-influence/current-voting-weight/index.tsx
import React from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, Statistic, Row, Col, Typography, List, Divider } from 'antd';
import { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Paragraph } = Typography;

// Données simulées pour le graphique comparatif
const weightComparisonData = [
  { category: 'Your Weight', weight: 70 },
  { category: 'Average Weight', weight: 50 },
  { category: 'Top Experts', weight: 90 },
];

// Données simulées pour les domaines à fort poids
const weightByDomain = [
  { domain: 'Economy', weight: '80%' },
  { domain: 'Politics', weight: '65%' },
  { domain: 'Technology', weight: '75%' },
];

const CurrentVotingWeight: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  // Poids de vote smart de l'utilisateur (exemple statique)
  const smartVoteWeight = 70; // par exemple en pourcentage

  return (
    <>
      <Head>
        <title>Current Voting Weight</title>
        <meta name="description" content="Overview of your current smart voting weight and comparison with averages." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de la page */}
        <Title level={2}>Current Voting Weight</Title>

        {/* Affichage proéminent du poids de vote */}
        <Card className="mb-6">
          <Row justify="center">
            <Col>
              <Statistic title="Smart Vote Weight" value={smartVoteWeight} suffix="%" />
            </Col>
          </Row>
        </Card>

        {/* Description explicative */}
        <Card className="mb-6">
          <Paragraph>
            Your Smart Vote weight represents your relative influence in collective decisions based on your Ekoh reputation.
            A higher percentage means that your vote carries more weight compared to the average user.
          </Paragraph>
        </Card>

        {/* Graphique comparatif */}
        <Card className="mb-6">
          <Title level={4}>Comparison with Others</Title>
          <div style={{ width: '100%', height: 300 }}>
            <ResponsiveContainer>
              <BarChart data={weightComparisonData}>
                <CartesianGrid strokeDasharray="3 3" />
                <XAxis dataKey="category" />
                <YAxis domain={[0, 100]} />
                <Tooltip />
                <Bar dataKey="weight" fill="#82ca9d" />
              </BarChart>
            </ResponsiveContainer>
          </div>
        </Card>

        {/* Liste des domaines où le poids est élevé */}
        <Card className="mb-6">
          <Title level={4}>Highest Weight by Domain</Title>
          <List
            dataSource={weightByDomain}
            renderItem={(item) => (
              <List.Item>
                <strong>{item.domain}:</strong> {item.weight}
              </List.Item>
            )}
          />
        </Card>
      </div>
    </>
  );
};

CurrentVotingWeight.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default CurrentVotingWeight;

===== END ekoh\voting-influence\current-voting-weight\page.tsx =====


===== BEGIN ethikos\admin\audit\page.tsx =====
import { PageContainer, ProTable } from '@ant-design/pro-components';
import { Tag } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchAuditLogs } from '@/services/admin';

type LogRow = {
  id: string;
  actor: string;
  action: string;
  target: string;
  severity: 'info' | 'warn' | 'critical';
  ts: string;
};

export default function AuditLogs() {
  usePageTitle('Admin · Audit Logs');

  const { data, loading } = useRequest(fetchAuditLogs);

  const columns = [
    { title: 'Time', dataIndex: 'ts', valueType: 'dateTime', width: 180, sorter: true },
    { title: 'Actor', dataIndex: 'actor', width: 120 },
    { title: 'Action', dataIndex: 'action', width: 200 },
    { title: 'Target', dataIndex: 'target', ellipsis: true },
    {
      title: 'Severity',
      dataIndex: 'severity',
      width: 120,
      render: (v: LogRow['severity']) => (
        <Tag color={v === 'critical' ? 'red' : v === 'warn' ? 'orange' : 'blue'}>{v}</Tag>
      ),
      filters: [
        { text: 'Info', value: 'info' },
        { text: 'Warn', value: 'warn' },
        { text: 'Critical', value: 'critical' },
      ],
      onFilter: (val: any, row: LogRow) => row.severity === val,
    },
  ];

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<LogRow>
        rowKey="id"
        columns={columns}
        dataSource={data?.items}
        pagination={{ pageSize: 15 }}
        search={false}
      />
    </PageContainer>
  );
}

===== END ethikos\admin\audit\page.tsx =====


===== BEGIN ethikos\admin\moderation\page.tsx =====
import { PageContainer, ProTable } from '@ant-design/pro-components';
import { Tag, Popconfirm, Button } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchModerationQueue, actOnReport } from '@/services/admin';

type Report = {
  id: string;
  content: string;
  reporter: string;
  type: 'Spam' | 'Harassment' | 'Misinformation';
  status: 'Pending' | 'Resolved';
};

export default function Moderation() {
  usePageTitle('Admin · Moderation');

  const { data, loading, mutate } = useRequest(fetchModerationQueue);

  const action = async (id: string, approve: boolean) => {
    await actOnReport(id, approve);
    mutate();
  };

  const columns = [
    { title: 'Content', dataIndex: 'content', ellipsis: true },
    { title: 'Reporter', dataIndex: 'reporter', width: 120 },
    {
      title: 'Type',
      dataIndex: 'type',
      width: 140,
      render: (v: Report['type']) => <Tag color="orange">{v}</Tag>,
    },
    {
      title: 'Status',
      dataIndex: 'status',
      width: 120,
      render: (v: Report['status']) => (
        <Tag color={v === 'Pending' ? 'gold' : 'green'}>{v}</Tag>
      ),
    },
    {
      title: 'Actions',
      width: 160,
      render: (_: any, row: Report) =>
        row.status === 'Pending' && (
          <>
            <Popconfirm title="Remove content?" onConfirm={() => action(row.id, true)}>
              <Button size="small" danger>
                Remove
              </Button>
            </Popconfirm>
            <Popconfirm title="Dismiss report?" onConfirm={() => action(row.id, false)}>
              <Button size="small" style={{ marginLeft: 8 }}>
                Dismiss
              </Button>
            </Popconfirm>
          </>
        ),
    },
  ];

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<Report>
        rowKey="id"
        columns={columns}
        dataSource={data?.items}
        pagination={{ pageSize: 10 }}
        search={false}
      />
    </PageContainer>
  );
}

===== END ethikos\admin\moderation\page.tsx =====


===== BEGIN ethikos\admin\roles\page.tsx =====
import { PageContainer, ProTable } from '@ant-design/pro-components';
import { Switch, Tag } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchRoles, toggleRole } from '@/services/admin';

type RoleRow = { id: string; name: string; userCount: number; enabled: boolean };

export default function RoleManagement() {
  usePageTitle('Admin · Role Management');

  const { data, loading, mutate } = useRequest(fetchRoles);

  const columns = [
    { title: 'Role', dataIndex: 'name', width: 200 },
    {
      title: 'Users',
      dataIndex: 'userCount',
      width: 100,
      render: (v: number) => <Tag>{v}</Tag>,
    },
    {
      title: 'Enabled',
      dataIndex: 'enabled',
      width: 120,
      render: (v: boolean, row: RoleRow) => (
        <Switch
          checked={v}
          onChange={async () => {
            await toggleRole(row.id, !v);
            mutate();
          }}
        />
      ),
    },
  ];

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<RoleRow>
        rowKey="id"
        columns={columns}
        dataSource={data?.items}
        pagination={false}
        search={false}
      />
    </PageContainer>
  );
}

===== END ethikos\admin\roles\page.tsx =====


===== BEGIN ethikos\decide\elite\page.tsx =====
import { PageContainer, ProTable, StatisticCard } from '@ant-design/pro-components';
import { Progress, Statistic } from 'antd';
import { useRequest } from 'ahooks';
import dayjs from 'dayjs';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchEliteBallots } from '@/services/decide';
import type { Ballot } from '@/types';

export default function EliteBallots() {
  usePageTitle('Decide · Elite Ballots');

  const { data, loading } = useRequest(fetchEliteBallots);

  const columns = [
    { title: 'Title', dataIndex: 'title', width: 260 },
    {
      title: 'Closes In',
      dataIndex: 'closesAt',
      width: 180,
render: (v: string) => (
  <Statistic.Countdown value={dayjs(v)} format="D[d] HH:mm:ss" />
),
    },
    {
      title: 'Turnout',
      dataIndex: 'turnout',
      width: 160,
      render: (v: number) => <Progress type="circle" percent={v} />,
    },
    { title: 'Scope', dataIndex: 'scope', width: 100 },
  ];

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<Ballot & { turnout: number }>
        rowKey="id"
        columns={columns}
        dataSource={data?.ballots}
        pagination={{ pageSize: 8 }}
        search={false}
      />
    </PageContainer>
  );
}

===== END ethikos\decide\elite\page.tsx =====


===== BEGIN ethikos\decide\methodology\page.tsx =====
import { PageContainer } from '@ant-design/pro-components';
import { Typography, Collapse, Steps, Alert } from 'antd';
import usePageTitle from '@/hooks/usePageTitle';

export default function Methodology() {
  usePageTitle('Decide · Methodology');

  return (
    <PageContainer ghost>
      <Typography.Title>How We Count Votes</Typography.Title>

      <Collapse
        items={[
          {
            key: 'weighting',
            label: '1 · Stake-weighted counting',
            children: (
              <Typography.Paragraph>
                Each ballot is tallied with quadratic weighting to dampen plutocratic influence…
              </Typography.Paragraph>
            ),
          },
          {
            key: 'verification',
            label: '2 · Identity verification',
            children: (
              <Typography.Paragraph>
                Voters authenticate via the Desjardins meritocratic ID layer…
              </Typography.Paragraph>
            ),
          },
        ]}
      />

      <Steps
        current={3}
        items={[
          { title: 'Propose' },
          { title: 'Deliberate' },
          { title: 'Vote' },
          { title: 'Audit' },
        ]}
        style={{ marginTop: 40 }}
      />

      <Alert
        type="info"
        message="Open data"
        description="Raw ballots are published (SHA-256 hashed) after a 72-hour cooling-off period."
        showIcon
        style={{ marginTop: 24 }}
      />
    </PageContainer>
  );
}

===== END ethikos\decide\methodology\page.tsx =====


===== BEGIN ethikos\decide\public\page.tsx =====
'use client'

import React, { useEffect, useState } from 'react'
import { PageContainer, ProTable } from '@ant-design/pro-components'
import { Select, Space, Input, Popconfirm, Progress, Radio, Slider } from 'antd'
import axios from 'axios'
import usePageTitle from '@/hooks/usePageTitle'

interface Category { id: number; name: string }
interface Format   { id: number; name: string }
interface PublicTopic {
  id: number
  question: string
  description?: string
  debatecategory_id: number
  responseformat_id: number
  turnout: number
  options?: string[]
  scaleLabels?: string[]
}

export default function PublicVotePage() {
  usePageTitle('Decide · Public Voting')

  const [categories, setCategories] = useState<Category[]>([])
  const [formats, setFormats]       = useState<Format[]>([])
  const [topicsData, setTopicsData] = useState<{ results: PublicTopic[]; count: number }>({ results: [], count: 0 })
  const [activeCat, setActiveCat]   = useState<number | 'all'>('all')
  const [activeFormats, setActiveFormats] = useState<number[]>([])
  const [searchTerm, setSearchTerm] = useState<string>('')
  const [page, setPage]             = useState<number>(1)
  const pageSize = 20

  // 1. Load categories & formats
  useEffect(() => {
    axios
      .get<Category[]>('/api/home/debatecategory/', { params: { is_deleted: false } })
      .then(r => setCategories(r.data))
    axios
      .get<Format[]>('/api/home/responseformat/', { params: { is_deleted: false } })
      .then(r => setFormats(r.data))
  }, [])

  // 2. Load topics with filters & pagination
  useEffect(() => {
    axios
      .get<{ results: PublicTopic[]; count: number }>('/api/home/debatetopic/', {
        params: {
          is_active: true,
          is_deleted: false,
          debatecategory_id: activeCat === 'all' ? undefined : activeCat,
          responseformat_id: activeFormats,
          search: searchTerm,
          page,
          page_size: pageSize,
          ordering: '-created_at',
        },
      })
      .then(r => setTopicsData(r.data))
  }, [activeCat, activeFormats, searchTerm, page])

  // 3. Submit a vote and refresh
  const vote = async (row: PublicTopic, value: any) => {
    await axios.post('/api/home/publicvote/', { topic_id: row.id, value })
    // refresh current page
    axios
      .get<{ results: PublicTopic[]; count: number }>('/api/home/debatetopic/', {
        params: {
          is_active: true,
          is_deleted: false,
          debatecategory_id: activeCat === 'all' ? undefined : activeCat,
          responseformat_id: activeFormats,
          search: searchTerm,
          page,
          page_size: pageSize,
          ordering: '-created_at',
        },
      })
      .then(r => setTopicsData(r.data))
  }

  // 4. Render vote input based on format
  const renderVoteInput = (row: PublicTopic) => {
    const handleChange = (e: any) => {
      const val = e?.target?.value ?? e
      vote(row, val)
    }

    switch (row.responseformat_id) {
      case 1: // binary (Yes/No)
        return (
          <Radio.Group
            options={(row.options ?? ['Yes', 'No']).map(v => ({ label: v, value: v }))}
            onChange={handleChange}
          />
        )
      case 2: // multiple choice
        return (
          <Radio.Group
            options={(row.options ?? []).map(v => ({ label: v, value: v }))}
            onChange={handleChange}
          />
        )
      case 3: // scale
        const labels = row.scaleLabels ?? ['1', '2', '3', '4', '5']
        return (
          <Space direction="vertical" size={4}>
            <Slider
              min={0}
              max={labels.length - 1}
              step={1}
              tooltip={{ formatter: idx => labels[idx] }}
              onAfterChange={handleChange}
            />
          </Space>
        )
      default:
        return null
    }
  }

  const columns = [
    { title: 'Question', dataIndex: 'question', width: 360 },
    {
      title: 'Vote',
      dataIndex: 'vote',
      render: (_: any, row: PublicTopic) => (
        <Popconfirm title="Confirm your vote?" onConfirm={() => {}}>
          {renderVoteInput(row)}
        </Popconfirm>
      ),
    },
    {
      title: 'Turnout',
      dataIndex: 'turnout',
      render: (v: number) => <Progress percent={v} size="small" />,
    },
  ]

  return (
    <PageContainer ghost>
      <Space wrap style={{ marginBottom: 16 }}>
        <Select
          placeholder="Catégorie"
          allowClear
          value={activeCat}
          onChange={val => { setActiveCat(val); setPage(1) }}
          style={{ width: 200 }}
          options={[
            { label: 'All', value: 'all' },
            ...categories.map(c => ({ label: c.name, value: c.id })),
          ]}
        />
        <Select
          mode="multiple"
          placeholder="Formats"
          value={activeFormats}
          onChange={val => { setActiveFormats(val); setPage(1) }}
          style={{ width: 200 }}
          options={formats.map(f => ({ label: f.name, value: f.id }))}
        />
        <Input.Search
          placeholder="Rechercher…"
          onSearch={val => { setSearchTerm(val); setPage(1) }}
          style={{ width: 260 }}
        />
      </Space>

      <ProTable<PublicTopic>
        rowKey="id"
        columns={columns as any}
        dataSource={topicsData.results}
        pagination={{
          total: topicsData.count,
          current: page,
          pageSize,
          onChange: setPage,
        }}
        search={false}
      />
    </PageContainer>
  )
}

===== END ethikos\decide\public\page.tsx =====


===== BEGIN ethikos\decide\results\page.tsx =====
import { PageContainer, ProTable } from '@ant-design/pro-components';
import { Tag } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchDecisionResults } from '@/services/decide';

type ResultRow = {
  id: string;
  title: string;
  scope: 'Elite' | 'Public';
  passed: boolean;
  closesAt: string;
  region: string;
};

export default function ResultsArchive() {
  usePageTitle('Decide · Results Archive');

  const { data, loading } = useRequest(fetchDecisionResults);

  const columns = [
    { title: 'Title', dataIndex: 'title', width: 260 },
    {
      title: 'Result',
      dataIndex: 'passed',
      width: 120,
      render: (v: boolean) => (
        <Tag color={v ? 'green' : 'red'}>{v ? 'PASSED' : 'REJECTED'}</Tag>
      ),
      filters: [
        { text: 'Passed', value: 'true' },
        { text: 'Rejected', value: 'false' },
      ],
      onFilter: (val: any, row: ResultRow) => String(row.passed) === val,
    },
    { title: 'Scope', dataIndex: 'scope', width: 120, filters: true },
    { title: 'Region', dataIndex: 'region', width: 140, filters: true },
    { title: 'Closed', dataIndex: 'closesAt', valueType: 'date' },
  ];

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<ResultRow>
        rowKey="id"
        columns={columns}
        dataSource={data?.items}
        pagination={{ pageSize: 10 }}
        search={false}
      />
    </PageContainer>
  );
}

===== END ethikos\decide\results\page.tsx =====


===== BEGIN ethikos\deliberate\[topic]\page.tsx =====
'use client'

import { PageContainer, ProCard } from '@ant-design/pro-components';
import { Comment, Timeline, Typography } from 'antd';
import { useRouter } from 'next/navigation';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchTopicDetail } from '@/services/deliberate';

export default function TopicDetail() {
  const { query } = useRouter();
  const topicId = query.topic as string;

  usePageTitle(`Deliberate · ${topicId}`);

  const { data, loading } = useRequest(() => fetchTopicDetail(topicId), {
    ready: !!topicId,
  });

  return (
    <PageContainer ghost loading={loading}>
      <Typography.Title level={3}>{data?.title}</Typography.Title>

      <ProCard title="Statements Thread" ghost>
        <Timeline>
          {data?.statements.map(s => (
            <Timeline.Item key={s.id}>
              <Comment
                author={s.author}
                datetime={s.createdAt}
                content={<Typography.Paragraph>{s.body}</Typography.Paragraph>}
              />
            </Timeline.Item>
          ))}
        </Timeline>
      </ProCard>
    </PageContainer>
  );
}

===== END ethikos\deliberate\[topic]\page.tsx =====


===== BEGIN ethikos\deliberate\elite\page.tsx =====
'use client'

import React from 'react';
import {
  PageContainer,
  ProCard,
  ProTable,
  StatisticCard,
  ModalForm,
  ProFormText,
  ProFormSelect,
} from '@ant-design/pro-components';
import {
  Badge,
  Button,
  Drawer,
  Empty,
  Space,
  Tag,
  Tooltip,
  message,
} from 'antd';
import { useRequest, useInterval } from 'ahooks';
import {
  PlusOutlined,
  ReloadOutlined,
  FireOutlined,
} from '@ant-design/icons';
import dayjs from 'dayjs';

import usePageTitle from '@/hooks/usePageTitle';
import {
  fetchEliteTopics,
  createEliteTopic,
  fetchTopicPreview,
} from '@/services/deliberate';
import type { Topic } from '@/types';

/* ------------------------------------------------------------------ */
/*  Derived types                                                      */
/* ------------------------------------------------------------------ */

interface TopicRow extends Topic {
  createdAt: string;
  lastActivity: string;
  hot: boolean; // computed server-side: stanceCount increased >= 20% in 24 h
}

/* ------------------------------------------------------------------ */
/*  Main component                                                     */
/* ------------------------------------------------------------------ */

export default function EliteAgora() {
  usePageTitle('Deliberate · Elite Agora');

  /* ---------- data ---------- */
  const { data, loading, refresh } = useRequest(fetchEliteTopics);
  useInterval(refresh, 60_000); // poll every minute

  /* ---------- drawer state ---------- */
  const [previewId, setPreviewId] = React.useState<string | null>(null);
  const {
    data: preview,
    loading: previewLoading,
    run: loadPreview,
  } = useRequest((id: string) => fetchTopicPreview(id), { manual: true });

  /* ---------- open drawer ---------- */
  const openPreview = (row: TopicRow) => {
    setPreviewId(row.id);
    loadPreview(row.id);
  };

  /* ---------- KPI header ---------- */
  const headerStats = [
    {
      label: 'Open topics',
      value: data?.list.length ?? 0,
    },
    {
      label: 'Avg stances / topic',
      value:
        data && data.list.length
          ? Math.round(
              data.list.reduce((sum, t) => sum + t.stanceCount, 0) /
                data.list.length,
            )
          : 0,
    },
    {
      label: 'Hot topics',
      value: data?.list.filter((t) => t.hot).length ?? 0,
    },
  ];

  /* ---------- columns ---------- */
  const columns = [
    {
      title: 'Title',
      dataIndex: 'title',
      render: (_: any, row: TopicRow) => (
        <a onClick={() => openPreview(row)}>{row.title}</a>
      ),
    },
    {
      title: 'Category',
      dataIndex: 'category',
      filters: true,
      render: (v: string) => <Tag color="geekblue">{v}</Tag>,
    },
    {
      title: 'Stances',
      dataIndex: 'stanceCount',
      sorter: true,
      align: 'right' as const,
    },
    {
      title: 'Last activity',
      dataIndex: 'lastActivity',
      valueType: 'fromNow',
    },
    {
      title: '',
      dataIndex: 'hot',
      width: 60,
      render: (v: boolean) =>
        v ? (
          <Tooltip title="Trending">
            <FireOutlined style={{ color: '#fa541c' }} />
          </Tooltip>
        ) : null,
    },
  ];

  /* ---------- render ---------- */
  return (
    <PageContainer
      ghost
      loading={loading}
      extra={
        <Space>
          <Button
            icon={<ReloadOutlined />}
            onClick={refresh}
            type="text"
            title="Refresh list"
          />
          {/* role check goes here */}
          <NewTopicButton onCreated={refresh} />
        </Space>
      }
    >
      {/* KPI summary */}
      <ProCard gutter={16} wrap style={{ marginBottom: 16 }}>
        {headerStats.map((k) => (
          <StatisticCard
            key={k.label}
            colSpan={{ xs: 24, sm: 8 }}
            statistic={{ title: k.label, value: k.value }}
          />
        ))}
      </ProCard>

      {/* list */}
      <ProTable<TopicRow>
        rowKey="id"
        columns={columns}
        dataSource={data?.list}
        search={{
          labelWidth: 90,
          filterType: 'light',
        }}
        pagination={{ pageSize: 10 }}
      />

      {/* preview drawer */}
      <Drawer
        width={520}
        open={!!previewId}
        onClose={() => setPreviewId(null)}
        title={preview?.title || 'Preview'}
      >
        {previewLoading ? (
          <Empty description="Loading…" />
        ) : preview ? (
          <>
            <p>
              <strong>Category:</strong> {preview.category}
            </p>
            <p>
              <strong>Opened:</strong>{' '}
              {dayjs(preview.createdAt).format('YYYY-MM-DD HH:mm')}
            </p>
            <h4>Latest statements</h4>
            <ul>
              {preview.latest.map((s) => (
                <li key={s.id}>
                  <em>{s.author}</em> — {s.body}
                </li>
              ))}
            </ul>
            <Button
              type="primary"
              onClick={() =>
                window.location.assign(`/ethikos/deliberate/${preview.id}`)
              }
            >
              Go to thread →
            </Button>
          </>
        ) : (
          <Empty />
        )}
      </Drawer>
    </PageContainer>
  );
}

/* ------------------------------------------------------------------ */
/*  New Topic modal                                                    */
/* ------------------------------------------------------------------ */

function NewTopicButton({ onCreated }: { onCreated: () => void }) {
  const [visible, setVisible] = React.useState(false);

  const { runAsync, loading } = useRequest(createEliteTopic, {
    manual: true,
    onSuccess: () => {
      message.success('Topic created 🎉');
      setVisible(false);
      onCreated();
    },
  });

  return (
    <>
      <Button
        icon={<PlusOutlined />}
        type="primary"
        onClick={() => setVisible(true)}
      >
        New Topic
      </Button>
      <ModalForm
        title="Create new topic"
        open={visible}
        onOpenChange={setVisible}
        onFinish={async (values) => {
          await runAsync(values);
          return true;
        }}
        submitter={{ submitButtonProps: { loading } }}
      >
        <ProFormText
          name="title"
          label="Title"
          rules={[{ required: true, min: 10 }]}
        />
        <ProFormSelect
          name="category"
          label="Category"
          options={[
            { label: 'AI Policy', value: 'AI Policy' },
            { label: 'Biotech', value: 'Biotech' },
            { label: 'Ethics', value: 'Ethics' },
          ]}
          rules={[{ required: true }]}
        />
      </ModalForm>
    </>
  );
}

===== END ethikos\deliberate\elite\page.tsx =====


===== BEGIN ethikos\deliberate\guidelines\page.tsx =====
import { PageContainer } from '@ant-design/pro-components';
import { Typography, Anchor, Divider } from 'antd';
import usePageTitle from '@/hooks/usePageTitle';

export default function Guidelines() {
  usePageTitle('Deliberate · Guidelines');

  return (
    <PageContainer ghost>
      <Anchor
        affix
        items={[
          { key: 'etiquette', href: '#etiquette', title: '1. Etiquette' },
          { key: 'evidence', href: '#evidence', title: '2. Evidence Rules' },
          { key: 'moderation', href: '#moderation', title: '3. Moderation & Appeals' },
        ]}
      />

      <Typography.Title id="etiquette" level={3}>
        1. Etiquette
      </Typography.Title>
      <Typography.Paragraph>
        • Be concise, civil, and on-topic. Personal attacks and profanity are removed.
      </Typography.Paragraph>

      <Divider />

      <Typography.Title id="evidence" level={3}>
        2. Evidence Rules
      </Typography.Title>
      <Typography.Paragraph>
        • Claims must cite peer-reviewed sources or official data. Unsupported assertions can be flagged.
      </Typography.Paragraph>

      <Divider />

      <Typography.Title id="moderation" level={3}>
        3. Moderation & Appeals
      </Typography.Title>
      <Typography.Paragraph>
        • First strike = comment hidden. Second strike = 24 h read-only. Appeals via “Request review” button.
      </Typography.Paragraph>
    </PageContainer>
  );
}

===== END ethikos\deliberate\guidelines\page.tsx =====


===== BEGIN ethikos\impact\feedback\page.tsx =====
'use client'

import { PageContainer, ProCard } from '@ant-design/pro-components';
import { List, Rate, Input, Button, Empty } from 'antd';
import { Comment } from '@ant-design/compatible';import { useRequest } from 'ahooks';
import { useState } from 'react';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchFeedback, submitFeedback } from '@/services/impact';

export default function FeedbackLoops() {
  usePageTitle('Impact · Feedback');

  const { data, loading, mutate } = useRequest(fetchFeedback);
  const [message, setMessage] = useState('');
  const [stars, setStars] = useState<number>(0);
  const [sending, setSending] = useState(false);

  const send = async () => {
    if (!message.trim()) return;
    setSending(true);
    await submitFeedback({ body: message.trim(), rating: stars || undefined });
    setMessage('');
    setStars(0);
    mutate();
    setSending(false);
  };

  return (
    <PageContainer ghost loading={loading}>
      <ProCard title="Add your feedback" ghost>
        <Rate onChange={setStars} value={stars} />
        <Input.TextArea
          rows={3}
          placeholder="Tell us what worked or what didn’t…"
          value={message}
          onChange={e => setMessage(e.target.value)}
          style={{ marginTop: 8 }}
        />
        <Button type="primary" onClick={send} loading={sending} style={{ marginTop: 8 }}>
          Submit
        </Button>
      </ProCard>

      <ProCard title="Community Feedback" ghost style={{ marginTop: 24 }}>
        {data?.items.length ? (
          <List
            dataSource={data.items}
            renderItem={f => (
              <li>
                <Comment
                  author={f.author}
                  datetime={f.createdAt}
                  content={
                    <>
                      {f.rating !== undefined && <Rate disabled value={f.rating} />}
                      <p style={{ marginTop: 4 }}>{f.body}</p>
                    </>
                  }
                />
              </li>
            )}
          />
        ) : (
          <Empty description="No feedback yet" />
        )}
      </ProCard>
    </PageContainer>
  );
}

===== END ethikos\impact\feedback\page.tsx =====


===== BEGIN ethikos\impact\outcomes\page.tsx =====
import { PageContainer, ProCard, StatisticCard } from '@ant-design/pro-components';
import { Tabs } from 'antd';
import { Line, Bar } from '@ant-design/plots';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchImpactOutcomes } from '@/services/impact';

export default function Outcomes() {
  usePageTitle('Impact · Outcomes');

  const { data, loading } = useRequest(fetchImpactOutcomes);

  return (
    <PageContainer ghost loading={loading}>
      <ProCard gutter={16} wrap>
        {data?.kpis.map(k => (
          <StatisticCard
            key={k.label}
            statistic={{ title: k.label, value: k.value, suffix: k.delta && '%' }}
          />
        ))}
      </ProCard>

      <Tabs
        items={data?.charts.map((c, i) => ({
          key: i.toString(),
          label: c.title,
          children: (
            <ProCard ghost>
              {c.type === 'line' && <Line {...c.config} />}
              {c.type === 'bar' && <Bar {...c.config} />}
            </ProCard>
          ),
        }))}
      />
    </PageContainer>
  );
}

===== END ethikos\impact\outcomes\page.tsx =====


===== BEGIN ethikos\impact\tracker\page.tsx =====
import { PageContainer, ProTable } from '@ant-design/pro-components';
import { Tag, Select } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchImpactTracker, patchImpactStatus } from '@/services/impact';

type TrackerRow = {
  id: string;
  title: string;
  owner: string;
  status: 'Planned' | 'In-Progress' | 'Completed' | 'Blocked';
  updatedAt: string;
};

export default function ImpactTracker() {
  usePageTitle('Impact · Tracker');

  const { data, loading, mutate } = useRequest(fetchImpactTracker);

  const onStatusChange = async (id: string, status: TrackerRow['status']) => {
    await patchImpactStatus(id, status);
    mutate(d => ({
      items: d!.items.map(r => (r.id === id ? { ...r, status } : r)),
    }));
  };

  const columns = [
    { title: 'Title', dataIndex: 'title', width: 260 },
    { title: 'Owner', dataIndex: 'owner', width: 160 },
    {
      title: 'Status',
      dataIndex: 'status',
      width: 160,
      render: (v: TrackerRow['status'], row: TrackerRow) => (
        <Select
          value={v}
          options={[
            { value: 'Planned', label: 'Planned' },
            { value: 'In-Progress', label: 'In-Progress' },
            { value: 'Completed', label: 'Completed' },
            { value: 'Blocked', label: 'Blocked' },
          ]}
          onChange={val => onStatusChange(row.id, val)}
        />
      ),
    },
    { title: 'Updated', dataIndex: 'updatedAt', valueType: 'fromNow', sorter: true },
  ];

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<TrackerRow>
        rowKey="id"
        columns={columns}
        dataSource={data?.items}
        pagination={{ pageSize: 12 }}
        search={false}
      />
    </PageContainer>
  );
}

===== END ethikos\impact\tracker\page.tsx =====


===== BEGIN ethikos\learn\changelog\page.tsx =====
import { PageContainer } from '@ant-design/pro-components';
import { Timeline, Tag } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchChangelog } from '@/services/learn';

export default function Changelog() {
  usePageTitle('Learn · Changelog');

  const { data, loading } = useRequest(fetchChangelog);

  return (
    <PageContainer ghost loading={loading}>
      <Timeline>
        {data?.entries.map(e => (
          <Timeline.Item key={e.version} label={e.date}>
            <strong>{e.version}</strong>{' '}
            {e.tags.map(t => (
              <Tag key={t} color={t === 'NEW' ? 'green' : t === 'FIX' ? 'blue' : 'default'}>
                {t}
              </Tag>
            ))}
            <ul style={{ marginTop: 4 }}>
              {e.notes.map((n: string, i: number) => (
                <li key={i}>{n}</li>
              ))}
            </ul>
          </Timeline.Item>
        ))}
      </Timeline>
    </PageContainer>
  );
}

===== END ethikos\learn\changelog\page.tsx =====


===== BEGIN ethikos\learn\glossary\page.tsx =====
'use client'

import { PageContainer, ProTable } from '@ant-design/pro-components';
import { Input } from 'antd';
import { useState } from 'react';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchGlossary } from '@/services/learn';

type Term = { id: string; term: string; definition: string };

export default function Glossary() {
  usePageTitle('Learn · Glossary');

  const { data, loading } = useRequest(fetchGlossary);
  const [query, setQuery] = useState('');

  const columns = [
    { title: 'Term', dataIndex: 'term', width: 200 },
    { title: 'Definition', dataIndex: 'definition' },
  ];

  const filtered = data?.items.filter(
    (t: Term) => t.term.toLowerCase().includes(query.toLowerCase()),
  );

  return (
    <PageContainer ghost loading={loading}>
      <Input.Search
        placeholder="Search term…"
        allowClear
        style={{ marginBottom: 16, maxWidth: 320 }}
        onChange={e => setQuery(e.target.value)}
      />

      <ProTable<Term>
        rowKey="id"
        columns={columns}
        dataSource={filtered}
        pagination={{ pageSize: 20 }}
        search={false}
      />
    </PageContainer>
  );
}

===== END ethikos\learn\glossary\page.tsx =====


===== BEGIN ethikos\learn\guides\page.tsx =====
import { PageContainer } from '@ant-design/pro-components';
import { Collapse, Anchor, Typography } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchGuides } from '@/services/learn';

export default function Guides() {
  usePageTitle('Learn · Guides');

  const { data, loading } = useRequest(fetchGuides);

  return (
    <PageContainer ghost loading={loading}>
      <Anchor
        affix
        items={data?.sections.map(s => ({
          key: s.id,
          href: `#${s.id}`,
          title: s.title,
        }))}
      />

      <Collapse
        accordion
        items={data?.sections.map(s => ({
          key: s.id,
          label: <Typography.Text id={s.id}>{s.title}</Typography.Text>,
          children: <Typography.Paragraph>{s.content}</Typography.Paragraph>,
        }))}
      />
    </PageContainer>
  );
}

===== END ethikos\learn\guides\page.tsx =====


===== BEGIN ethikos\pulse\health\page.tsx =====
import { PageContainer, ProCard } from '@ant-design/pro-components';
import { Pie, Radar } from '@ant-design/plots';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchPulseHealth } from '@/services/pulse';

export default function PulseHealth() {
  usePageTitle('Pulse · Participation Health');

  const { data, loading } = useRequest(fetchPulseHealth);

  return (
    <PageContainer ghost loading={loading}>
      <ProCard gutter={16} wrap>
        <ProCard colSpan={12} title="Diversity Radar">
          <Radar {...data?.radarConfig} />
        </ProCard>

        <ProCard colSpan={12} title="Ethics Score Breakdown">
          <Pie {...data?.pieConfig} />
        </ProCard>
      </ProCard>
    </PageContainer>
  );
}

===== END ethikos\pulse\health\page.tsx =====


===== BEGIN ethikos\pulse\live\page.tsx =====
import { PageContainer, ProCard, StatisticCard } from '@ant-design/pro-components';
import { Badge, Space } from 'antd';
import { useInterval, useRequest } from 'ahooks';
import ChartCard from '@/components/charts/ChartCard';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchPulseLiveData } from '@/services/pulse';   // ← correct import

export default function PulseLive() {
  usePageTitle('Pulse · Live Metrics');

  // custom hook (polls every 20 s)
  const { data, loading, refresh } = usePulseLive(true);

  // manual refresh safety-net
  useInterval(refresh, 20_000);

  return (
    <PageContainer ghost loading={loading}>
      <ProCard gutter={16} wrap>
        {data?.counters.map(c => (
          <StatisticCard
            key={c.label}
            statistic={{
              title: (
                <Space>
                  {c.label}
                  <Badge status={c.trend > 0 ? 'success' : c.trend < 0 ? 'error' : 'default'} />
                </Space>
              ),
              value: c.value,
              precision: 0,
            }}
            chart={<ChartCard type="tinyLine" data={c.history} height={50} />}
          />
        ))}
      </ProCard>
    </PageContainer>
  );
}

/* ------------------------------------------------------------------ */
/*  Local data-fetching hook                                           */
/* ------------------------------------------------------------------ */
function usePulseLive(polling = false) {
  return useRequest(fetchPulseLiveData, {
    pollingInterval: polling ? 20_000 : undefined,
  });
}

===== END ethikos\pulse\live\page.tsx =====


===== BEGIN ethikos\pulse\overview\page.tsx =====
// pages/ethikos/pulse/overview.tsx
import {
  PageContainer,
  ProCard,
  StatisticCard,
} from '@ant-design/pro-components';
import { Badge, Button, Empty, Skeleton, Space, Tooltip } from 'antd';
import { SyncOutlined, ClockCircleOutlined } from '@ant-design/icons';
import { useRequest } from 'ahooks';
import dayjs from 'dayjs';

import ChartCard from '@/components/charts/ChartCard';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchPulseOverview } from '@/services/pulse';

/* ------------------------------------------------------------------ */
/*  Data-fetching hook                                                 */
/* ------------------------------------------------------------------ */

function usePulseOverview() {
  const req = useRequest(fetchPulseOverview, { refreshDeps: [] });
  return req;
}

/* ------------------------------------------------------------------ */
/*  Main component                                                     */
/* ------------------------------------------------------------------ */

export default function PulseOverview() {
  usePageTitle('Pulse · Overview');

  const { data, loading, error, refresh } = usePulseOverview();
  const lastUpdated = data ? dayjs(data.refreshedAt).format('HH:mm:ss') : null;

  /* ---------- loading skeleton ---------- */
  if (loading && !data) {
    return (
      <PageContainer ghost>
        <Skeleton active />
      </PageContainer>
    );
  }

  /* ---------- error state ---------- */
  if (error) {
    return (
      <PageContainer ghost>
        <Empty
          description="Failed to load metrics"
          image={Empty.PRESENTED_IMAGE_SIMPLE}
        >
          <Button icon={<SyncOutlined />} onClick={refresh}>
            Retry
          </Button>
        </Empty>
      </PageContainer>
    );
  }

  /* ---------- empty state ---------- */
  if (data && data.kpis.length === 0) {
    return (
      <PageContainer ghost>
        <Empty description="No KPI data yet" />
      </PageContainer>
    );
  }

  /* ---------- happy path ---------- */
  return (
    <PageContainer
      ghost
      extra={
        <Space>
          {lastUpdated && (
            <Badge
              count={
                <Tooltip title={`Last refreshed at ${lastUpdated}`}>
                  <ClockCircleOutlined style={{ color: '#52c41a' }} />
                </Tooltip>
              }
            />
          )}
          <Button
            icon={<SyncOutlined />}
            onClick={refresh}
            size="small"
            type="text"
          />
        </Space>
      }
    >
      <ProCard gutter={[16, 16]} wrap>
        {data!.kpis.map((kpi) => (
          <StatisticCard
            key={kpi.label}
            colSpan={{
              xs: 24,
              sm: 12,
              md: 12,
              lg: 6,
            }}
            statistic={{
              title: kpi.label,
              value: kpi.value,
              suffix: kpi.delta !== undefined ? '%' : undefined,
              description:
                kpi.delta !== undefined ? (
                  <span
                    style={{
                      color: kpi.delta >= 0 ? '#3f8600' : '#cf1322',
                    }}
                  >
                    {kpi.delta >= 0 ? '▲' : '▼'} {Math.abs(kpi.delta)}%
                  </span>
                ) : null,
            }}
            chart={
              <ChartCard
                type="area"
                height={60}
                data={kpi.history.map((h) => ({
                  x: h.date,
                  y: h.value,
                }))}
                tooltip={{
                  formatter: (datum: any) =>
                    `${dayjs(datum.x).format('MMM D')}: ${datum.y}`,
                }}
              />
            }
          />
        ))}
      </ProCard>
    </PageContainer>
  );
}

===== END ethikos\pulse\overview\page.tsx =====


===== BEGIN ethikos\pulse\trends\page.tsx =====
import { PageContainer, ProCard } from '@ant-design/pro-components';
import { Tabs } from 'antd';
import { useRequest } from 'ahooks';
import { Line, Area, Heatmap } from '@ant-design/plots';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchPulseTrends } from '@/services/pulse';

export default function PulseTrends() {
  usePageTitle('Pulse · Trends');

  const { data, loading } = useRequest(fetchPulseTrends);

  return (
    <PageContainer ghost loading={loading}>
      <Tabs
        items={data?.charts.map((c, idx) => ({
          key: idx.toString(),
          label: c.title,
          children: (
            <ProCard ghost>
              {c.type === 'line' && <Line {...c.config} />}
              {c.type === 'area' && <Area {...c.config} />}
              {c.type === 'heatmap' && <Heatmap {...c.config} />}
            </ProCard>
          ),
        }))}
      />
    </PageContainer>
  );
}

===== END ethikos\pulse\trends\page.tsx =====


===== BEGIN ethikos\trust\badges\page.tsx =====
import { PageContainer, ProCard } from '@ant-design/pro-components';
import { Badge, Card, Progress, Tooltip } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchUserBadges } from '@/services/trust';

export default function Badges() {
  usePageTitle('Trust · Badges');

  const { data, loading } = useRequest(fetchUserBadges);

  return (
    <PageContainer ghost loading={loading}>
      <ProCard gutter={16} wrap>
        {data?.earned.map(b => (
          <Badge.Ribbon text="Earned" color="green" key={b.id}>
            <Card title={b.name} style={{ width: 220, marginBottom: 16 }}>
              <p>{b.desc}</p>
            </Card>
          </Badge.Ribbon>
        ))}

        {data?.progress.map(p => (
          <Tooltip title={`${p.current}/${p.required}`} key={p.id}>
            <Card title={p.name} bordered={false} style={{ width: 220, marginBottom: 16 }}>
              <Progress percent={Math.round((p.current / p.required) * 100)} />
            </Card>
          </Tooltip>
        ))}
      </ProCard>
    </PageContainer>
  );
}

===== END ethikos\trust\badges\page.tsx =====


===== BEGIN ethikos\trust\credentials\page.tsx =====
'use client'

import { PageContainer } from '@ant-design/pro-components';
import { Upload, Button, Result } from 'antd';
import { InboxOutlined } from '@ant-design/icons';
import { useState } from 'react';
import usePageTitle from '@/hooks/usePageTitle';
import { uploadCredential } from '@/services/trust';

export default function Credentials() {
  usePageTitle('Trust · Credentials');

  const [done, setDone] = useState(false);

  const props = {
    name: 'file',
    multiple: false,
    customRequest: async ({ file, onSuccess, onError }: any) => {
      try {
        await uploadCredential(file as File);
        onSuccess('ok');
        setDone(true);
      } catch {
        onError();
      }
    },
  };

  return (
    <PageContainer ghost>
      {done ? (
        <Result
          status="success"
          title="Document uploaded!"
          subTitle="Your credential is pending verification."
          extra={<Button type="primary" onClick={() => setDone(false)}>Upload another</Button>}
        />
      ) : (
        <Upload.Dragger {...props} accept=".pdf,.jpg,.png">
          <p className="ant-upload-drag-icon">
            <InboxOutlined />
          </p>
          <p className="ant-upload-text">Click or drag file to this area to upload</p>
          <p className="ant-upload-hint">Supported: PDF / JPG / PNG &nbsp;·&nbsp; Max 5 MB</p>
        </Upload.Dragger>
      )}
    </PageContainer>
  );
}

===== END ethikos\trust\credentials\page.tsx =====


===== BEGIN ethikos\trust\profile\page.tsx =====
import { PageContainer, ProCard } from '@ant-design/pro-components';
import { Avatar, Descriptions, Tag, Timeline } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchUserProfile } from '@/services/trust';

export default function MyProfile() {
  usePageTitle('Trust · My Profile');

  const { data, loading } = useRequest(fetchUserProfile);

  return (
    <PageContainer ghost loading={loading}>
      <ProCard split="vertical">
        <ProCard colSpan="25%">
          <Avatar size={120} src={data?.avatar} />
          <Descriptions size="small" column={1} style={{ marginTop: 16 }}>
            <Descriptions.Item label="Name">{data?.name}</Descriptions.Item>
            <Descriptions.Item label="Joined">{data?.joined}</Descriptions.Item>
            <Descriptions.Item label="Reputation">
              <Tag color="blue">{data?.score}</Tag>
            </Descriptions.Item>
          </Descriptions>
        </ProCard>
        <ProCard title="Recent Activity" ghost>
          <Timeline>
            {data?.activity.map(a => (
              <Timeline.Item key={a.id}>
                {a.when} · {a.text}
              </Timeline.Item>
            ))}
          </Timeline>
        </ProCard>
      </ProCard>
    </PageContainer>
  );
}

===== END ethikos\trust\profile\page.tsx =====


===== BEGIN global\components\AppShell.tsx =====
﻿"use client";
import React, { PropsWithChildren } from "react";
import { Layout } from "antd";

/** Light-weight wrapper that gives every page a top‑nav + centred body. */
export default function AppShell({ children }: PropsWithChildren) {
  return (
    <Layout style={{ minHeight: "100vh" }}>
      <Layout.Header className="text-white text-lg font-semibold px-8">
        Konnaxion
      </Layout.Header>
      <Layout.Content className="p-8 max-w-5xl w-full mx-auto">
        {children}
      </Layout.Content>
    </Layout>
  );
}

===== END global\components\AppShell.tsx =====


===== BEGIN global\components\GlobalSearchBar.tsx =====
// File: modules/global/components/GlobalSearchBar.tsx
'use client'

import React, { useState } from 'react'
import { Input } from 'antd'
import { useRouter, useSearchParams } from 'next/navigation'

export function GlobalSearchBar() {
  const [q, setQ] = useState(useSearchParams().get('q') ?? '')
  const router = useRouter()

  const onSearch = (value: string) => {
    if (value.trim()) {
      router.push(`/search?q=${encodeURIComponent(value.trim())}`)
    }
  }

  return (
    <Input.Search
      placeholder="Search…"
      value={q}
      onChange={e => setQ(e.target.value)}
      onSearch={onSearch}
      enterButton
      style={{ maxWidth: 400 }}
    />
  )
}

===== END global\components\GlobalSearchBar.tsx =====


===== BEGIN global\components\index.ts =====
﻿export { default as AppShell        } from "./AppShell";

===== END global\components\index.ts =====


===== BEGIN global\hooks\index.ts =====
﻿export { default as useGlobalSearch } from './useGlobalSearch';

===== END global\hooks\index.ts =====


===== BEGIN global\hooks\useGlobalSearch.ts =====
﻿import { useQuery } from "@tanstack/react-query";
import { api } from "@/shared/api";

export interface GlobalSearchResult {
  id: string;
  title: string;
  snippet: string;
  path: string;
}

/** Client‑side search against GET /api/search?q=… */
export default function useGlobalSearch(query: string) {
  return useQuery<GlobalSearchResult[], Error>({
    queryKey: ["global-search", query],
    queryFn: async () =>
      (await api.get<GlobalSearchResult[]>("/api/search", { params: { q: query } })).data,
    enabled: Boolean(query),
    staleTime: 60_000,
    retry: 1,
  });
}

===== END global\hooks\useGlobalSearch.ts =====


===== BEGIN global\pages\index.ts =====
export { default as MyWork } from './MyWork';
export { default as Search } from './Search';

===== END global\pages\index.ts =====


===== BEGIN global\pages\MyWork.tsx =====
"use client";
import AppShell from "../components/AppShell";

export default function MyWork() {
  return (
    <AppShell>
      <h1 className="text-xl font-semibold mb-4">My work</h1>
      <p>Coming soon…</p>
    </AppShell>
  );
}

===== END global\pages\MyWork.tsx =====


===== BEGIN global\pages\Search.tsx =====
"use client";
import { useSearchParams } from "next/navigation";
import { Alert, List, Spin } from "antd";
import AppShell from "@/global/components/AppShell";
import useGlobalSearch, { GlobalSearchResult } from "@/global/hooks/useGlobalSearch";

export default function GlobalSearchPage() {
  const q = useSearchParams().get("q") ?? "";
  const { data, isLoading, isError, error } = useGlobalSearch(q);

  return (
    <AppShell>
      {isLoading && <Spin />}
      {isError && <Alert message={error.message} type="error" />}
      {data && (
        <List<GlobalSearchResult>
          itemLayout="vertical"
          dataSource={data}
          renderItem={(item) => (
            <List.Item key={item.id}>
              <List.Item.Meta
                title={<a href={item.path}>{item.title}</a>}
                description={item.snippet}
              />
            </List.Item>
          )}
        />
      )}
    </AppShell>
  );
}

===== END global\pages\Search.tsx =====


===== BEGIN insights\components\__stories__\SmartVoteChart.stories.tsx =====
import SmartVoteChart from '../SmartVoteChart';

export default {
  title: 'Insights/SmartVoteChart',
  component: SmartVoteChart,
};

export const Basic = {
  args: {
    labels: ['Option 1', 'Option 2'],
    votes: [42, 23],
    scores: [1.3, 2.1],
  },
};

===== END insights\components\__stories__\SmartVoteChart.stories.tsx =====


===== BEGIN insights\components\DomainHeatMap.tsx =====
export default function DomainHeatMap() {
  return (
    <div style={{ minHeight: 300, display: "flex", alignItems: "center", justifyContent: "center", color: "#bbb" }}>
      {/* TODO: Implement heatmap with Chart.js or another library */}
      <em>Heatmap chart not available (react-chartjs-2-heatmap does not exist)</em>
    </div>
  );
}

===== END insights\components\DomainHeatMap.tsx =====


===== BEGIN insights\components\ErrorRateSparkline.tsx =====
"use client";
import {
  Chart as ChartJS,
  LineElement,
  CategoryScale,
  LinearScale,
  Tooltip,
} from "chart.js";
import { Line } from "react-chartjs-2";
ChartJS.register(LineElement, CategoryScale, LinearScale, Tooltip);

export default function ErrorRateSparkline({
  labels,
  rates,
}: {
  labels: string[];
  rates: number[];
}) {
  const data = {
    labels,
    datasets: [
      {
        data: rates,
        fill: false,
        tension: 0.3,
        borderWidth: 2,
      },
    ],
  };
  return <Line data={data} options={{ plugins: { legend: { display: false } } }} />;
}


===== END insights\components\ErrorRateSparkline.tsx =====


===== BEGIN insights\components\ExportCSVButton.tsx =====
"use client";
import { Button } from "antd";
import { DownloadOutlined } from "@ant-design/icons";
import { downloadCsv } from "@/shared/downloadCsv";

export default function ExportCSVButton({
  endpoint,
  params,
}: {
  endpoint: string;
  params?: Record<string, unknown>;
}) {
  return (
    <Button
      type="primary"
      icon={<DownloadOutlined />}
      onClick={() => downloadCsv(endpoint, params)}
    >
      Export CSV
    </Button>
  );
}

===== END insights\components\ExportCSVButton.tsx =====


===== BEGIN insights\components\index.ts =====
﻿export { default as SmartVoteChart } from './SmartVoteChart';
export { default as DomainHeatMap }  from './DomainHeatMap';

===== END insights\components\index.ts =====


===== BEGIN insights\components\LatencySLOGauge.tsx =====
"use client";
import {
  Chart as ChartJS,
  ArcElement,
  Tooltip,
  Legend,
} from "chart.js";
import { Doughnut } from "react-chartjs-2";
ChartJS.register(ArcElement, Tooltip, Legend);

export default function LatencySLOGauge({
  valueMs,
  sloMs,
}: {
  valueMs: number;
  sloMs: number;
}) {
  const pct = Math.min(100, (valueMs / sloMs) * 100);
  const data = {
    labels: ["Latency", "Budget"],
    datasets: [
      {
        data: [pct, 100 - pct],
        backgroundColor: ["#3b82f6", "#e5e7eb"],
        borderWidth: 0,
      },
    ],
  };
  return (
    <div className="w-48">
      <Doughnut data={data} options={{ cutout: "70%" }} />
      <p className="text-center -mt-14 text-xl font-semibold">{valueMs} ms</p>
    </div>
  );
}


===== END insights\components\LatencySLOGauge.tsx =====


===== BEGIN insights\components\SmartVoteChart.tsx =====
"use client";
import {
  Chart as ChartJS,
  BarElement,
  LineElement,
  CategoryScale,
  LinearScale,
  Tooltip,
  Legend,
  ChartDataset,
} from "chart.js";
import { Chart } from "react-chartjs-2";

ChartJS.register(
  BarElement,
  LineElement,
  CategoryScale,
  LinearScale,
  Tooltip,
  Legend,
);

type Props = {
  labels: string[];
  votes: number[];
  scores: number[];
};

export default function SmartVoteChart({ labels, votes, scores }: Props) {
  const data = {
    labels,
    datasets: [
      {
        type: "bar" as const,
        label: "Votes",
        data: votes,
        yAxisID: "y",
      } as ChartDataset<"bar", number[]>,
      {
        type: "line" as const,
        label: "Avg Score",
        data: scores,
        yAxisID: "y1",
      } as ChartDataset<"line", number[]>,
    ],
  };
  const options = {
    responsive: true,
    interaction: { mode: "index" as const, intersect: false },
    scales: {
      y: { beginAtZero: true },
      y1: { beginAtZero: true, position: "right" as const },
    },
  };
  return <Chart type="bar" data={data} options={options} />;
}

===== END insights\components\SmartVoteChart.tsx =====


===== BEGIN insights\components\TimeRangePicker.tsx =====
"use client";
import { DatePicker } from "antd";
import dayjs from "dayjs";

type Range = [dayjs.Dayjs, dayjs.Dayjs];

export default function TimeRangePicker({
  value,
  onChange,
}: {
  value: Range;
  onChange: (val: Range) => void;
}) {
  return (
    <DatePicker.RangePicker
      className="mb-6"
      value={value}
      onChange={(val) => onChange(val as Range)}
      allowClear={false}
    />
  );
}


===== END insights\components\TimeRangePicker.tsx =====


===== BEGIN insights\components\UsageBigNumbers.tsx =====

type Item = { label: string; value: number };

export default function UsageBigNumbers({ items }: { items: Item[] }) {
  return (
    <div className="grid grid-cols-3 gap-6">
      {items.map((it) => (
        <div key={it.label} className="p-6 bg-white rounded shadow">
          <div className="text-3xl font-bold">{it.value.toLocaleString()}</div>
          <div className="text-gray-500">{it.label}</div>
        </div>
      ))}
    </div>
  );
}

===== END insights\components\UsageBigNumbers.tsx =====


===== BEGIN insights\hooks\__tests__\useReport.test.tsx =====
import { renderHook, waitFor } from '@testing-library/react';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { useReport } from '../useReport';

// ── mock the shared api instance (relative path = 3 levels up) ────────────────
jest.mock('../../../../shared/api', () => ({
  api: {
    get: jest.fn().mockResolvedValue({
      data: { labels: ['A'], votes: [10], avg_score: [0.7] },
    }),
  },
}));
// ──────────────────────────────────────────────────────────────────────────────

const qc = new QueryClient({ defaultOptions: { queries: { retry: false } } });

test('returns mocked report data', async () => {
  const { result } = renderHook(
    () => useReport('smart-vote', { range: '7d' }),
    { wrapper: ({ children }) => <QueryClientProvider client={qc}>{children}</QueryClientProvider> }
  );

  // initial React-Query status is 'pending'
  expect(result.current.status).toBe('pending');

  // wait until data arrives
  await waitFor(() => expect(result.current.data).toBeDefined());

  expect(result.current.data?.votes).toEqual([10]);
});

===== END insights\hooks\__tests__\useReport.test.tsx =====


===== BEGIN insights\hooks\index.ts =====
﻿export { default as useReport }       from './useReport';
export { default as useReportStream } from './useReportStream';

===== END insights\hooks\index.ts =====


===== BEGIN insights\hooks\useReport.ts =====

import { useQuery } from "@tanstack/react-query";
import { api } from "@/shared/api";

type SmartVoteResp = { labels: string[]; votes: number[]; avg_score: number[] };
type UsageResp = { labels: string[]; mau: number[]; projects: number[]; docs: number[] };
type PerfResp = { labels: string[]; p95_latency: number[]; error_rate: number[] };

type EndpointMap = {
  "smart-vote": SmartVoteResp;
  usage: UsageResp;
  perf: PerfResp;
};

export function useReport<E extends keyof EndpointMap>(
  endpoint: E,
  params?: Record<string, unknown>,
) {
  return useQuery<EndpointMap[E]>({
    queryKey: [endpoint, params],
    queryFn: async () =>
      (await api.get(`/reports/${endpoint}`, { params })).data,
    staleTime: 300_000,
  });
}

===== END insights\hooks\useReport.ts =====


===== BEGIN insights\hooks\useReportStream.ts =====
import { useEffect } from "react";
import { io } from "socket.io-client";

export default function useReportStream() {
  useEffect(() => {
    const socket = io("/api/reports");
    // ... listen to events
    return () => {
      socket.disconnect();
    };
  }, []);
}

===== END insights\hooks\useReportStream.ts =====


===== BEGIN insights\pages\CustomBuilderPage.tsx =====
"use client"; 
import MainLayout from "@/shared/layout/MainLayout";
import useReportStream from "../hooks/useReportStream";

export default function CustomBuilderPage() {
  const live = useReportStream();

  return (
    <MainLayout>
      <h1 className="mb-6 text-xl font-semibold">Custom report builder</h1>
      <pre className="bg-gray-100 p-4 rounded text-sm overflow-x-auto">
        {JSON.stringify(live ?? {}, null, 2)}
      </pre>
    </MainLayout>
  );
}

===== END insights\pages\CustomBuilderPage.tsx =====


===== BEGIN insights\pages\index.ts =====
export { default as CustomBuilderPage } from './CustomBuilderPage';
export { default as InsightsHomePage } from './InsightsHomePage';
export { default as PerfDashboard } from './PerfDashboard';
export { default as SmartVoteDashboard } from './SmartVoteDashboard';
export { default as UsageDashboard } from './UsageDashboard';

===== END insights\pages\index.ts =====


===== BEGIN insights\pages\InsightsHomePage.tsx =====

import MainLayout from "@/shared/layout/MainLayout";
import Link from "next/link";

export default function InsightsHomePage() {
  const links = [
    ["smart-vote", "Smart-Vote dashboard"],
    ["usage", "Usage dashboard"],
    ["perf", "Performance dashboard"],
    ["custom", "Custom report builder"],
  ];
  return (
    <MainLayout>
      <h1 className="mb-6 text-xl font-semibold">Insights</h1>
      <ul className="space-y-4 text-blue-600 underline">
        {links.map(([slug, label]) => (
          <li key={slug}>
            <Link href={`/reports/${slug}`}>{label}</Link>
          </li>
        ))}
      </ul>
    </MainLayout>
  );
}

===== END insights\pages\InsightsHomePage.tsx =====


===== BEGIN insights\pages\PerfDashboard.tsx =====
"use client"; 
import MainLayout from "@/shared/layout/MainLayout";
import { useReport } from "../hooks/useReport";
import LatencySLOGauge from "../components/LatencySLOGauge";
import ErrorRateSparkline from "../components/ErrorRateSparkline";

export default function PerfDashboard() {
  const { data, isLoading } = useReport("perf", { range: "24h" });

  if (isLoading || !data) {
    return (
      <MainLayout>
        <p>Loading…</p>
      </MainLayout>
    );
  }

  return (
    <MainLayout>
      <h2 className="mb-4 font-semibold">Latency (p95 vs SLO)</h2>
      <LatencySLOGauge valueMs={data.p95_latency.at(-1) ?? 0} sloMs={300} />

      <h2 className="mt-10 mb-4 font-semibold">Error Rate</h2>
      <ErrorRateSparkline labels={data.labels} rates={data.error_rate} />
    </MainLayout>
  );
}

===== END insights\pages\PerfDashboard.tsx =====


===== BEGIN insights\pages\SmartVoteDashboard.tsx =====
"use client"; 
import { useState } from "react";
import dayjs from "dayjs";

import MainLayout from "@/shared/layout/MainLayout";
import { useReport } from "../hooks/useReport";
import SmartVoteChart from "../components/SmartVoteChart";
import TimeRangePicker from "../components/TimeRangePicker";
import ExportCSVButton from "../components/ExportCSVButton";

export default function SmartVoteDashboard() {
  const [range, setRange] = useState<[dayjs.Dayjs, dayjs.Dayjs]>([
    dayjs().subtract(30, "day"),
    dayjs(),
  ]);

  const params = { from: range[0].toISOString(), to: range[1].toISOString() };
  const { data, isLoading } = useReport("smart-vote", params);

  return (
    <MainLayout>
      <div className="flex items-center justify-between mb-6">
        <TimeRangePicker value={range} onChange={setRange} />
        <ExportCSVButton endpoint="smart-vote" params={params} />
      </div>

      {isLoading || !data ? (
        <p>Loading…</p>
      ) : (
        <SmartVoteChart
          labels={data.labels}
          votes={data.votes}
          scores={data.avg_score}
        />
      )}
    </MainLayout>
  );
}

===== END insights\pages\SmartVoteDashboard.tsx =====


===== BEGIN insights\pages\UsageDashboard.tsx =====
"use client"; 
import MainLayout from "@/shared/layout/MainLayout";
import { useReport } from "../hooks/useReport";
import UsageBigNumbers from "../components/UsageBigNumbers";

export default function UsageDashboard() {
  const { data, isLoading } = useReport("usage");

  if (isLoading || !data) {
    return (
      <MainLayout>
        <p>Loading…</p>
      </MainLayout>
    );
  }

  const items = [
    { label: "Monthly Active Users", value: data.mau.at(-1) ?? 0 },
    { label: "Projects", value: data.projects.at(-1) ?? 0 },
    { label: "Docs Indexed", value: data.docs.at(-1) ?? 0 },
  ];

  return (
    <MainLayout>
      <UsageBigNumbers items={items} />
    </MainLayout>
  );
}

===== END insights\pages\UsageDashboard.tsx =====


===== BEGIN keenkonnect\ai-team-matching\find-teams\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\ai-team-matching\find-teams\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\ai-team-matching\find-teams\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\ai-team-matching\find-teams\index.test\page.tsx =====


===== BEGIN keenkonnect\ai-team-matching\find-teams\page.tsx =====
'use client'

// pages/keenkonnect/ai-team-matching/find-teams/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, List, Input, Select, Button, Drawer, Row, Col, Tag, Divider } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Search } = Input;
const { Option } = Select;

interface Team {
  id: string;
  name: string;
  description: string;
  matchReason: string;
  domain: string;
  teamSize: number;
  isOpen: boolean;
  members: string[]; // liste des membres ou noms pour affichage dans le Drawer
}

// Exemple de données simulées pour les équipes recommandées
const sampleTeams: Team[] = [
  {
    id: '1',
    name: 'AI Innovators',
    description: 'A team focused on cutting-edge AI projects and research.',
    matchReason: 'Your skills in AI match this project’s needs.',
    domain: 'Technology',
    teamSize: 5,
    isOpen: true,
    members: ['Alice', 'Bob', 'Charlie'],
  },
  {
    id: '2',
    name: 'Data Wizards',
    description: 'Experts in data science and machine learning working on real-world challenges.',
    matchReason: 'Your expertise in data analytics is a perfect fit.',
    domain: 'Data Science',
    teamSize: 8,
    isOpen: false,
    members: ['Diana', 'Edward', 'Fiona', 'George'],
  },
  {
    id: '3',
    name: 'Robotics R&D',
    description: 'A collaborative group diving into the robotics innovations.',
    matchReason: 'Your background in robotics aligns with the team’s focus.',
    domain: 'Engineering',
    teamSize: 6,
    isOpen: true,
    members: ['Hugo', 'Ivy', 'Jack'],
  },
];

const FindTeams: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  
  // États pour la recherche et les filtres
  const [searchText, setSearchText] = useState('');
  const [selectedDomain, setSelectedDomain] = useState<string>('All');
  const [selectedTeamSize, setSelectedTeamSize] = useState<string>('All');
  
  // État pour le Drawer et la sélection d'équipe
  const [drawerVisible, setDrawerVisible] = useState(false);
  const [selectedTeam, setSelectedTeam] = useState<Team | null>(null);
  
  // Filtrage des équipes en fonction des critères
  const filteredTeams = useMemo(() => {
    return sampleTeams.filter(team => {
      const matchesSearch = searchText === '' || team.name.toLowerCase().includes(searchText.toLowerCase());
      const matchesDomain = selectedDomain === 'All' || team.domain === selectedDomain;
      const matchesTeamSize =
        selectedTeamSize === 'All' ||
        (selectedTeamSize === 'Small' && team.teamSize < 6) ||
        (selectedTeamSize === 'Medium' && team.teamSize >= 6 && team.teamSize <= 10) ||
        (selectedTeamSize === 'Large' && team.teamSize > 10);
      return matchesSearch && matchesDomain && matchesTeamSize;
    });
  }, [searchText, selectedDomain, selectedTeamSize]);
  
  // Ouvrir le Drawer avec les détails d'une équipe
  const openDrawer = (team: Team) => {
    setSelectedTeam(team);
    setDrawerVisible(true);
  };

  // Fermer le Drawer
  const closeDrawer = () => {
    setDrawerVisible(false);
    setSelectedTeam(null);
  };

  return (
    <>
      <Head>
        <title>Find Teams</title>
        <meta name="description" content="Discover team suggestions matched to your skills and interests using our AI-driven interface." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête */}
        <h1 className="text-2xl font-bold mb-4">Find Teams</h1>
        
        {/* Barre de recherche et filtres */}
        <Row gutter={[16, 16]} className="mb-4">
          <Col xs={24} sm={8}>
            <Search placeholder="Search teams..." allowClear onSearch={value => setSearchText(value)} />
          </Col>
          <Col xs={24} sm={8}>
            <Select defaultValue="All" style={{ width: '100%' }} onChange={value => setSelectedDomain(value)}>
              <Option value="All">All Domains</Option>
              <Option value="Technology">Technology</Option>
              <Option value="Data Science">Data Science</Option>
              <Option value="Engineering">Engineering</Option>
            </Select>
          </Col>
          <Col xs={24} sm={8}>
            <Select defaultValue="All" style={{ width: '100%' }} onChange={value => setSelectedTeamSize(value)}>
              <Option value="All">All Sizes</Option>
              <Option value="Small">Small (&lt; 6)</Option>
              <Option value="Medium">Medium (6-10)</Option>
              <Option value="Large">Large (&gt; 10)</Option>
            </Select>
          </Col>
        </Row>
        
        <Divider />
        
        {/* Liste de suggestions d'équipes */}
        <List
          grid={{ gutter: 16, xs: 1, sm: 2, md: 3 }}
          dataSource={filteredTeams}
          renderItem={(team: Team) => (
            <List.Item key={team.id}>
              <Card
                hoverable
                title={team.name}
                extra={
                  team.isOpen ? (
                    <Tag color="green">Open</Tag>
                  ) : (
                    <Tag color="volcano">Approval Needed</Tag>
                  )
                }
              >
                <p>{team.description}</p>
                <p style={{ fontStyle: 'italic', color: '#888' }}>Match: {team.matchReason}</p>
                <Button type="primary" onClick={() => openDrawer(team)}>
                  View Team
                </Button>
              </Card>
            </List.Item>
          )}
        />
        
        {/* Drawer pour détails de l'équipe */}
        <Drawer
          title={selectedTeam?.name}
          placement="right"
          width={400}
          onClose={closeDrawer}
          visible={drawerVisible}
        >
          {selectedTeam && (
            <div>
              <p><strong>Description:</strong> {selectedTeam.description}</p>
              <p><strong>Domain:</strong> {selectedTeam.domain}</p>
              <p><strong>Team Size:</strong> {selectedTeam.teamSize}</p>
              <p><strong>Members:</strong> {selectedTeam.members.join(', ')}</p>
              <Divider />
              <Button type="primary" onClick={() => {
                // Simulation d'une demande d'adhésion
                // Vous pouvez implémenter ici la logique réelle de demande.
                closeDrawer();
              }}>
                Request to Join
              </Button>
            </div>
          )}
        </Drawer>
      </div>
    </>
  );
};

FindTeams.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default FindTeams;

===== END keenkonnect\ai-team-matching\find-teams\page.tsx =====


===== BEGIN keenkonnect\ai-team-matching\match-preferences\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\ai-team-matching\match-preferences\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\ai-team-matching\match-preferences\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\ai-team-matching\match-preferences\index.test\page.tsx =====


===== BEGIN keenkonnect\ai-team-matching\match-preferences\page.tsx =====
'use client'

// File: /pages/keenkonnect/ai-team-matching/match-preferences.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import { Form, Select, InputNumber, Radio, Slider, Button, Progress, Typography } from 'antd';
import PageContainer from '@/components/PageContainer'; // Composant global de page

const { Option } = Select;
const { Text } = Typography;

const MatchPreferencesPage: NextPage = () => {
  const [form] = Form.useForm();

  // Valeurs initiales pour le formulaire
  const initialValues = {
    projectDomains: [],
    preferredTeamSize: 4,
    rolesOfInterest: [],
    skillsOffered: [],
    skillsSought: [],
    collaborationStyle: 'balanced',
    innovationExecution: 50, // 0 = Innovation focus, 100 = Execution focus
  };

  // Calcul d'un indicateur de complétude (matching readiness)
  const computeReadiness = (values: any) => {
    // Pour simplifier, 5 champs clés (on considère que chacun a le même poids)
    const totalFields = 5;
    let completed = 0;
    if (values.projectDomains && values.projectDomains.length > 0) completed++;
    if (values.preferredTeamSize) completed++;
    if (values.rolesOfInterest && values.rolesOfInterest.length > 0) completed++;
    if (values.skillsOffered && values.skillsOffered.length > 0) completed++;
    if (values.skillsSought && values.skillsSought.length > 0) completed++;
    return Math.round((completed / totalFields) * 100);
  };

  // State pour suivre la complétude du profil
  const [readiness, setReadiness] = useState<number>(computeReadiness(initialValues));

  // Mise à jour de l'indicateur lors d'un changement dans le formulaire
  const onValuesChange = (_changedValues: any, allValues: any) => {
    setReadiness(computeReadiness(allValues));
  };

  // Gestion de la soumission du formulaire
  const onFinish = (values: any) => {
    console.log('Preferences Saved: ', values);
    // Ajoutez ici une éventuelle intégration avec une API pour sauvegarder les préférences
  };

  return (
    <PageContainer title="Match Preferences">
      <Form
        form={form}
        layout="vertical"
        initialValues={initialValues}
        onValuesChange={onValuesChange}
        onFinish={onFinish}
      >
        {/* Sélection des domaines de projet */}
        <Form.Item
          label="Desired Project Domains"
          name="projectDomains"
          rules={[{ required: true, message: 'Veuillez sélectionner au moins un domaine de projet' }]}
        >
          <Select mode="multiple" placeholder="Sélectionnez des domaines de projet">
            <Option value="web">Web Development</Option>
            <Option value="mobile">Mobile Apps</Option>
            <Option value="data">Data Science</Option>
            <Option value="ai">Artificial Intelligence</Option>
            <Option value="devops">DevOps</Option>
          </Select>
        </Form.Item>

        {/* Taille d'équipe préférée */}
        <Form.Item
          label="Preferred Team Size"
          name="preferredTeamSize"
          rules={[{ required: true, message: 'Veuillez spécifier la taille d’équipe souhaitée' }]}
        >
          <InputNumber min={1} max={20} />
        </Form.Item>

        {/* Sélection des rôles d'intérêt */}
        <Form.Item
          label="Roles of Interest"
          name="rolesOfInterest"
          rules={[{ required: true, message: 'Veuillez sélectionner au moins un rôle' }]}
        >
          <Select mode="multiple" placeholder="Sélectionnez les rôles qui vous intéressent">
            <Option value="frontend">Frontend Developer</Option>
            <Option value="backend">Backend Developer</Option>
            <Option value="designer">Designer</Option>
            <Option value="qa">QA Engineer</Option>
            <Option value="pm">Project Manager</Option>
          </Select>
        </Form.Item>

        {/* Sélection des compétences offertes */}
        <Form.Item
          label="Skills You Offer"
          name="skillsOffered"
          rules={[{ required: true, message: 'Veuillez sélectionner vos compétences' }]}
        >
          <Select mode="multiple" placeholder="Sélectionnez vos compétences">
            <Option value="react">React</Option>
            <Option value="node">Node.js</Option>
            <Option value="python">Python</Option>
            <Option value="design">UI/UX Design</Option>
            <Option value="ml">Machine Learning</Option>
          </Select>
        </Form.Item>

        {/* Sélection des compétences recherchées */}
        <Form.Item
          label="Skills You Seek in a Team"
          name="skillsSought"
          rules={[{ required: true, message: 'Veuillez sélectionner les compétences recherchées' }]}
        >
          <Select mode="multiple" placeholder="Sélectionnez les compétences attendues">
            <Option value="react">React</Option>
            <Option value="node">Node.js</Option>
            <Option value="python">Python</Option>
            <Option value="design">UI/UX Design</Option>
            <Option value="ml">Machine Learning</Option>
          </Select>
        </Form.Item>

        {/* Sélection du style de collaboration */}
        <Form.Item label="Collaboration Style" name="collaborationStyle">
          <Radio.Group>
            <Radio value="flexible">Flexible</Radio>
            <Radio value="structured">Structuré</Radio>
            <Radio value="balanced">Équilibré</Radio>
          </Radio.Group>
        </Form.Item>

        {/* Slider Innovation vs Execution */}
        <Form.Item label="Innovation Focus vs Execution Focus">
          <Form.Item name="innovationExecution" noStyle>
            <Slider min={0} max={100} tooltipVisible />
          </Form.Item>
          <div style={{ display: 'flex', justifyContent: 'space-between' }}>
            <Text>Innovation Focus</Text>
            <Text>Execution Focus</Text>
          </div>
        </Form.Item>

        {/* Indicateur de matching readiness */}
        <Form.Item label="Matching Readiness">
          <Progress percent={readiness} status={readiness === 100 ? 'success' : 'active'} />
          <Text type="secondary">
            Complétez vos préférences pour améliorer la qualité des suggestions de l’IA.
          </Text>
        </Form.Item>

        {/* Texte informatif */}
        <Form.Item>
          <Text type="secondary">
            Ces préférences permettent à notre système AI de vous proposer les meilleures correspondances d’équipes.
          </Text>
        </Form.Item>

        {/* Bouton de sauvegarde */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Save Preferences
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

// Si un layout global est utilisé via getLayout (_app.tsx), vous pouvez l'intégrer ainsi :
MatchPreferencesPage.getLayout = (page: React.ReactNode) => {
  // Exemple d'enveloppement avec MainLayout :
  // return <MainLayout>{page}</MainLayout>;
  return page;
};

export default MatchPreferencesPage;

===== END keenkonnect\ai-team-matching\match-preferences\page.tsx =====


===== BEGIN keenkonnect\ai-team-matching\my-matches\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\ai-team-matching\my-matches\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\ai-team-matching\my-matches\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\ai-team-matching\my-matches\index.test\page.tsx =====


===== BEGIN keenkonnect\ai-team-matching\my-matches\page.tsx =====
'use client'

// File: /pages/keenkonnect/ai-team-matching/my-matches.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import { Tabs, List, Button, Badge } from 'antd';
import PageContainer from '@/components/PageContainer'; // Composant contenant le header et le layout global

// Définition d'un type pour représenter un match
interface Match {
  id: string;
  name: string;
  matchScore: number; // Pourcentage de match par exemple
  commonInterests: string; // Chaîne résumant les intérêts ou points communs
  new?: boolean; // Flag indiquant un nouveau match pour ajouter un badge
}

// Exemple de données en local pour les "Team Matches"
const teamMatches: Match[] = [
  {
    id: 'team1',
    name: 'Alpha Team',
    matchScore: 92,
    commonInterests: 'UI/UX, Backend, DevOps',
    new: true,
  },
  {
    id: 'team2',
    name: 'Beta Squad',
    matchScore: 85,
    commonInterests: 'Mobile, Frontend',
  },
  // Ajoutez d'autres données selon les besoins
];

// Exemple de données en local pour les "Partner Matches" (collaborateurs individuels)
const partnerMatches: Match[] = [
  {
    id: 'partner1',
    name: 'Jean Dupont',
    matchScore: 88,
    commonInterests: 'Data Science, Machine Learning',
    new: true,
  },
  {
    id: 'partner2',
    name: 'Marie Curie',
    matchScore: 90,
    commonInterests: 'Research, AI Innovation',
  },
  // Ajoutez d'autres données si nécessaire
];

const { TabPane } = Tabs;

const MyMatchesPage: NextPage = () => {
  // On peut utiliser un state pour gérer l'onglet actif si des traitements spécifiques doivent être appliqués
  const [activeTab, setActiveTab] = useState<string>('team');

  // Fonction de rendu générique pour un élément de la liste
  const renderMatchItem = (item: Match) => (
    <List.Item
      key={item.id}
      actions={[
        // Action « Connect » pour démarrer une interaction
        <Button type="primary" key="connect">Connect</Button>,
        // Action pour consulter le profil ou l'équipe
        <Button key="view">View Profile/Team</Button>,
      ]}
    >
      <List.Item.Meta
        // Le titre inclut éventuellement un Badge si le match est récent
        title={
          <span>
            {item.name}
            {item.new && (
              <Badge count={'new'} style={{ backgroundColor: '#52c41a', marginLeft: 8 }} />
            )}
          </span>
        }
        description={`${item.matchScore}% de match - ${item.commonInterests}`}
      />
    </List.Item>
  );

  return (
    // Le PageContainer gère la structure globale et le header de la page
    <PageContainer title="My Matches">
      <Tabs defaultActiveKey="team" onChange={setActiveTab}>
        <TabPane
          // Intitulé de l'onglet Team Matches avec possibilité d'y intégrer un badge de notification si besoin
          tab="Team Matches"
          key="team"
        >
          <List
            itemLayout="horizontal"
            dataSource={teamMatches}
            renderItem={renderMatchItem}
          />
        </TabPane>
        <TabPane
          tab="Partner Matches"
          key="partner"
        >
          <List
            itemLayout="horizontal"
            dataSource={partnerMatches}
            renderItem={renderMatchItem}
          />
        </TabPane>
      </Tabs>
    </PageContainer>
  );
};

// Si votre projet utilise une méthode de layout global via getLayout (par exemple dans _app.tsx), vous pouvez l'intégrer ainsi :
MyMatchesPage.getLayout = function getLayout(page: React.ReactNode) {
  // MainLayout est le layout global qui intègre header, sidebar, etc.
  // Assurez-vous de l'importer depuis le dossier correspondant (par ex. '@/layout-components/MainLayout')
  // Exemple :
  // return <MainLayout>{page}</MainLayout>;
  return page; // Pour l'exemple, on retourne la page directement
};

export default MyMatchesPage;

===== END keenkonnect\ai-team-matching\my-matches\page.tsx =====


===== BEGIN keenkonnect\dashboard\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\dashboard\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\dashboard\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\dashboard\index.test\page.tsx =====


===== BEGIN keenkonnect\dashboard\page.tsx =====
// pages/keenkonnect/dashboard/index.tsx
import React from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, List, Row, Col, Button, Divider } from 'antd';
import { PlusOutlined, TeamOutlined, FolderAddOutlined, CheckSquareOutlined, BellOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';

const KeenKonnectDashboard: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  // Données simulées pour les widgets
  const recentProjects = [
    { id: 'p1', title: 'Project Alpha', update: 'Updated timeline and task statuses.' },
    { id: 'p2', title: 'Project Beta', update: 'New member joined and project goals refined.' },
    { id: 'p3', title: 'Project Gamma', update: 'Milestone reached: Prototype completed.' },
  ];

  const repositoryUpdates = [
    { id: 'r1', title: 'Resource A', update: 'Document updated to v2.1.' },
    { id: 'r2', title: 'Resource B', update: 'New resource added to the repository.' },
  ];

  const activeWorkspaces = [
    { id: 'w1', title: 'Team Alpha Workspace', status: 'Active' },
    { id: 'w2', title: 'Collaboration Beta', status: 'In Progress' },
    { id: 'w3', title: 'Project Gamma Workspace', status: 'Active' },
  ];

  const myTasks = [
    { id: 't1', task: 'Finalize project proposal', deadline: '2023-09-15' },
    { id: 't2', task: 'Review team submissions', deadline: '2023-09-10' },
    { id: 't3', task: 'Update documentation', deadline: '2023-09-12' },
  ];

  const notifications = [
    { id: 'n1', message: 'You have a pending invitation from Team Delta.' },
    { id: 'n2', message: 'Project Alpha has a new announcement.' },
  ];

  return (
    <>
      <Head>
        <title>KeenKonnect Dashboard</title>
        <meta name="description" content="Overview of your projects, collaboration, tasks, and notifications on KeenKonnect." />
      </Head>
      <div className="container mx-auto p-5">
        {/* Header */}
        <h1 className="text-2xl font-bold mb-4">KeenKonnect Dashboard</h1>

        {/* Widgets section */}
        <Row gutter={[16, 16]}>
          {/* Recent Projects */}
          <Col xs={24} md={12}>
            <Card title="Recent Projects" bordered={false}>
              <List
                dataSource={recentProjects}
                renderItem={(project) => (
                  <List.Item key={project.id}>
                    <List.Item.Meta title={project.title} description={project.update} />
                  </List.Item>
                )}
              />
            </Card>
          </Col>

          {/* Repository Updates */}
          <Col xs={24} md={12}>
            <Card title="Repository Updates" bordered={false}>
              <List
                dataSource={repositoryUpdates}
                renderItem={(resource) => (
                  <List.Item key={resource.id}>
                    <List.Item.Meta title={resource.title} description={resource.update} />
                  </List.Item>
                )}
              />
            </Card>
          </Col>

          {/* Active Collaboration */}
          <Col xs={24} md={12}>
            <Card title="Active Collaboration" bordered={false}>
              <List
                dataSource={activeWorkspaces}
                renderItem={(workspace) => (
                  <List.Item key={workspace.id}>
                    <List.Item.Meta title={workspace.title} description={`Status: ${workspace.status}`} />
                  </List.Item>
                )}
              />
            </Card>
          </Col>

          {/* My Tasks */}
          <Col xs={24} md={12}>
            <Card title="My Tasks" bordered={false}>
              <List
                dataSource={myTasks}
                renderItem={(task) => (
                  <List.Item key={task.id}>
                    <List.Item.Meta title={task.task} description={`Deadline: ${task.deadline}`} />
                  </List.Item>
                )}
              />
            </Card>
          </Col>
        </Row>

        <Divider />

        {/* Quick Start Buttons */}
        <Row gutter={[16, 16]} className="mb-6">
          <Col>
            <Button type="primary" icon={<PlusOutlined />} size="large">
              Create New Project
            </Button>
          </Col>
          <Col>
            <Button type="default" icon={<TeamOutlined />} size="large">
              Find Team
            </Button>
          </Col>
          <Col>
            <Button type="default" icon={<FolderAddOutlined />} size="large">
              New Repository
            </Button>
          </Col>
          <Col>
            <Button type="default" icon={<CheckSquareOutlined />} size="large">
              My Tasks
            </Button>
          </Col>
        </Row>

        {/* Notifications Preview */}
        <Card title="Notifications" bordered={false}>
          {notifications.length > 0 ? (
            <List
              dataSource={notifications}
              renderItem={(notif) => (
                <List.Item key={notif.id}>
                  <List.Item.Meta title={notif.message} />
                </List.Item>
              )}
            />
          ) : (
            <p>No notifications at the moment.</p>
          )}
        </Card>
      </div>
    </>
  );
};

KeenKonnectDashboard.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default KeenKonnectDashboard;

===== END keenkonnect\dashboard\page.tsx =====


===== BEGIN keenkonnect\knowledge\browse-repository\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\knowledge\browse-repository\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\knowledge\browse-repository\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\knowledge\browse-repository\index.test\page.tsx =====


===== BEGIN keenkonnect\knowledge\browse-repository\page.tsx =====
'use client'

// pages/keenkonnect/knowledge/browse-repository/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Table, Input, Select, Button, Row, Col, Card, Divider } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Search } = Input;
const { Option } = Select;

interface DocumentResource {
  key: string;
  title: string;
  category: string;
  language: string;
  version: string;
  lastUpdated: string;
}

// Données simulées pour les ressources
const sampleResources: DocumentResource[] = [
  { key: '1', title: 'Robotics Blueprint', category: 'Robotics', language: 'English', version: '1.0', lastUpdated: '2023-09-01' },
  { key: '2', title: 'Healthcare Protocols', category: 'Healthcare', language: 'French', version: '2.1', lastUpdated: '2023-08-28' },
  { key: '3', title: 'AI Research Paper', category: 'Technology', language: 'English', version: '1.2', lastUpdated: '2023-09-03' },
  { key: '4', title: 'Sustainable Energy Report', category: 'Energy', language: 'English', version: '3.0', lastUpdated: '2023-08-20' },
];

const BrowseRepository: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  const [searchText, setSearchText] = useState('');
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [selectedLanguage, setSelectedLanguage] = useState<string>('All');

  // Filtrage des ressources selon les filtres
  const filteredResources = useMemo(() => {
    return sampleResources.filter((resource) => {
      const matchesSearch = resource.title.toLowerCase().includes(searchText.toLowerCase());
      const matchesCategory = selectedCategory === 'All' || resource.category === selectedCategory;
      const matchesLanguage = selectedLanguage === 'All' || resource.language === selectedLanguage;
      return matchesSearch && matchesCategory && matchesLanguage;
    });
  }, [searchText, selectedCategory, selectedLanguage]);

  // Colonnes pour la table
  const columns = [
    { title: 'Title', dataIndex: 'title', key: 'title' },
    { title: 'Category', dataIndex: 'category', key: 'category' },
    { title: 'Language', dataIndex: 'language', key: 'language' },
    { title: 'Version', dataIndex: 'version', key: 'version' },
    { title: 'Last Updated', dataIndex: 'lastUpdated', key: 'lastUpdated' },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: DocumentResource) => (
        <>
          <Button type="link" onClick={() => router.push(`/keenkonnect/knowledge/view/${record.key}`)}>
            View
          </Button>
          <Button type="link" onClick={() => router.push(`/keenkonnect/knowledge/edit/${record.key}`)}>
            Edit
          </Button>
        </>
      ),
    },
  ];

  return (
    <>
      <Head>
        <title>Browse Repository</title>
        <meta name="description" content="Browse technical documents and blueprints in your repository." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête */}
        <h1 className="text-2xl font-bold mb-4">Browse Repository</h1>
        
        {/* Barre de recherche et filtres */}
        <Row gutter={[16, 16]} className="mb-4">
          <Col xs={24} sm={8}>
            <Search
              placeholder="Search documents..."
              allowClear
              onSearch={value => setSearchText(value)}
            />
          </Col>
          <Col xs={24} sm={8}>
            <Select
              defaultValue="All"
              style={{ width: '100%' }}
              onChange={(value) => setSelectedCategory(value)}
            >
              <Option value="All">All Categories</Option>
              <Option value="Robotics">Robotics</Option>
              <Option value="Healthcare">Healthcare</Option>
              <Option value="Technology">Technology</Option>
              <Option value="Energy">Energy</Option>
            </Select>
          </Col>
          <Col xs={24} sm={8}>
            <Select
              defaultValue="All"
              style={{ width: '100%' }}
              onChange={(value) => setSelectedLanguage(value)}
            >
              <Option value="All">All Languages</Option>
              <Option value="English">English</Option>
              <Option value="French">French</Option>
            </Select>
          </Col>
        </Row>

        {/* Bouton pour uploader un nouveau document */}
        <Row justify="end" className="mb-4">
          <Button type="primary" onClick={() => router.push('/keenkonnect/knowledge/upload-new-document')}>
            Upload New Document
          </Button>
        </Row>

        <Card>
          <Table columns={columns} dataSource={filteredResources} pagination={{ pageSize: 5 }} />
        </Card>
      </div>
    </>
  );
};

BrowseRepository.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default BrowseRepository;

===== END keenkonnect\knowledge\browse-repository\page.tsx =====


===== BEGIN keenkonnect\knowledge\document-management\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\knowledge\document-management\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\knowledge\document-management\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\knowledge\document-management\index.test\page.tsx =====


===== BEGIN keenkonnect\knowledge\document-management\page.tsx =====
'use client'

// pages/keenkonnect/knowledge/document-management/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Row, Col, Card, Button, Input, Timeline, Divider, CustomComment, List, Avatar, message } from 'antd';
import { SaveOutlined, UploadOutlined, EditOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';

const { TextArea } = Input;

const DocumentManagement: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  // Simulation : l'utilisateur possède les droits d'édition
  const userCanEdit = true;

  // État pour le contenu du document (éditeur / vue)
  const [documentContent, setDocumentContent] = useState<string>(
    "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum pretium, risus at fermentum cursus, purus lacus scelerisque dolor, nec dictum augue mi ut ligula. Sed vitae nisl vel metus tincidunt interdum."
  );

  // Données simulées pour les métadonnées du document
  const documentMetadata = {
    title: 'Innovative Research Document',
    createdAt: '2023-08-01',
    lastModified: '2023-09-05',
    version: '2.0',
    language: 'English',
  };

  // Historique des versions (Timeline)
  const versionHistory = [
    { key: '1', time: '2023-08-05', event: 'Version 1.0 created by Alice' },
    { key: '2', time: '2023-08-20', event: 'Version 1.5 updated by Bob' },
    { key: '3', time: '2023-09-05', event: 'Version 2.0 published by Alice' },
  ];

  // Données simulées pour les commentaires
  const commentsData = [
    {
      author: 'John',
      avatar: '/avatars/john.png',
      content: <p>Great improvements in this version!</p>,
      datetime: '2023-09-06 09:15',
    },
    {
      author: 'Emma',
      avatar: '/avatars/emma.png',
      content: <p>I suggest adding more details in the methodology section.</p>,
      datetime: '2023-09-06 10:20',
    },
  ];

  // Gestion de la sauvegarde
  const handleSaveChanges = () => {
    // Simuler un appel API pour sauvegarder les modifications
    console.log('Saving changes:', documentContent);
    message.success('Changes saved successfully.');
  };

  // Gestion de la publication d'une nouvelle version
  const handlePublishNewVersion = () => {
    // Simulation d'une publication
    console.log('Publishing new version...');
    message.success('New version published successfully.');
  };

  return (
    <>
      <Head>
        <title>Document Management</title>
        <meta name="description" content="Manage and edit your knowledge documents, view version history, and collaborate with reviewers." />
      </Head>
      <div className="container mx-auto p-5">
        {/* Page Header */}
        <h1 className="text-2xl font-bold mb-4">Document Management</h1>

        <Row gutter={16}>
          {/* Left Panel: Content Viewer */}
          <Col xs={24} md={14}>
            <Card title="Document Content" style={{ height: '100%', overflowY: 'auto' }}>
              <div style={{ padding: '20px' }}>
                <p>{documentContent}</p>
              </div>
            </Card>
          </Col>

          {/* Right Panel: Editor, Metadata, Version History & Comments */}
          <Col xs={24} md={10}>
            {/* Editor Panel (if editable) */}
            <Card
              title={userCanEdit ? "Edit Document" : "Document Details"}
              extra={userCanEdit && <Button icon={<EditOutlined />} onClick={() => {}}>Edit</Button>}
              className="mb-4"
            >
              {userCanEdit ? (
                <>
                  <TextArea
                    rows={10}
                    value={documentContent}
                    onChange={(e) => setDocumentContent(e.target.value)}
                  />
                  <Divider />
                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                    <Button type="primary" icon={<SaveOutlined />} onClick={handleSaveChanges}>
                      Save Changes
                    </Button>
                    <Button type="default" icon={<UploadOutlined />} onClick={handlePublishNewVersion}>
                      Publish New Version
                    </Button>
                  </div>
                </>
              ) : (
                <p>{documentContent}</p>
              )}
            </Card>

            {/* Metadata Sidebar */}
            <Card title="Document Metadata" className="mb-4">
              <p><strong>Title:</strong> {documentMetadata.title}</p>
              <p><strong>Created At:</strong> {documentMetadata.createdAt}</p>
              <p><strong>Last Modified:</strong> {documentMetadata.lastModified}</p>
              <p><strong>Version:</strong> {documentMetadata.version}</p>
              <p><strong>Language:</strong> {documentMetadata.language}</p>
            </Card>

            {/* Version History */}
            <Card title="Version History" className="mb-4">
              <Timeline>
                {versionHistory.map((version) => (
                  <Timeline.Item key={version.key}>
                    <strong>{version.time}</strong> - {version.event}
                  </Timeline.Item>
                ))}
              </Timeline>
              <Button type="link">Compare / Restore Versions</Button>
            </Card>

            {/* Comments / Collaboration Thread */}
            <Card title="Comments" className="mb-4">
              <List
                itemLayout="horizontal"
                dataSource={commentsData}
                renderItem={(comment) => (
                  <Comment
                    author={comment.author}
                    avatar={<Avatar src={comment.avatar} />}
                    content={comment.content}
                    datetime={comment.datetime}
                  />
                )}
              />
            </Card>
          </Col>
        </Row>
      </div>
    </>
  );
};

DocumentManagement.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default DocumentManagement;

===== END keenkonnect\knowledge\document-management\page.tsx =====


===== BEGIN keenkonnect\knowledge\search-filter-documents\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\knowledge\search-filter-documents\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\knowledge\search-filter-documents\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\knowledge\search-filter-documents\index.test\page.tsx =====


===== BEGIN keenkonnect\knowledge\search-filter-documents\page.tsx =====
'use client'

// pages/keenkonnect/knowledge/search-filter-documents/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Form, Input, Select, DatePicker, Button, Table, Row, Col, Card, Divider } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import dayjs from 'dayjs';

const { RangePicker } = DatePicker;
const { Option } = Select;

interface DocumentResource {
  key: string;
  title: string;
  snippet: string;
  author: string;
  tags: string[];
  language: string;
  version: string;
  lastUpdated: string;
  relevanceScore: number;
}

// Données simulées pour les documents
const sampleDocuments: DocumentResource[] = [
  {
    key: '1',
    title: 'Robotics Blueprint',
    snippet: 'Detailed blueprint for advanced robotics design...',
    author: 'Alice',
    tags: ['Robotics', 'Engineering'],
    language: 'English',
    version: '1.0',
    lastUpdated: '2023-09-01',
    relevanceScore: 85,
  },
  {
    key: '2',
    title: 'Healthcare Protocols',
    snippet: 'Updated protocols for modern healthcare systems...',
    author: 'Bob',
    tags: ['Healthcare', 'Medicine'],
    language: 'French',
    version: '2.1',
    lastUpdated: '2023-08-28',
    relevanceScore: 78,
  },
  {
    key: '3',
    title: 'AI Research Paper',
    snippet: 'A research paper discussing the latest trends in AI...',
    author: 'Charlie',
    tags: ['Technology', 'AI'],
    language: 'English',
    version: '1.2',
    lastUpdated: '2023-09-03',
    relevanceScore: 90,
  },
  {
    key: '4',
    title: 'Sustainable Energy Report',
    snippet: 'Comprehensive report on sustainable energy solutions...',
    author: 'Diana',
    tags: ['Energy', 'Environment'],
    language: 'English',
    version: '3.0',
    lastUpdated: '2023-08-20',
    relevanceScore: 80,
  },
];

const SearchFilterDocuments: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const [form] = Form.useForm();
  // États pour les filtres
  const [keyword, setKeyword] = useState('');
  const [authorFilter, setAuthorFilter] = useState<string[]>([]);
  const [tagFilter, setTagFilter] = useState<string[]>([]);
  const [dateRange, setDateRange] = useState<[any, any] | null>(null);
  const [sortCriteria, setSortCriteria] = useState<string>('relevance');

  // Filtrage des documents
  const filteredDocuments = useMemo(() => {
    return sampleDocuments.filter((doc) => {
      const matchesKeyword =
        keyword === '' ||
        doc.title.toLowerCase().includes(keyword.toLowerCase()) ||
        doc.snippet.toLowerCase().includes(keyword.toLowerCase());
      const matchesAuthor =
        authorFilter.length === 0 || authorFilter.includes(doc.author);
      const matchesTags =
        tagFilter.length === 0 || tagFilter.every(tag => doc.tags.includes(tag));
      let matchesDate = true;
      if (dateRange && dateRange[0] && dateRange[1]) {
        const docDate = dayjs(doc.lastUpdated);
        matchesDate = docDate.isAfter(dateRange[0]) && docDate.isBefore(dateRange[1]);
      }
      return matchesKeyword && matchesAuthor && matchesTags && matchesDate;
    });
  }, [keyword, authorFilter, tagFilter, dateRange]);

  // Tri des résultats
  const sortedDocuments = useMemo(() => {
    const docs = [...filteredDocuments];
    if (sortCriteria === 'relevance') {
      docs.sort((a, b) => b.relevanceScore - a.relevanceScore);
    } else if (sortCriteria === 'date') {
      docs.sort((a, b) => new Date(b.lastUpdated).getTime() - new Date(a.lastUpdated).getTime());
    } else if (sortCriteria === 'popularity') {
      // Si la popularité devait être calculée sur un autre critère, l'implémenter ici.
    }
    return docs;
  }, [filteredDocuments, sortCriteria]);

  // Définition des colonnes pour le tableau (simulant ProTable)
  const columns = [
    { title: 'Title', dataIndex: 'title', key: 'title' },
    { title: 'Snippet', dataIndex: 'snippet', key: 'snippet' },
    { title: 'Author', dataIndex: 'author', key: 'author' },
    { title: 'Language', dataIndex: 'language', key: 'language' },
    { title: 'Version', dataIndex: 'version', key: 'version' },
    { title: 'Last Updated', dataIndex: 'lastUpdated', key: 'lastUpdated' },
    { title: 'Relevance', dataIndex: 'relevanceScore', key: 'relevanceScore' },
  ];

  return (
    <>
      <Head>
        <title>Search & Filter Documents</title>
        <meta name="description" content="Advanced search and filter interface for repository documents." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Search & Filter Documents</h1>
        
        {/* Panneau de recherche et filtres */}
        <Card className="mb-6">
          <Form form={form} layout="vertical">
            <Row gutter={[16, 16]}>
              <Col xs={24} sm={12}>
                <Form.Item label="Keywords">
                  <Input.Search placeholder="Enter keywords" allowClear onSearch={setKeyword} />
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Authors">
                  <Select mode="multiple" placeholder="Select authors" onChange={setAuthorFilter}>
                    {['Alice', 'Bob', 'Charlie', 'Diana'].map(author => (
                      <Option key={author} value={author}>{author}</Option>
                    ))}
                  </Select>
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Tags">
                  <Select mode="multiple" placeholder="Select tags" onChange={setTagFilter}>
                    {['Robotics', 'Healthcare', 'Technology', 'Energy', 'Environment'].map(tag => (
                      <Option key={tag} value={tag}>{tag}</Option>
                    ))}
                  </Select>
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Date Range">
                  <RangePicker onChange={(dates) => setDateRange(dates as any)} />
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Sort By">
                  <Select defaultValue="relevance" onChange={setSortCriteria}>
                    <Option value="relevance">Relevance</Option>
                    <Option value="date">Date</Option>
                    <Option value="popularity">Popularity</Option>
                  </Select>
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item>
                  <Button type="primary" onClick={() => form.submit()}>
                    Apply Filters
                  </Button>
                </Form.Item>
              </Col>
            </Row>
          </Form>
        </Card>

        {/* Résultats */}
        <Card>
          <Table columns={columns} dataSource={sortedDocuments} pagination={{ pageSize: 5 }} />
        </Card>
      </div>
    </>
  );
};

SearchFilterDocuments.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default SearchFilterDocuments;

===== END keenkonnect\knowledge\search-filter-documents\page.tsx =====


===== BEGIN keenkonnect\knowledge\upload-new-document\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\knowledge\upload-new-document\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\knowledge\upload-new-document\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\knowledge\upload-new-document\index.test\page.tsx =====


===== BEGIN keenkonnect\knowledge\upload-new-document\page.tsx =====
'use client'

// pages/keenkonnect/knowledge/upload-new-document/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Form, Input, Select, Upload, Switch, Button, message, Progress, Result } from 'antd';
import { UploadOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Option } = Select;
const { TextArea } = Input;

const UploadNewDocument: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const [form] = Form.useForm();
  const router = useRouter();
  
  const [uploadProgress, setUploadProgress] = useState<number>(0);
  const [uploading, setUploading] = useState<boolean>(false);
  const [submitted, setSubmitted] = useState<boolean>(false);

  const handleUploadChange = ({ fileList }: any) => {
    // Ce callback se contente de conserver le fileList dans le formulaire via antd.
    return fileList;
  };

  const simulateUpload = () => {
    setUploading(true);
    setUploadProgress(0);
    
    // Simuler une progression d'upload
    const interval = setInterval(() => {
      setUploadProgress(prev => {
        if (prev >= 100) {
          clearInterval(interval);
          setUploading(false);
          message.success('Document uploaded successfully');
          setSubmitted(true);
          return 100;
        }
        return prev + 20;
      });
    }, 500);
  };

  const onFinish = async (values: any) => {
    console.log('Form values:', values);
    simulateUpload();
  };

  if (submitted) {
    return (
      <div className="container mx-auto p-5">
        <Result
          status="success"
          title="Document Uploaded Successfully!"
          subTitle="Your document has been successfully submitted."
          extra={[
            <Button type="primary" key="manage" onClick={() => router.push('/keenkonnect/knowledge/document-management')}>
              Go to Document Management
            </Button>,
          ]}
        />
      </div>
    );
  }

  return (
    <>
      <Head>
        <title>Upload New Document</title>
        <meta name="description" content="Submit a new document to the knowledge repository." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Upload New Document</h1>
        <Form form={form} layout="vertical" onFinish={onFinish}>
          {/* Title */}
          <Form.Item
            name="title"
            label="Document Title"
            rules={[{ required: true, message: 'Please enter a document title' }]}
          >
            <Input placeholder="Enter document title" />
          </Form.Item>

          {/* Description */}
          <Form.Item
            name="description"
            label="Description/Abstract"
            rules={[{ required: true, message: 'Please provide a description' }]}
          >
            <TextArea rows={4} placeholder="Enter document description" />
          </Form.Item>

          {/* Category/Topic */}
          <Form.Item
            name="category"
            label="Category/Topic"
            rules={[{ required: true, message: 'Please select a category' }]}
          >
            <Select placeholder="Select category">
              <Option value="Robotics">Robotics</Option>
              <Option value="Healthcare">Healthcare</Option>
              <Option value="Technology">Technology</Option>
              <Option value="Energy">Energy</Option>
              <Option value="Education">Education</Option>
            </Select>
          </Form.Item>

          {/* Version */}
          <Form.Item
            name="version"
            label="Version"
            rules={[{ required: true, message: 'Please enter the document version' }]}
          >
            <Input placeholder="e.g. 1.0" />
          </Form.Item>

          {/* Language */}
          <Form.Item
            name="language"
            label="Language"
            rules={[{ required: true, message: 'Please select a language' }]}
          >
            <Select placeholder="Select language">
              <Option value="English">English</Option>
              <Option value="French">French</Option>
            </Select>
          </Form.Item>

          {/* File Upload */}
          <Form.Item
            name="documentFile"
            label="Document File"
            rules={[{ required: true, message: 'Please upload the document file' }]}
            valuePropName="fileList"
            getValueFromEvent={handleUploadChange}
          >
            <Upload beforeUpload={() => false} listType="picture">
              <Button icon={<UploadOutlined />}>Upload File</Button>
            </Upload>
          </Form.Item>

          {/* Publish Toggle */}
          <Form.Item name="publishNow" label="Publish Status" initialValue={true} valuePropName="checked">
            <Switch checkedChildren="Publish Now" unCheckedChildren="Save as Draft" />
          </Form.Item>

          {/* Bouton de soumission */}
          <Form.Item>
            <Button type="primary" htmlType="submit" disabled={uploading}>
              Submit
            </Button>
          </Form.Item>
        </Form>

        {/* Indicateur de progression lors de l'upload */}
        {uploading && (
          <div className="mt-4">
            <Progress percent={uploadProgress} status="active" />
          </div>
        )}
      </div>
    </>
  );
};

UploadNewDocument.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default UploadNewDocument;

===== END keenkonnect\knowledge\upload-new-document\page.tsx =====


===== BEGIN keenkonnect\projects\browse-projects\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\projects\browse-projects\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\projects\browse-projects\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\projects\browse-projects\index.test\page.tsx =====


===== BEGIN keenkonnect\projects\browse-projects\page.tsx =====
'use client'

// pages/keenkonnect/projects/browse-projects/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { List, Card, Input, Select, Button, Drawer, Row, Col, Divider, Pagination, Tag } from 'antd';
import { PlusOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Search } = Input;
const { Option } = Select;

interface Project {
  id: string;
  name: string;
  description: string;
  owner: string;
  technologies: string[];
  domain: string;
  members: number;
  createdAt: string;
}

// Données simulées pour les projets
const sampleProjects: Project[] = [
  {
    id: '1',
    name: 'Project Alpha',
    description: 'An innovative project in renewable energy.',
    owner: 'Alice',
    technologies: ['React', 'Node.js'],
    domain: 'Energy',
    members: 8,
    createdAt: '2023-09-01',
  },
  {
    id: '2',
    name: 'Project Beta',
    description: 'A collaborative initiative for modern education.',
    owner: 'Bob',
    technologies: ['Next.js', 'Tailwind CSS'],
    domain: 'Education',
    members: 12,
    createdAt: '2023-09-02',
  },
  {
    id: '3',
    name: 'Project Gamma',
    description: 'Developing a disruptive fintech solution.',
    owner: 'Charlie',
    technologies: ['Angular', 'Firebase'],
    domain: 'Finance',
    members: 10,
    createdAt: '2023-08-28',
  },
  {
    id: '4',
    name: 'Project Delta',
    description: 'A marketing project aimed to improve brand engagement.',
    owner: 'Diana',
    technologies: ['Vue.js', 'SCSS'],
    domain: 'Marketing',
    members: 15,
    createdAt: '2023-09-03',
  },
  {
    id: '5',
    name: 'Project Epsilon',
    description: 'Design-focused project for innovative product development.',
    owner: 'Edward',
    technologies: ['Figma', 'Illustrator'],
    domain: 'Design',
    members: 5,
    createdAt: '2023-08-25',
  },
];

const BrowseProjects: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  const [drawerVisible, setDrawerVisible] = useState(false);
  const [selectedProject, setSelectedProject] = useState<Project | null>(null);
  
  // État pour les filtres et le tri
  const [searchText, setSearchText] = useState('');
  const [selectedDomain, setSelectedDomain] = useState('All');
  const [selectedTechnology, setSelectedTechnology] = useState('All');
  const [sortCriteria, setSortCriteria] = useState('newest');
  
  // Pagination
  const [currentPage, setCurrentPage] = useState(1);
  const pageSize = 5;

  // Filtrer les projets selon la recherche, le domaine et la technologie
  const filteredProjects = useMemo(() => {
    return sampleProjects.filter((project) => {
      const matchesSearch =
        project.name.toLowerCase().includes(searchText.toLowerCase()) ||
        project.description.toLowerCase().includes(searchText.toLowerCase());
      const matchesDomain = selectedDomain === 'All' || project.domain === selectedDomain;
      const matchesTechnology =
        selectedTechnology === 'All' || project.technologies.includes(selectedTechnology);
      return matchesSearch && matchesDomain && matchesTechnology;
    });
  }, [searchText, selectedDomain, selectedTechnology]);

  // Tri des projets
  const sortedProjects = useMemo(() => {
    return [...filteredProjects].sort((a, b) => {
      if (sortCriteria === 'newest') {
        return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();
      } else if (sortCriteria === 'mostMembers') {
        return b.members - a.members;
      }
      return 0;
    });
  }, [filteredProjects, sortCriteria]);

  // Pagination
  const paginatedProjects = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize;
    return sortedProjects.slice(startIndex, startIndex + pageSize);
  }, [sortedProjects, currentPage]);

  // Ouvrir la Drawer pour voir les détails d'un projet
  const openDrawer = (project: Project) => {
    setSelectedProject(project);
    setDrawerVisible(true);
  };

  const closeDrawer = () => {
    setDrawerVisible(false);
    setSelectedProject(null);
  };

  return (
    <>
      <Head>
        <title>Browse Projects</title>
        <meta name="description" content="Search and explore projects available to join on KeenKonnect." />
      </Head>
      <div className="container mx-auto p-5">
        {/* Header */}
        <h1 className="text-2xl font-bold mb-4">Browse Projects</h1>
        
        {/* Search and Filter Controls */}
        <Row gutter={[16, 16]} className="mb-4">
          <Col xs={24} sm={12}>
            <Search 
              placeholder="Search projects..."
              allowClear
              onSearch={(value) => {
                setSearchText(value);
                setCurrentPage(1);
              }}
            />
          </Col>
          <Col xs={24} sm={6}>
            <Select 
              defaultValue="All" 
              style={{ width: '100%' }} 
              onChange={(value) => { setSelectedDomain(value); setCurrentPage(1); }}
            >
              <Option value="All">All Domains</Option>
              <Option value="Energy">Energy</Option>
              <Option value="Education">Education</Option>
              <Option value="Finance">Finance</Option>
              <Option value="Marketing">Marketing</Option>
              <Option value="Design">Design</Option>
            </Select>
          </Col>
          <Col xs={24} sm={6}>
            <Select 
              defaultValue="All" 
              style={{ width: '100%' }} 
              onChange={(value) => { setSelectedTechnology(value); setCurrentPage(1); }}
            >
              <Option value="All">All Technologies</Option>
              <Option value="React">React</Option>
              <Option value="Next.js">Next.js</Option>
              <Option value="Angular">Angular</Option>
              <Option value="Node.js">Node.js</Option>
              <Option value="Firebase">Firebase</Option>
              <Option value="Tailwind CSS">Tailwind CSS</Option>
              <Option value="Vue.js">Vue.js</Option>
            </Select>
          </Col>
        </Row>

        {/* Sorting and Create Project Button */}
        <Row justify="space-between" align="middle" className="mb-4">
          <Col>
            <Select defaultValue="newest" onChange={(value) => setSortCriteria(value)}>
              <Option value="newest">Sort by Newest</Option>
              <Option value="mostMembers">Sort by Most Members</Option>
            </Select>
          </Col>
          <Col>
            <Button type="primary" icon={<PlusOutlined />} onClick={() => router.push('/keenkonnect/projects/create-new-project')}>
              Create New Project
            </Button>
          </Col>
        </Row>
        
        <Divider />

        {/* Projects List */}
        <List
          grid={{ gutter: 16, xs: 1, sm: 2, md: 2, lg: 3, xl: 3 }}
          dataSource={paginatedProjects}
          renderItem={(project: Project) => (
            <List.Item key={project.id}>
              <Card
                hoverable
                title={project.name}
                extra={<span>{project.owner}</span>}
                actions={[
                  <Button type="link" onClick={() => openDrawer(project)}>
                    View Details
                  </Button>,
                  <Button type="link" onClick={() => router.push(`/keenkonnect/projects/request-join?id=${project.id}`)}>
                    Request to Join
                  </Button>,
                ]}
              >
                <p>{project.description}</p>
                <div>
                  {project.technologies.map((tech, idx) => (
                    <Tag key={idx}>{tech}</Tag>
                  ))}
                </div>
              </Card>
            </List.Item>
          )}
        />

        {/* Pagination */}
        <Row justify="center" className="mt-4">
          <Pagination 
            current={currentPage}
            pageSize={pageSize}
            total={sortedProjects.length}
            onChange={(page) => setCurrentPage(page)}
          />
        </Row>

        {/* Drawer with Project Details */}
        <Drawer
          title={selectedProject?.name}
          placement="right"
          onClose={closeDrawer}
          visible={drawerVisible}
          width={400}
        >
          {selectedProject && (
            <div>
              <p><strong>Owner:</strong> {selectedProject.owner}</p>
              <p><strong>Description:</strong> {selectedProject.description}</p>
              <p><strong>Domain:</strong> {selectedProject.domain}</p>
              <p><strong>Technologies:</strong> {selectedProject.technologies.join(', ')}</p>
              <p><strong>Members:</strong> {selectedProject.members}</p>
              <p><strong>Created At:</strong> {selectedProject.createdAt}</p>
              <Divider />
              <Button type="primary" onClick={() => router.push(`/keenkonnect/projects/request-join?id=${selectedProject.id}`)}>
                Request to Join
              </Button>
            </div>
          )}
        </Drawer>
      </div>
    </>
  );
};

BrowseProjects.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default BrowseProjects;

===== END keenkonnect\projects\browse-projects\page.tsx =====


===== BEGIN keenkonnect\projects\create-new-project\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\projects\create-new-project\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\projects\create-new-project\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\projects\create-new-project\index.test\page.tsx =====


===== BEGIN keenkonnect\projects\create-new-project\page.tsx =====
'use client'

// pages/keenkonnect/projects/create-new-project/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Steps, Button, Form, Input, Select, Upload, Result, message } from 'antd';
import { UploadOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';

const { Step } = Steps;
const { Option } = Select;
const { TextArea } = Input;

const CreateNewProject: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const [currentStep, setCurrentStep] = useState(0);
  const [submitted, setSubmitted] = useState(false);
  const [form] = Form.useForm();

  // Stockage des données saisies durant le wizard
  const [formData, setFormData] = useState({
    projectName: '',
    projectDescription: '',
    category: '',
    projectImage: null as any,
    teamMembers: [] as string[],
  });

  const steps = [
    { title: 'Project Info' },
    { title: 'Team Setup' },
    { title: 'Review' },
  ];

  // Passage à l'étape suivante après validation
  const next = async () => {
    try {
      const values = await form.validateFields();
      setFormData((prev) => ({ ...prev, ...values }));
      setCurrentStep(currentStep + 1);
      form.resetFields();
    } catch (error) {
      message.error('Please fill in the required fields.');
    }
  };

  // Retour à l'étape précédente
  const prev = () => {
    setCurrentStep(currentStep - 1);
  };

  // Soumission finale du formulaire
  const onFinish = async () => {
    try {
      const values = await form.validateFields();
      setFormData((prev) => ({ ...prev, ...values }));
      // Simulation d'enregistrement du projet.
      console.log('Project created with values:', { ...formData, ...values });
      setSubmitted(true);
    } catch (error) {
      message.error('Please fill in the required fields.');
    }
  };

  // Rendu du contenu en fonction de l'étape
  const renderStepContent = (step: number) => {
    switch (step) {
      case 0:
        return (
          <>
            <Form.Item
              name="projectName"
              label="Project Name"
              rules={[{ required: true, message: 'Please enter project name' }]}
              initialValue={formData.projectName}
            >
              <Input placeholder="Enter project name" />
            </Form.Item>
            <Form.Item
              name="projectDescription"
              label="Project Description"
              rules={[{ required: true, message: 'Please enter project description' }]}
              initialValue={formData.projectDescription}
            >
              <TextArea rows={4} placeholder="Enter project description" />
            </Form.Item>
            <Form.Item
              name="category"
              label="Category/Domain"
              rules={[{ required: true, message: 'Please select a category' }]}
              initialValue={formData.category}
            >
              <Select placeholder="Select category">
                <Option value="Innovation">Innovation</Option>
                <Option value="Research">Research</Option>
                <Option value="Development">Development</Option>
                <Option value="Marketing">Marketing</Option>
                <Option value="Design">Design</Option>
              </Select>
            </Form.Item>
            <Form.Item
              name="projectImage"
              label="Project Image/Icon"
              valuePropName="fileList"
              getValueFromEvent={(e) => (Array.isArray(e) ? e : e && e.fileList)}
            >
              <Upload beforeUpload={() => false} listType="picture">
                <Button icon={<UploadOutlined />}>Upload Image</Button>
              </Upload>
            </Form.Item>
          </>
        );
      case 1:
        return (
          <>
            <Form.Item
              name="teamMembers"
              label="Invite Team Members"
              initialValue={formData.teamMembers}
            >
              <Select mode="multiple" placeholder="Select team members">
                <Option value="Alice">Alice</Option>
                <Option value="Bob">Bob</Option>
                <Option value="Charlie">Charlie</Option>
                <Option value="Diana">Diana</Option>
              </Select>
            </Form.Item>
          </>
        );
      case 2:
        return (
          <div>
            <h3>Review Your Project Details:</h3>
            <p>
              <strong>Project Name:</strong> {formData.projectName || 'N/A'}
            </p>
            <p>
              <strong>Description:</strong> {formData.projectDescription || 'N/A'}
            </p>
            <p>
              <strong>Category:</strong> {formData.category || 'N/A'}
            </p>
            <p>
              <strong>Team Members:</strong>{' '}
              {formData.teamMembers.length > 0 ? formData.teamMembers.join(', ') : 'None'}
            </p>
            {formData.projectImage && (
              <p>
                <strong>Project Image:</strong> {JSON.stringify(formData.projectImage)}
              </p>
            )}
          </div>
        );
      default:
        return null;
    }
  };

  if (submitted) {
    return (
      <div className="container mx-auto p-5">
        <Result
          status="success"
          title="Project Created Successfully!"
          subTitle="Your new project has been created. You can now manage it or invite additional team members."
          extra={[
            <Button type="primary" key="dashboard" onClick={() => window.location.href = '/keenkonnect/dashboard'}>
              Go to Dashboard
            </Button>,
          ]}
        />
      </div>
    );
  }

  return (
    <>
      <Head>
        <title>Create New Project</title>
        <meta name="description" content="Create a new project using our guided project creation wizard." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Create New Project</h1>
        <Steps current={currentStep} className="mb-6">
          {steps.map((item, index) => (
            <Step key={index} title={item.title} />
          ))}
        </Steps>
        <Form form={form} layout="vertical" initialValues={formData} onFinish={onFinish}>
          {renderStepContent(currentStep)}
          <div style={{ marginTop: 24 }}>
            {currentStep > 0 && (
              <Button style={{ marginRight: 8 }} onClick={prev}>
                Back
              </Button>
            )}
            {currentStep < steps.length - 1 && (
              <Button type="primary" onClick={next}>
                Next
              </Button>
            )}
            {currentStep === steps.length - 1 && (
              <Button type="primary" htmlType="submit">
                Submit
              </Button>
            )}
          </div>
        </Form>
      </div>
    </>
  );
};

CreateNewProject.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default CreateNewProject;

===== END keenkonnect\projects\create-new-project\page.tsx =====


===== BEGIN keenkonnect\projects\my-projects\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\projects\my-projects\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\projects\my-projects\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\projects\my-projects\index.test\page.tsx =====


===== BEGIN keenkonnect\projects\my-projects\page.tsx =====
'use client'

// pages/keenkonnect/projects/my-projects/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Table, Card, Button, Row, Col, Select, Typography, Divider, Space } from 'antd';
import { EyeOutlined, EditOutlined, RocketOutlined, PlusOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Title, Text } = Typography;
const { Option } = Select;

// Définition du type d'un projet
interface Project {
  key: string;
  name: string;
  role: 'Owner' | 'Member';
  status: 'Active' | 'Completed';
  lastUpdated: string; // date formatée
  category?: string;
}

// Données simulées pour les projets
const sampleProjects: Project[] = [
  { key: '1', name: 'Project Alpha', role: 'Owner', status: 'Active', lastUpdated: '2023-09-01', category: 'Innovation' },
  { key: '2', name: 'Project Beta', role: 'Member', status: 'Completed', lastUpdated: '2023-08-15', category: 'Research' },
  { key: '3', name: 'Project Gamma', role: 'Owner', status: 'Active', lastUpdated: '2023-09-03', category: 'Development' },
  { key: '4', name: 'Project Delta', role: 'Member', status: 'Active', lastUpdated: '2023-08-28', category: 'Marketing' },
  { key: '5', name: 'Project Epsilon', role: 'Member', status: 'Completed', lastUpdated: '2023-07-30', category: 'Design' },
];

const MyProjects: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  const [statusFilter, setStatusFilter] = useState<string>('All');
  const [categoryFilter, setCategoryFilter] = useState<string>('All');

  // Filtrage des projets selon le statut et la catégorie
  const filteredProjects = useMemo(() => {
    return sampleProjects.filter((project) => {
      const statusMatch = statusFilter === 'All' || project.status === statusFilter;
      const categoryMatch = categoryFilter === 'All' || project.category === categoryFilter;
      return statusMatch && categoryMatch;
    });
  }, [statusFilter, categoryFilter]);

  // Définition des colonnes du tableau
  const columns = [
    {
      title: 'Project Name',
      dataIndex: 'name',
      key: 'name',
      render: (name: string, record: Project) => (
        <Text strong style={{ cursor: 'pointer' }} onClick={() => router.push(`/keenkonnect/projects/project-workspace?id=${record.key}`)}>
          {name}
        </Text>
      ),
    },
    {
      title: 'Role',
      dataIndex: 'role',
      key: 'role',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
    },
    {
      title: 'Last Updated',
      dataIndex: 'lastUpdated',
      key: 'lastUpdated',
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: Project) => (
        <Space>
          <Button icon={<EyeOutlined />} size="small" onClick={() => router.push(`/keenkonnect/projects/project-workspace?id=${record.key}`)}>View</Button>
          <Button icon={<EditOutlined />} size="small" onClick={() => router.push(`/keenkonnect/projects/manage-project?id=${record.key}`)}>Manage</Button>
          <Button icon={<RocketOutlined />} size="small" onClick={() => router.push(`/keenkonnect/projects/project-workspace?id=${record.key}`)}>Go to Workspace</Button>
        </Space>
      ),
    },
  ];

  // Calcul du résumé des projets
  const totalProjects = sampleProjects.length;
  const activeCount = sampleProjects.filter(proj => proj.status === 'Active').length;
  const completedCount = sampleProjects.filter(proj => proj.status === 'Completed').length;

  return (
    <>
      <Head>
        <title>My Projects</title>
        <meta name="description" content="View and manage your projects within KeenKonnect." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de la page */}
        <Title level={2}>My Projects</Title>
        <Divider />

        {/* Résumé des projets */}
        <Row gutter={16} className="mb-4">
          <Col xs={24} sm={8}>
            <Card>
              <Text strong>Total Projects:</Text> <Text>{totalProjects}</Text>
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Text strong>Active:</Text> <Text>{activeCount}</Text>
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Text strong>Completed:</Text> <Text>{completedCount}</Text>
            </Card>
          </Col>
        </Row>

        {/* Filtres */}
        <Row gutter={[16, 16]} className="mb-4">
          <Col xs={24} sm={12}>
            <Text>Status:</Text>
            <Select defaultValue="All" style={{ width: '100%' }} onChange={(value) => setStatusFilter(value)}>
              <Option value="All">All</Option>
              <Option value="Active">Active</Option>
              <Option value="Completed">Completed</Option>
            </Select>
          </Col>
          <Col xs={24} sm={12}>
            <Text>Category:</Text>
            <Select defaultValue="All" style={{ width: '100%' }} onChange={(value) => setCategoryFilter(value)}>
              <Option value="All">All</Option>
              <Option value="Innovation">Innovation</Option>
              <Option value="Research">Research</Option>
              <Option value="Development">Development</Option>
              <Option value="Marketing">Marketing</Option>
              <Option value="Design">Design</Option>
            </Select>
          </Col>
        </Row>

        <Divider />

        {/* Tableau de projets */}
        <Card className="mb-4">
          <Table columns={columns} dataSource={filteredProjects} pagination={false} />
        </Card>

        {/* Bouton pour créer un nouveau projet */}
        <Row justify="end">
          <Button type="primary" icon={<PlusOutlined />} onClick={() => router.push('/keenkonnect/projects/create-new-project')}>
            Create New Project
          </Button>
        </Row>
      </div>
    </>
  );
};

MyProjects.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default MyProjects;

===== END keenkonnect\projects\my-projects\page.tsx =====


===== BEGIN keenkonnect\projects\project-workspace\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\projects\project-workspace\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\projects\project-workspace\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\projects\project-workspace\index.test\page.tsx =====


===== BEGIN keenkonnect\projects\project-workspace\page.tsx =====
'use client'

// pages/keenkonnect/projects/project-workspace/index.tsx
import React from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, Tabs, Row, Col, Avatar, List, Button, Divider } from 'antd';
import { EditOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { TabPane } = Tabs;

// Données simulées pour le projet
const projectInfo = {
  title: 'Project Alpha',
  description: 'This project is focused on developing innovative renewable energy solutions.',
  status: 'Active',
  startDate: '2023-08-01',
  recentUpdates: [
    'Updated project roadmap',
    'Invited a new team member: Alice',
    'Milestone reached: Prototype completed'
  ],
  // Indication si l’utilisateur est le propriétaire
  isOwner: true,
};

// Données simulées pour les tâches
const tasksData = [
  { key: '1', task: 'Finalize proposal', assignee: 'Alice', status: 'In Progress', dueDate: '2023-09-15' },
  { key: '2', task: 'Design prototype', assignee: 'Bob', status: 'Pending', dueDate: '2023-09-20' },
  { key: '3', task: 'Test prototype', assignee: 'Charlie', status: 'Completed', dueDate: '2023-09-10' },
];

// Données simulées pour les fichiers
const filesData = [
  { key: '1', name: 'Project Roadmap.pdf', action: 'Download' },
  { key: '2', name: 'Technical Specs.docx', action: 'Download' },
];

// Données simulées pour la discussion (dummy messages)
const discussionData = [
  { id: '1', author: 'Alice', message: 'Let’s schedule a meeting to discuss the prototype.', time: '10:15 AM' },
  { id: '2', author: 'Bob', message: 'I think we should also consider cost efficiency.', time: '10:20 AM' },
];

// Données simulées pour la timeline / activité du projet
const timelineData = [
  { key: '1', time: '2023-08-05', event: 'Project kickoff meeting held.' },
  { key: '2', time: '2023-08-20', event: 'Concept design approved.' },
  { key: '3', time: '2023-09-01', event: 'Prototype completed.' },
];

// Données simulées pour la liste des membres
const projectMembers = [
  { key: '1', name: 'Alice', role: 'Owner', avatar: '/avatars/alice.png' },
  { key: '2', name: 'Bob', role: 'Member', avatar: '/avatars/bob.png' },
  { key: '3', name: 'Charlie', role: 'Member', avatar: '/avatars/charlie.png' },
  { key: '4', name: 'Diana', role: 'Member', avatar: '/avatars/diana.png' },
];

const ProjectWorkspace: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();

  // Pour simuler l'action de modification du projet (si propriétaire)
  const handleEditProject = () => {
    // Redirige vers une page d'édition (exemple)
    router.push('/keenkonnect/projects/manage-project?id=1');
  };

  return (
    <>
      <Head>
        <title>Project Workspace</title>
        <meta name="description" content="Collaboration tools for your project workspace." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête du Workspace */}
        <Row justify="space-between" align="middle" className="mb-4">
          <h1 className="text-2xl font-bold">{projectInfo.title}</h1>
          {projectInfo.isOwner && (
            <Button icon={<EditOutlined />} onClick={handleEditProject}>
              Edit Project
            </Button>
          )}
        </Row>
        <p>{projectInfo.description}</p>
        <Divider />

        <Row gutter={16}>
          {/* Contenu principal avec onglets */}
          <Col xs={24} md={18}>
            <Card>
              <Tabs defaultActiveKey="overview">
                <TabPane tab="Overview" key="overview">
                  <p><strong>Status:</strong> {projectInfo.status}</p>
                  <p><strong>Start Date:</strong> {projectInfo.startDate}</p>
                  <p><strong>Members:</strong> {projectMembers.length}</p>
                  <p><strong>Recent Updates:</strong></p>
                  <List
                    dataSource={projectInfo.recentUpdates}
                    renderItem={(item) => <List.Item>{item}</List.Item>}
                  />
                </TabPane>

                <TabPane tab="Tasks" key="tasks">
                  <p>Task List:</p>
                  <List
                    dataSource={tasksData}
                    renderItem={(task) => (
                      <List.Item>
                        <List.Item.Meta
                          title={`${task.task} (Assignee: ${task.assignee})`}
                          description={`Status: ${task.status} | Due Date: ${task.dueDate}`}
                        />
                      </List.Item>
                    )}
                  />
                </TabPane>

                <TabPane tab="Files" key="files">
                  <List
                    dataSource={filesData}
                    renderItem={(file) => (
                      <List.Item>
                        <List.Item.Meta
                          title={file.name}
                          description={file.action}
                        />
                      </List.Item>
                    )}
                  />
                </TabPane>

                <TabPane tab="Discussion" key="discussion">
                  <List
                    dataSource={discussionData}
                    renderItem={(msg) => (
                      <List.Item>
                        <List.Item.Meta
                          avatar={<Avatar src={`/avatars/${msg.author.toLowerCase()}.png`} />}
                          title={msg.author}
                          description={`${msg.message} (${msg.time})`}
                        />
                      </List.Item>
                    )}
                  />
                </TabPane>

                <TabPane tab="Timeline" key="timeline">
                  <List
                    dataSource={timelineData}
                    renderItem={(event) => (
                      <List.Item>
                        <strong>{event.time}</strong>: {event.event}
                      </List.Item>
                    )}
                  />
                </TabPane>
              </Tabs>
            </Card>
          </Col>

          {/* Sidebar : liste des membres */}
          <Col xs={24} md={6}>
            <Card title="Project Members">
              <Avatar.Group>
                {projectMembers.map(member => (
                  <Avatar key={member.key} src={member.avatar} title={`${member.name} (${member.role})`} />
                ))}
              </Avatar.Group>
              <Divider />
              <p><strong>Online:</strong> {/* Vous pouvez ajouter un indicateur ici */}2/4 currently online</p>
            </Card>
          </Col>
        </Row>
      </div>
    </>
  );
};

ProjectWorkspace.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default ProjectWorkspace;

===== END keenkonnect\projects\project-workspace\page.tsx =====


===== BEGIN keenkonnect\sustainability-impact\submit-impact-reports\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\sustainability-impact\submit-impact-reports\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\sustainability-impact\submit-impact-reports\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\sustainability-impact\submit-impact-reports\index.test\page.tsx =====


===== BEGIN keenkonnect\sustainability-impact\submit-impact-reports\page.tsx =====
'use client'

// pages/keenkonnect/sustainability-impact/submit-impact-reports/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Form, Input, Select, DatePicker, InputNumber, Upload, Switch, Button, Modal, message } from 'antd';
import { UploadOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { RangePicker } = DatePicker;
const { TextArea } = Input;
const { Option } = Select;

const SubmitImpactReports: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  const [form] = Form.useForm();
  
  // États pour gérer l'upload, la soumission, et la modal de confirmation
  const [submitting, setSubmitting] = useState(false);
  const [modalVisible, setModalVisible] = useState(false);
  // Flag pour déterminer si le rapport doit être sauvegardé en brouillon (true) ou soumis final (false)
  const [saveAsDraft, setSaveAsDraft] = useState(true);

  // Fonction simulant l'upload et la soumission
  const onFinish = async (values: any) => {
    setSubmitting(true);
    console.log('Submitted values:', values);
    // Simuler un appel API d'une durée de 1,5 seconde
    setTimeout(() => {
      setSubmitting(false);
      setModalVisible(true);
    }, 1500);
  };

  const handleModalOk = () => {
    setModalVisible(false);
    // Rediriger vers la page Track Project Impact après soumission
    router.push('/keenkonnect/sustainability-impact/track-project-impact');
  };

  return (
    <>
      <Head>
        <title>Submit Impact Reports</title>
        <meta name="description" content="Submit a new impact report for your project." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Submit Impact Reports</h1>
        <Form form={form} layout="vertical" onFinish={onFinish}>
          {/* Sélecteur du projet */}
          <Form.Item
            name="project"
            label="Select Project"
            rules={[{ required: true, message: 'Please select a project' }]}
          >
            <Select placeholder="Select project">
              <Option value="Project Alpha">Project Alpha</Option>
              <Option value="Project Beta">Project Beta</Option>
              <Option value="Project Gamma">Project Gamma</Option>
            </Select>
          </Form.Item>

          {/* Période de rapport */}
          <Form.Item
            name="reportingPeriod"
            label="Reporting Period"
            rules={[{ required: true, message: 'Please select the reporting period' }]}
          >
            <RangePicker style={{ width: '100%' }} />
          </Form.Item>

          {/* Impact metrics */}
          <Form.Item
            name="peopleAffected"
            label="Number of People Affected"
            rules={[{ required: true, message: 'Please enter the number of people affected' }]}
          >
            <InputNumber style={{ width: '100%' }} min={0} placeholder="Enter number" />
          </Form.Item>

          <Form.Item
            name="co2Reduction"
            label="CO2 Reduction (tons)"
            rules={[{ required: true, message: 'Please enter the CO2 reduction in tons' }]}
          >
            <InputNumber style={{ width: '100%' }} min={0} placeholder="Enter value" />
          </Form.Item>

          {/* Description narrative */}
          <Form.Item
            name="narrative"
            label="Impact Description"
            rules={[{ required: true, message: 'Please provide a description of the impact achieved' }]}
          >
            <TextArea rows={4} placeholder="Provide a narrative description..." />
          </Form.Item>

          {/* Upload des preuves */}
          <Form.Item
            name="evidence"
            label="Attach Evidence or Data Files"
            valuePropName="fileList"
            getValueFromEvent={(e) => (Array.isArray(e) ? e : e && e.fileList)}
          >
            <Upload beforeUpload={() => false} listType="text">
              <Button icon={<UploadOutlined />}>Upload File</Button>
            </Upload>
          </Form.Item>

          {/* Option de sauvegarde en brouillon */}
          <Form.Item
            name="saveDraft"
            label="Save as Draft"
            valuePropName="checked"
            initialValue={true}
          >
            <Switch
              checkedChildren="Draft"
              unCheckedChildren="Submit Final"
              onChange={(checked) => setSaveAsDraft(checked)}
            />
          </Form.Item>

          <Form.Item>
            <Button type="primary" htmlType="submit" loading={submitting}>
              Submit Report
            </Button>
          </Form.Item>
        </Form>

        {/* Modal de confirmation */}
        <Modal
          title="Report Submitted"
          visible={modalVisible}
          onOk={handleModalOk}
          onCancel={handleModalOk}
          footer={[
            <Button key="ok" type="primary" onClick={handleModalOk}>
              OK
            </Button>,
          ]}
        >
          <p>Your impact report has been successfully submitted.</p>
        </Modal>
      </div>
    </>
  );
};

SubmitImpactReports.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default SubmitImpactReports;

===== END keenkonnect\sustainability-impact\submit-impact-reports\page.tsx =====


===== BEGIN keenkonnect\sustainability-impact\sustainability-dashboard\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\sustainability-impact\sustainability-dashboard\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\sustainability-impact\sustainability-dashboard\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\sustainability-impact\sustainability-dashboard\index.test\page.tsx =====


===== BEGIN keenkonnect\sustainability-impact\sustainability-dashboard\page.tsx =====
'use client'

// pages/keenkonnect/sustainability-impact/sustainability-dashboard/index.tsx
import React, { useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, Row, Col, Statistic, Table, Select, Divider } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import {
  PieChart as RePieChart,
  Pie,
  Cell,
  Legend,
  ResponsiveContainer,
  Tooltip as ReTooltip,
} from 'recharts';

const { Option } = Select;

// -------------------------------
// Données simulées
// -------------------------------

// Statistiques globales
const globalStats = {
  totalCO2Saved: 50000,       // en kilogrammes
  totalVolunteerHours: 1200,  // en heures
  totalProjects: 45,
};

// Impact distribution pour le donut chart
const impactDistribution = [
  { name: 'Environmental', value: 55 },
  { name: 'Social', value: 30 },
  { name: 'Economic', value: 15 },
];
const PIE_COLORS = ['#0088FE', '#00C49F', '#FFBB28'];

// Données pour le leaderboard (liste de projets par impact)
interface LeaderboardEntry {
  key: string;
  projectName: string;
  impactScore: number;
  co2Saved: number;
  volunteerHours: number;
}

const leaderboardData: LeaderboardEntry[] = [
  { key: '1', projectName: 'Project Alpha', impactScore: 95, co2Saved: 15000, volunteerHours: 300 },
  { key: '2', projectName: 'Project Beta', impactScore: 88, co2Saved: 12000, volunteerHours: 250 },
  { key: '3', projectName: 'Project Gamma', impactScore: 82, co2Saved: 10000, volunteerHours: 200 },
  { key: '4', projectName: 'Project Delta', impactScore: 78, co2Saved: 8000, volunteerHours: 180 },
  { key: '5', projectName: 'Project Epsilon', impactScore: 75, co2Saved: 7000, volunteerHours: 170 },
];

// Colonnes pour le leaderboard Table
const columns = [
  { title: 'Project Name', dataIndex: 'projectName', key: 'projectName' },
  { title: 'Impact Score', dataIndex: 'impactScore', key: 'impactScore' },
  { title: 'CO2 Saved (kg)', dataIndex: 'co2Saved', key: 'co2Saved' },
  { title: 'Volunteer Hours', dataIndex: 'volunteerHours', key: 'volunteerHours' },
];

// Filtres supplémentaires (simulés)
const regions = ['All', 'North America', 'Europe', 'Asia'];
const categories = ['All', 'Environmental', 'Social', 'Economic'];

const SustainabilityDashboard: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  // États pour les filtres (pour l’exemple, ils n’influencent pas réellement les données)
  const [selectedRegion, setSelectedRegion] = React.useState('All');
  const [selectedCategory, setSelectedCategory] = React.useState('All');

  // Simuler un filtrage des données du leaderboard (pour cet exemple, on retourne tout)
  const filteredLeaderboard = useMemo(() => {
    // Vous pouvez ajouter une logique de filtrage ici selon selectedRegion ou selectedCategory
    return leaderboardData;
  }, [selectedRegion, selectedCategory]);

  return (
    <>
      <Head>
        <title>Sustainability Dashboard</title>
        <meta name="description" content="High-level dashboard aggregating sustainability impact across projects." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête */}
        <h1 className="text-2xl font-bold mb-4">Sustainability Dashboard</h1>

        {/* Filtres */}
        <Row gutter={[16, 16]} className="mb-6">
          <Col xs={24} sm={12}>
            <Select value={selectedRegion} onChange={(value) => setSelectedRegion(value)} style={{ width: '100%' }}>
              {regions.map((region) => (
                <Option key={region} value={region}>{region}</Option>
              ))}
            </Select>
          </Col>
          <Col xs={24} sm={12}>
            <Select value={selectedCategory} onChange={(value) => setSelectedCategory(value)} style={{ width: '100%' }}>
              {categories.map((cat) => (
                <Option key={cat} value={cat}>{cat}</Option>
              ))}
            </Select>
          </Col>
        </Row>
        <Divider />

        {/* Global Impact Statistics */}
        <Row gutter={16} className="mb-6">
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Total CO2 Saved (kg)" value={globalStats.totalCO2Saved} />
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Total Volunteer Hours" value={globalStats.totalVolunteerHours} />
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Total Projects" value={globalStats.totalProjects} />
            </Card>
          </Col>
        </Row>

        {/* Impact Distribution Chart (Pie Chart) */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">Impact Distribution</h2>
          <div style={{ width: '100%', height: 300 }}>
            <ResponsiveContainer>
              <RePieChart>
                <ReTooltip />
                <Legend verticalAlign="bottom" height={36} />
                <Pie data={impactDistribution} dataKey="value" nameKey="name" innerRadius={60} outerRadius={100} paddingAngle={5}>
                  {impactDistribution.map((entry, index) => (
                    <Cell key={`cell-${index}`} fill={PIE_COLORS[index % PIE_COLORS.length]} />
                  ))}
                </Pie>
              </RePieChart>
            </ResponsiveContainer>
          </div>
        </Card>

        {/* Leaderboard of Projects by Impact */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">Top Projects by Impact</h2>
          <Table columns={columns} dataSource={filteredLeaderboard} pagination={{ pageSize: 5 }} />
        </Card>
      </div>
    </>
  );
};

SustainabilityDashboard.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default SustainabilityDashboard;

===== END keenkonnect\sustainability-impact\sustainability-dashboard\page.tsx =====


===== BEGIN keenkonnect\sustainability-impact\track-project-impact\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\sustainability-impact\track-project-impact\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\sustainability-impact\track-project-impact\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\sustainability-impact\track-project-impact\index.test\page.tsx =====


===== BEGIN keenkonnect\sustainability-impact\track-project-impact\page.tsx =====
'use client'

// pages/keenkonnect/sustainability-impact/track-project-impact/index.tsx
import React, { useState, useMemo, useEffect } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, Statistic, Row, Col, Select, DatePicker, Divider, Timeline } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import { ResponsiveContainer, LineChart as ReLineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, BarChart, Bar } from 'recharts';
import dayjs from 'dayjs';

const { Option } = Select;
const { RangePicker } = DatePicker;

// Exemple de projets disponibles
const projects = ['Project Alpha', 'Project Beta', 'Project Gamma'];

// Impact metrics simulés pour un projet
const sampleImpactMetrics = {
  carbonReduction: 1200, // in kg CO2 reduced
  peopleReached: 450,
  fundsSaved: 3000, // in dollars
};

// Données simulées pour l'évolution de l'impact dans le temps (line chart)
const sampleImpactTrend = [
  { period: 'Jan', value: 500 },
  { period: 'Feb', value: 600 },
  { period: 'Mar', value: 700 },
  { period: 'Apr', value: 800 },
  { period: 'May', value: 900 },
  { period: 'Jun', value: 1000 },
  { period: 'Jul', value: 1200 },
];

// Données simulées pour le breakdown par catégories (bar chart)
const sampleImpactBreakdown = [
  { category: 'Environmental', value: 1200 },
  { category: 'Social', value: 450 },
  { category: 'Economic', value: 3000 },
];

// Simulé: liste d'impact reports (Timeline)
const impactReports = [
  { key: '1', date: '2023-01-15', summary: 'Initial report - baseline established.' },
  { key: '2', date: '2023-04-20', summary: 'Significant improvement in carbon reduction.' },
  { key: '3', date: '2023-07-10', summary: 'Major milestone achieved in funds saved.' },
];

const TrackProjectImpact: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  // États pour le filtre par projet et période
  const [selectedProject, setSelectedProject] = useState<string>(projects[0]);
  const [dateRange, setDateRange] = useState<[any, any] | null>(null);

  // Pour simplifier, on ne change pas les métriques selon le filtre dans ce dummy
  // Vous pourrez intégrer ici une logique d'API pour actualiser les métriques selon le projet et la plage de dates

  // Filtre supplémentaire sur dateRange pour la Timeline (exemple simulé)
  const filteredImpactReports = useMemo(() => {
    if (!dateRange) return impactReports;
    return impactReports.filter(report => {
      const reportDate = dayjs(report.date);
      return reportDate.isAfter(dateRange[0]) && reportDate.isBefore(dateRange[1]);
    });
  }, [dateRange]);

  // Mise à jour automatique de la tendance (optionnel)
  useEffect(() => {
    // Ici vous pourriez intégrer un setInterval pour actualiser sampleImpactTrend en temps réel
  }, []);

  return (
    <>
      <Head>
        <title>Track Project Impact</title>
        <meta name="description" content="Dashboard for tracking the impact metrics of your project." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Track Project Impact</h1>

        {/* Sélecteur de projet et filtre de période */}
        <Row gutter={[16, 16]} className="mb-6">
          <Col xs={24} sm={12}>
            <Select defaultValue={selectedProject} style={{ width: '100%' }} onChange={setSelectedProject}>
              {projects.map((proj) => (
                <Option key={proj} value={proj}>{proj}</Option>
              ))}
            </Select>
          </Col>
          <Col xs={24} sm={12}>
            <RangePicker style={{ width: '100%' }} onChange={(dates) => setDateRange(dates as any)} />
          </Col>
        </Row>

        {/* Impact Metrics Overview */}
        <Row gutter={16} className="mb-6">
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Carbon Footprint Reduced (kg)" value={sampleImpactMetrics.carbonReduction} />
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="People Reached" value={sampleImpactMetrics.peopleReached} />
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Funds Saved ($)" value={sampleImpactMetrics.fundsSaved} />
            </Card>
          </Col>
        </Row>

        {/* Impact Trend Chart (Line Chart) */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-2">Impact Trend Over Time</h2>
          <div style={{ width: '100%', height: 300 }}>
            <ResponsiveContainer>
              <ReLineChart data={sampleImpactTrend}>
                <CartesianGrid strokeDasharray="3 3" />
                <XAxis dataKey="period" />
                <YAxis />
                <Tooltip />
                <Line type="monotone" dataKey="value" stroke="#8884d8" />
              </ReLineChart>
            </ResponsiveContainer>
          </div>
        </Card>

        {/* Impact Breakdown (Bar Chart) */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-2">Category-wise Impact Breakdown</h2>
          <div style={{ width: '100%', height: 300 }}>
            <ResponsiveContainer>
              <BarChart data={sampleImpactBreakdown}>
                <CartesianGrid strokeDasharray="3 3" />
                <XAxis dataKey="category" />
                <YAxis />
                <Tooltip />
                <Bar dataKey="value" fill="#82ca9d" />
              </BarChart>
            </ResponsiveContainer>
          </div>
        </Card>

        {/* Timeline of Impact Reports */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-2">Impact Reports Timeline</h2>
          <Timeline>
            {filteredImpactReports.map(report => (
              <Timeline.Item key={report.key}>
                <strong>{report.date}</strong>: {report.summary}
              </Timeline.Item>
            ))}
          </Timeline>
        </Card>
      </div>
    </>
  );
};

TrackProjectImpact.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default TrackProjectImpact;

===== END keenkonnect\sustainability-impact\track-project-impact\page.tsx =====


===== BEGIN keenkonnect\user-reputation\account-preferences\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\user-reputation\account-preferences\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\user-reputation\account-preferences\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\user-reputation\account-preferences\index.test\page.tsx =====


===== BEGIN keenkonnect\user-reputation\account-preferences\page.tsx =====
'use client'

// File: /pages/keenkonnect/user-reputation/account-preferences.tsx
import React, { useState } from "react";
import { NextPage } from "next";
import {
  Tabs,
  Form,
  Input,
  Button,
  Upload,
  Modal,
  Switch,
  Radio,
  message
} from "antd";
import { UploadOutlined } from "@ant-design/icons";
import PageContainer from "@/components/PageContainer";
// Ajout de l'import de MainLayout pour appliquer le layout global
import MainLayout from "@/components/layout-components/MainLayout";

const { TabPane } = Tabs;

const AccountPreferencesPage: NextPage = () => {
  // État pour gérer la visibilité du Modal de suppression de compte
  const [isModalVisible, setIsModalVisible] = useState(false);

  // Gestion des événements liés au Modal de suppression
  const showDeleteModal = () => {
    setIsModalVisible(true);
  };
  const handleDeleteCancel = () => {
    setIsModalVisible(false);
  };
  const handleDeleteConfirm = () => {
    // Ici, vous appellerez éventuellement une API pour la suppression de compte
    message.success("Account deletion requested.");
    setIsModalVisible(false);
  };

  // Gestion des soumissions de formulaire pour chaque section
  const onFinishProfile = (values: any) => {
    console.log("Profile Info:", values);
    message.success("Profile info saved.");
  };

  const onFinishSecurity = (values: any) => {
    console.log("Security Info:", values);
    message.success("Security info saved.");
  };

  const onFinishNotifications = (values: any) => {
    console.log("Notifications Settings:", values);
    message.success("Notifications settings saved.");
  };

  const onFinishPrivacy = (values: any) => {
    console.log("Privacy Settings:", values);
    message.success("Privacy settings saved.");
  };

  return (
    <PageContainer title="Account & Preferences">
      <Tabs defaultActiveKey="profile">
        {/* ===== Section Profile Info ===== */}
        <TabPane tab="Profile Info" key="profile">
          <Form
            layout="vertical"
            onFinish={onFinishProfile}
            initialValues={{
              name: "John Doe",
              email: "john.doe@example.com",
            }}
          >
            <Form.Item
              label="Name"
              name="name"
              rules={[{ required: true, message: "Please enter your name" }]}
            >
              <Input />
            </Form.Item>
            <Form.Item label="Email" name="email">
              <Input readOnly />
            </Form.Item>
            <Form.Item label="Profile Picture" name="avatar">
              <Upload name="avatar" listType="picture" showUploadList={false}>
                <Button icon={<UploadOutlined />}>Click to Upload</Button>
              </Upload>
            </Form.Item>
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Profile
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Section Security ===== */}
        <TabPane tab="Security" key="security">
          <Form layout="vertical" onFinish={onFinishSecurity}>
            <Form.Item
              label="Current Password"
              name="currentPassword"
              rules={[{ required: true, message: "Please enter your current password" }]}
            >
              <Input.Password />
            </Form.Item>
            <Form.Item
              label="New Password"
              name="newPassword"
              rules={[{ required: true, message: "Please enter your new password" }]}
            >
              <Input.Password />
            </Form.Item>
            <Form.Item
              label="Confirm New Password"
              name="confirmNewPassword"
              dependencies={["newPassword"]}
              rules={[
                { required: true, message: "Please confirm your new password" },
                ({ getFieldValue }) => ({
                  validator(_, value) {
                    if (!value || getFieldValue("newPassword") === value) {
                      return Promise.resolve();
                    }
                    return Promise.reject("The two passwords do not match!");
                  },
                }),
              ]}
            >
              <Input.Password />
            </Form.Item>
            {/* Vous pouvez ajouter ici des paramètres 2FA si nécessaire */}
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Security Settings
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Section Notifications ===== */}
        <TabPane tab="Notifications" key="notifications">
          <Form
            layout="vertical"
            onFinish={onFinishNotifications}
            initialValues={{ teamInvites: true, emailUpdates: false }}
          >
            <Form.Item
              label="Team Invites"
              name="teamInvites"
              valuePropName="checked"
            >
              <Switch />
            </Form.Item>
            <Form.Item
              label="Email Updates"
              name="emailUpdates"
              valuePropName="checked"
            >
              <Switch />
            </Form.Item>
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Notification Settings
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Section Privacy ===== */}
        <TabPane tab="Privacy" key="privacy">
          <Form
            layout="vertical"
            onFinish={onFinishPrivacy}
            initialValues={{ visibility: "public" }}
          >
            <Form.Item label="Profile Visibility" name="visibility">
              <Radio.Group>
                <Radio value="public">Public</Radio>
                <Radio value="private">Private</Radio>
              </Radio.Group>
            </Form.Item>
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Privacy Settings
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Section Danger Zone ===== */}
        <TabPane tab="Danger Zone" key="danger">
          <div
            style={{
              padding: "16px",
              background: "#fff",
              border: "1px solid #f0f0f0",
              borderRadius: "4px",
            }}
          >
            <p style={{ color: "red", fontWeight: "bold" }}>
              Warning: Deleting your account is irreversible. Please proceed with caution.
            </p>
            <Button type="primary" danger onClick={showDeleteModal}>
              Delete Account
            </Button>
            <Modal
              title="Confirm Account Deletion"
              visible={isModalVisible}
              onOk={handleDeleteConfirm}
              onCancel={handleDeleteCancel}
              okText="Delete"
              okButtonProps={{ danger: true }}
            >
              <p>Are you sure you want to delete your account? This action cannot be undone.</p>
            </Modal>
          </div>
        </TabPane>
      </Tabs>
    </PageContainer>
  );
};

// Correction : envelopper la page dans MainLayout via la fonction getLayout
AccountPreferencesPage.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default AccountPreferencesPage;

===== END keenkonnect\user-reputation\account-preferences\page.tsx =====


===== BEGIN keenkonnect\user-reputation\manage-expertise-areas\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\user-reputation\manage-expertise-areas\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\user-reputation\manage-expertise-areas\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\user-reputation\manage-expertise-areas\index.test\page.tsx =====


===== BEGIN keenkonnect\user-reputation\manage-expertise-areas\page.tsx =====
import React from 'react';
import { NextPage } from 'next';
import { Form, Checkbox, Select, Button, Alert, Divider } from 'antd';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Option } = Select;

const ManageExpertiseAreas: NextPage = () => {
  const [form] = Form.useForm();

  // Données initiales : expertises déjà sélectionnées par l'utilisateur
  const currentExpertiseInitial: string[] = ['Frontend Development', 'UI/UX Design'];

  // Liste complète des domaines d'expertise disponibles
  const expertiseOptions: string[] = [
    'Frontend Development',
    'Backend Development',
    'UI/UX Design',
    'Data Science',
    'DevOps',
    'Mobile Development',
    'QA',
    'Project Management',
  ];

  // Gestion de la soumission : intégration d'une API ou logique de mise à jour
  const onFinish = (values: any) => {
    console.log('Updated Expertise Areas:', values);
    // Traitement complémentaire
  };

  return (
    <PageContainer title="Manage Expertise Areas">
      <Form
        form={form}
        layout="vertical"
        initialValues={{
          currentExpertise: currentExpertiseInitial,
          newExpertise: [],
        }}
        onFinish={onFinish}
      >
        {/* Liste des expertises actuelles */}
        <Form.Item label="Current Expertise Areas" name="currentExpertise">
          <Checkbox.Group>
            {expertiseOptions.map((option) => (
              <Checkbox key={option} value={option}>
                {option}
              </Checkbox>
            ))}
          </Checkbox.Group>
        </Form.Item>

        <Divider />

        {/* Sélecteur pour ajouter de nouvelles expertises */}
        <Form.Item
          label="Add New Expertise Area"
          name="newExpertise"
          tooltip="Adding an expertise area will require validation through contributions."
        >
          <Select mode="multiple" placeholder="Select new expertise areas to add" allowClear>
            {expertiseOptions
              .filter((opt) => !currentExpertiseInitial.includes(opt))
              .map((option) => (
                <Option key={option} value={option}>
                  {option}
                </Option>
              ))}
          </Select>
        </Form.Item>

        {/* Message informatif */}
        <Alert
          message="Note: Adding an expertise will require validation through contributions."
          type="info"
          showIcon
          style={{ marginBottom: 16 }}
        />

        {/* Bouton pour sauvegarder */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Save Changes
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

// Correction : envelopper la page dans MainLayout
ManageExpertiseAreas.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ManageExpertiseAreas;

===== END keenkonnect\user-reputation\manage-expertise-areas\page.tsx =====


===== BEGIN keenkonnect\user-reputation\view-reputation-ekoh\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\user-reputation\view-reputation-ekoh\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\user-reputation\view-reputation-ekoh\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\user-reputation\view-reputation-ekoh\index.test\page.tsx =====


===== BEGIN keenkonnect\user-reputation\view-reputation-ekoh\page.tsx =====
import React from 'react';
import { NextPage } from 'next';
import { Card, Statistic, Row, Col, List, Typography, Divider } from 'antd';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout'; // Assurez-vous que ce chemin est correct

const { Title, Text } = Typography;

interface Expertise {
  id: string;
  name: string;
  weight: string;
}

interface Achievement {
  id: string;
  title: string;
  description: string;
}

const ViewReputationEkoh: NextPage = () => {
  // Données simulées pour l'exemple
  const reputation = {
    ekohScore: 1234,
    smartVoteWeight: 75, // exprimé en pourcentage
  };

  const expertiseAreas: Expertise[] = [
    { id: '1', name: 'Frontend Development', weight: '30%' },
    { id: '2', name: 'Backend Development', weight: '25%' },
    { id: '3', name: 'UI/UX Design', weight: '20%' },
    { id: '4', name: 'Data Science', weight: '15%' },
    { id: '5', name: 'DevOps', weight: '10%' },
  ];

  const achievements: Achievement[] = [
    {
      id: 'a1',
      title: 'Top Contributor',
      description: 'Awarded for significant expertise contributions to the community.',
    },
    {
      id: 'a2',
      title: 'Innovation Leader',
      description: 'Recognized for innovative solutions and creative problem-solving.',
    },
  ];

  return (
    <PageContainer title="View Reputation (Ekoh)">
      {/* Section récapitulative des scores */}
      <Row gutter={[16, 16]}>
        <Col xs={24} sm={12}>
          <Card>
            <Statistic title="Ekoh Score" value={reputation.ekohScore} />
          </Card>
        </Col>
        <Col xs={24} sm={12}>
          <Card>
            <Statistic title="Smart Vote Weight" value={reputation.smartVoteWeight} suffix="%" />
          </Card>
        </Col>
      </Row>

      <Divider />

      {/* Section Graphique */}
      <Row gutter={[16, 16]}>
        <Col xs={24} sm={12}>
          <Card title="Expertise Contributions">
            {/* Ici vous intégrerez un pie chart pour visualiser la répartition des contributions */}
            <div
              style={{
                height: 200,
                textAlign: 'center',
                lineHeight: '200px',
                background: '#f0f2f5',
              }}
            >
              Pie Chart Placeholder
            </div>
          </Card>
        </Col>
        <Col xs={24} sm={12}>
          <Card title="Score Trend">
            {/* Ici vous intégrerez une courbe de tendance illustrant l’évolution du score dans le temps */}
            <div
              style={{
                height: 200,
                textAlign: 'center',
                lineHeight: '200px',
                background: '#f0f2f5',
              }}
            >
              Trend Line Chart Placeholder
            </div>
          </Card>
        </Col>
      </Row>

      <Divider />

      {/* Liste d'expertise */}
      <Title level={4}>Expertise Areas & Weights</Title>
      <List
        itemLayout="horizontal"
        dataSource={expertiseAreas}
        renderItem={(item) => (
          <List.Item key={item.id}>
            <List.Item.Meta title={item.name} description={`Weight: ${item.weight}`} />
          </List.Item>
        )}
      />

      <Divider />

      {/* Achèvements et badges */}
      <Title level={4}>Achievements & Badges</Title>
      <List
        grid={{ gutter: 16, column: 2 }}
        dataSource={achievements}
        renderItem={(item) => (
          <List.Item key={item.id}>
            <Card title={item.title}>
              <Text>{item.description}</Text>
            </Card>
          </List.Item>
        )}
      />
    </PageContainer>
  );
};

// Correction : envelopper la page dans MainLayout
ViewReputationEkoh.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ViewReputationEkoh;

===== END keenkonnect\user-reputation\view-reputation-ekoh\page.tsx =====


===== BEGIN keenkonnect\workspaces\browse-available-workspaces\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\workspaces\browse-available-workspaces\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\workspaces\browse-available-workspaces\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\workspaces\browse-available-workspaces\index.test\page.tsx =====


===== BEGIN keenkonnect\workspaces\browse-available-workspaces\page.tsx =====
'use client'

// pages/keenkonnect/workspaces/browse-available-workspaces/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { List, Card, Input, Select, Button, Row, Col, Pagination, Divider, Tag, Typography } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Search } = Input;
const { Option } = Select;
const { Text } = Typography;

interface Workspace {
  id: string;
  name: string;
  owner: string;
  purpose: string;
  tools: string[];
  currentUsers: number;
  lastActive: string;
  isJoinable: boolean;
}

// Exemple de données simulées pour les workspaces
const sampleWorkspaces: Workspace[] = [
  {
    id: '1',
    name: 'Data Science Hub',
    owner: 'Alice',
    purpose: 'Collaborative workspace for data analysis and machine learning projects.',
    tools: ['Data Science Notebook', 'Python'],
    currentUsers: 10,
    lastActive: '2023-09-06 10:00',
    isJoinable: true,
  },
  {
    id: '2',
    name: 'VR Collaboration Space',
    owner: 'Bob',
    purpose: 'Virtual reality space for immersive teamwork.',
    tools: ['VR', '3D Modeling'],
    currentUsers: 5,
    lastActive: '2023-09-06 09:30',
    isJoinable: false,
  },
  {
    id: '3',
    name: 'Programming Lab',
    owner: 'Charlie',
    purpose: 'Workspace for coding projects and software development.',
    tools: ['Programming', 'Collaboration Tools'],
    currentUsers: 8,
    lastActive: '2023-09-06 11:15',
    isJoinable: true,
  },
  {
    id: '4',
    name: 'Design Studio',
    owner: 'Diana',
    purpose: 'Creative space for design brainstorming and UI/UX work.',
    tools: ['Design Tools', 'Whiteboard'],
    currentUsers: 3,
    lastActive: '2023-09-06 08:45',
    isJoinable: true,
  },
  {
    id: '5',
    name: 'Innovators Room',
    owner: 'Edward',
    purpose: 'Workspace for innovative projects and ideation.',
    tools: ['Brainstorming', 'Prototyping'],
    currentUsers: 12,
    lastActive: '2023-09-06 10:30',
    isJoinable: false,
  },
];

const BrowseAvailableWorkspaces: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  // États pour la recherche et les filtres
  const [searchText, setSearchText] = useState('');
  const [selectedTool, setSelectedTool] = useState<string>('All');
  // Pagination
  const [currentPage, setCurrentPage] = useState(1);
  const pageSize = 4; // ajustable

  // Filtrer les workspaces en fonction des critères
  const filteredWorkspaces = useMemo(() => {
    return sampleWorkspaces.filter((workspace) => {
      const matchesSearch = workspace.name.toLowerCase().includes(searchText.toLowerCase());
      const matchesTool = selectedTool === 'All' || workspace.tools.includes(selectedTool);
      return matchesSearch && matchesTool;
    });
  }, [searchText, selectedTool]);

  // Appliquer la pagination
  const paginatedWorkspaces = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize;
    return filteredWorkspaces.slice(startIndex, startIndex + pageSize);
  }, [filteredWorkspaces, currentPage, pageSize]);

  // Gestion de l'action de rejoindre ou de demander l'accès
  const handleJoinAction = (workspace: Workspace) => {
    if (workspace.isJoinable) {
      router.push(`/keenkonnect/workspaces/join?id=${workspace.id}`);
    } else {
      router.push(`/keenkonnect/workspaces/request-access?id=${workspace.id}`);
    }
  };

  return (
    <>
      <Head>
        <title>Browse Available Workspaces</title>
        <meta name="description" content="Explore and join public workspaces available for collaboration." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de page */}
        <h1 className="text-2xl font-bold mb-4">Browse Available Workspaces</h1>
        
        {/* Contrôles de recherche et de filtre */}
        <Row gutter={[16, 16]} className="mb-4">
          <Col xs={24} sm={12}>
            <Search
              placeholder="Search workspaces..."
              allowClear
              onSearch={(value) => {
                setSearchText(value);
                setCurrentPage(1);
              }}
            />
          </Col>
          <Col xs={24} sm={12}>
            <Select
              defaultValue="All"
              style={{ width: '100%' }}
              onChange={(value) => {
                setSelectedTool(value);
                setCurrentPage(1);
              }}
            >
              <Option value="All">All Tools</Option>
              <Option value="Data Science Notebook">Data Science Notebook</Option>
              <Option value="VR">VR</Option>
              <Option value="Programming">Programming</Option>
              <Option value="Design Tools">Design Tools</Option>
              <Option value="3D Modeling">3D Modeling</Option>
              <Option value="Whiteboard">Whiteboard</Option>
              <Option value="Brainstorming">Brainstorming</Option>
              <Option value="Prototyping">Prototyping</Option>
            </Select>
          </Col>
        </Row>
        <Divider />

        {/* Liste des workspaces */}
        <List
          grid={{ gutter: 16, xs: 1, sm: 2, md: 3, lg: 3 }}
          dataSource={paginatedWorkspaces}
          renderItem={(workspace: Workspace) => (
            <List.Item key={workspace.id}>
              <Card
                hoverable
                title={workspace.name}
                extra={<Text type="secondary">{workspace.owner}</Text>}
                actions={[
                  <Button type="primary" onClick={() => handleJoinAction(workspace)}>
                    {workspace.isJoinable ? 'Join' : 'Request Access'}
                  </Button>,
                ]}
              >
                <p>{workspace.purpose}</p>
                <div style={{ marginBottom: 8 }}>
                  {workspace.tools.map((tool, index) => (
                    <Tag key={index}>{tool}</Tag>
                  ))}
                </div>
                <Divider />
                <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                  <Tag color="blue">{workspace.currentUsers} Users</Tag>
                  <Tag color="volcano">Last Active: {workspace.lastActive}</Tag>
                </div>
              </Card>
            </List.Item>
          )}
        />

        {/* Pagination */}
        <Row justify="center" className="mt-4">
          <Pagination
            current={currentPage}
            pageSize={pageSize}
            total={filteredWorkspaces.length}
            onChange={(page) => setCurrentPage(page)}
          />
        </Row>
      </div>
    </>
  );
};

BrowseAvailableWorkspaces.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default BrowseAvailableWorkspaces;

===== END keenkonnect\workspaces\browse-available-workspaces\page.tsx =====


===== BEGIN keenkonnect\workspaces\launch-new-workspace\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\workspaces\launch-new-workspace\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\workspaces\launch-new-workspace\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\workspaces\launch-new-workspace\index.test\page.tsx =====


===== BEGIN keenkonnect\workspaces\launch-new-workspace\page.tsx =====
'use client'

// pages/keenkonnect/workspaces/launch-new-workspace/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Steps, Button, Form, Input, Select, Result, Divider, message } from 'antd';
import { UploadOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Step } = Steps;
const { Option } = Select;
const { TextArea } = Input;

const LaunchNewWorkspace: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  const [currentStep, setCurrentStep] = useState(0);
  const [submitted, setSubmitted] = useState(false);
  const [form] = Form.useForm();

  // Stockage des données recueillies par le wizard
  const [workspaceData, setWorkspaceData] = useState({
    workspaceName: '',
    workspaceDescription: '',
    linkedProject: '', // optionnel
    environmentTemplate: '',
    accessibility: 'Private', // Private | Team | Public
    resourceParams: '', // Ex: "4 vCPUs, 8GB RAM"
  });

  const steps = [
    { title: 'Basic Info' },
    { title: 'Environment Settings' },
    { title: 'Confirmation' },
  ];

  // Passage à l'étape suivante, après validation des champs de l'étape courante
  const next = async () => {
    try {
      const values = await form.validateFields();
      setWorkspaceData(prev => ({ ...prev, ...values }));
      setCurrentStep(currentStep + 1);
      form.resetFields();
    } catch (err) {
      message.error('Please complete the required fields.');
    }
  };

  const prev = () => {
    setCurrentStep(currentStep - 1);
  };

  const onFinish = async () => {
    try {
      const values = await form.validateFields();
      setWorkspaceData(prev => ({ ...prev, ...values }));
      // Simuler la création du workspace (appel API à intégrer ici)
      console.log('Workspace created with data:', { ...workspaceData, ...values });
      setSubmitted(true);
    } catch (err) {
      message.error('Please ensure all fields are correctly filled.');
    }
  };

  const renderStepContent = (step: number) => {
    switch (step) {
      case 0:
        return (
          <>
            <Form.Item
              name="workspaceName"
              label="Workspace Name"
              rules={[{ required: true, message: 'Please enter a workspace name' }]}
              initialValue={workspaceData.workspaceName}
            >
              <Input placeholder="Enter workspace name" />
            </Form.Item>
            <Form.Item
              name="workspaceDescription"
              label="Workspace Description"
              rules={[{ required: true, message: 'Please enter a workspace description' }]}
              initialValue={workspaceData.workspaceDescription}
            >
              <TextArea rows={4} placeholder="Describe your workspace purpose" />
            </Form.Item>
            <Form.Item name="linkedProject" label="Link to Existing Project (optional)" initialValue={workspaceData.linkedProject}>
              <Select placeholder="Select a project or leave blank">
                <Option value="">None</Option>
                <Option value="Project Alpha">Project Alpha</Option>
                <Option value="Project Beta">Project Beta</Option>
              </Select>
            </Form.Item>
          </>
        );
      case 1:
        return (
          <>
            <Form.Item
              name="environmentTemplate"
              label="Environment Template"
              rules={[{ required: true, message: 'Please select an environment template' }]}
              initialValue={workspaceData.environmentTemplate}
            >
              <Select placeholder="Select template">
                <Option value="Coding Notebook">Coding Notebook</Option>
                <Option value="Design Canvas">Design Canvas</Option>
                <Option value="AR/VR Room">AR/VR Room</Option>
              </Select>
            </Form.Item>
            <Form.Item
              name="accessibility"
              label="Accessibility"
              rules={[{ required: true, message: 'Please choose the accessibility' }]}
              initialValue={workspaceData.accessibility}
            >
              <Select>
                <Option value="Private">Private</Option>
                <Option value="Team">Team</Option>
                <Option value="Public">Public</Option>
              </Select>
            </Form.Item>
            <Form.Item
              name="resourceParams"
              label="Resource Parameters"
              initialValue={workspaceData.resourceParams}
            >
              <Input placeholder="e.g. 4 vCPUs, 8GB RAM" />
            </Form.Item>
          </>
        );
      case 2:
        return (
          <div>
            <h3>Review Your Workspace Configuration:</h3>
            <p>
              <strong>Name:</strong> {workspaceData.workspaceName || 'N/A'}
            </p>
            <p>
              <strong>Description:</strong> {workspaceData.workspaceDescription || 'N/A'}
            </p>
            <p>
              <strong>Linked Project:</strong> {workspaceData.linkedProject || 'None'}
            </p>
            <p>
              <strong>Environment Template:</strong> {workspaceData.environmentTemplate || 'N/A'}
            </p>
            <p>
              <strong>Accessibility:</strong> {workspaceData.accessibility || 'N/A'}
            </p>
            <p>
              <strong>Resource Parameters:</strong> {workspaceData.resourceParams || 'N/A'}
            </p>
          </div>
        );
      default:
        return null;
    }
  };

  if (submitted) {
    return (
      <div className="container mx-auto p-5">
        <Result
          status="success"
          title="Workspace Launched Successfully!"
          subTitle="Your new workspace has been created. Click the button below to enter your workspace."
          extra={[
            <Button type="primary" key="launch" onClick={() => router.push(`/keenkonnect/workspaces/launch-workspace?id=123`)}>
              Open Workspace
            </Button>,
          ]}
        />
      </div>
    );
  }

  return (
    <>
      <Head>
        <title>Launch New Workspace</title>
        <meta name="description" content="Configure and launch a new workspace for collaboration." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Launch New Workspace</h1>
        <Steps current={currentStep} className="mb-6">
          {steps.map((item, index) => (
            <Step key={index} title={item.title} />
          ))}
        </Steps>
        <Form form={form} layout="vertical" onFinish={onFinish}>
          {renderStepContent(currentStep)}
          <div style={{ marginTop: 24 }}>
            {currentStep > 0 && (
              <Button style={{ marginRight: 8 }} onClick={prev}>
                Back
              </Button>
            )}
            {currentStep < steps.length - 1 && (
              <Button type="primary" onClick={next}>
                Next
              </Button>
            )}
            {currentStep === steps.length - 1 && (
              <Button type="primary" htmlType="submit">
                Launch Workspace
              </Button>
            )}
          </div>
        </Form>
      </div>
    </>
  );
};

LaunchNewWorkspace.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default LaunchNewWorkspace;

===== END keenkonnect\workspaces\launch-new-workspace\page.tsx =====


===== BEGIN keenkonnect\workspaces\my-workspaces\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END keenkonnect\workspaces\my-workspaces\components\CommonWidget\page.tsx =====


===== BEGIN keenkonnect\workspaces\my-workspaces\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END keenkonnect\workspaces\my-workspaces\index.test\page.tsx =====


===== BEGIN keenkonnect\workspaces\my-workspaces\page.tsx =====
'use client'

// pages/keenkonnect/workspaces/my-workspaces/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, List, Button, Badge, Row, Col, Select, Divider, Typography } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Title, Text } = Typography;
const { Option } = Select;

interface Workspace {
  id: string;
  name: string;
  project: string;
  status: 'active' | 'inactive';
  description: string;
  environment: string; // Ex: "Python environment", "Design whiteboard"
}

// Données simulées pour les workspaces
const sampleWorkspaces: Workspace[] = [
  {
    id: '1',
    name: 'Workspace Alpha',
    project: 'Project Alpha',
    status: 'active',
    description: 'Interactive Python coding environment for data analysis.',
    environment: 'Python environment',
  },
  {
    id: '2',
    name: 'Workspace Beta',
    project: 'Project Beta',
    status: 'inactive',
    description: 'Digital whiteboard for design brainstorming.',
    environment: 'Design whiteboard',
  },
  {
    id: '3',
    name: 'Workspace Gamma',
    project: 'Project Alpha',
    status: 'active',
    description: 'Collaborative space for real-time coding and testing.',
    environment: 'Development environment',
  },
  {
    id: '4',
    name: 'Workspace Delta',
    project: 'Project Delta',
    status: 'inactive',
    description: 'Project planning and management space.',
    environment: 'Planning Board',
  },
];

const MyWorkspaces: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();

  // État pour le filtre par projet
  const [selectedProject, setSelectedProject] = useState<string>('All');

  // Filtrage des workspaces selon le projet sélectionné
  const filteredWorkspaces = useMemo(() => {
    if (selectedProject === 'All') return sampleWorkspaces;
    return sampleWorkspaces.filter(ws => ws.project === selectedProject);
  }, [selectedProject]);

  // Calcul du nombre de workspaces actifs
  const activeCount = useMemo(() => {
    return sampleWorkspaces.filter(ws => ws.status === 'active').length;
  }, []);

  // Liste des projets disponibles (unique)
  const projectOptions = useMemo(() => {
    const projects = Array.from(new Set(sampleWorkspaces.map(ws => ws.project)));
    return ['All', ...projects];
  }, []);

  // Gestion des actions sur un workspace
  const handleWorkspaceAction = (ws: Workspace) => {
    // Selon le statut, redirigez ou lancez une action
    if (ws.status === 'active') {
      router.push(`/keenkonnect/workspaces/launch-workspace?id=${ws.id}`);
    } else {
      router.push(`/keenkonnect/workspaces/launch-workspace?id=${ws.id}`);
    }
  };

  const handleManageSettings = (ws: Workspace) => {
    router.push(`/keenkonnect/workspaces/manage-workspace?id=${ws.id}`);
  };

  return (
    <>
      <Head>
        <title>My Workspaces</title>
        <meta name="description" content="View and manage your interactive workspaces on KeenKonnect." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de page */}
        <Title level={2}>My Workspaces</Title>
        <Divider />

        {/* Résumé des workspaces actifs */}
        <Row gutter={[16, 16]} className="mb-4">
          <Col>
            <Text strong>Total Active Workspaces: {activeCount}</Text>
          </Col>
        </Row>

        {/* Filtres */}
        <Row gutter={[16, 16]} className="mb-4">
          <Col xs={24} sm={12}>
            <Text>Filter by Project:</Text>
            <Select
              value={selectedProject}
              onChange={(value) => setSelectedProject(value)}
              style={{ width: '100%' }}
            >
              {projectOptions.map((project) => (
                <Option key={project} value={project}>{project}</Option>
              ))}
            </Select>
          </Col>
        </Row>
        <Divider />

        {/* Liste des workspaces */}
        <List
          grid={{ gutter: 16, xs: 1, sm: 2, md: 2, lg: 3, xl: 3 }}
          dataSource={filteredWorkspaces}
          renderItem={(workspace: Workspace) => (
            <List.Item key={workspace.id}>
              <Card
                hoverable
                title={workspace.name}
                extra={
                  workspace.status === 'active' ? (
                    <Badge status="success" text="Active" />
                  ) : (
                    <Badge status="default" text="Inactive" />
                  )
                }
              >
                <p><strong>Project:</strong> {workspace.project}</p>
                <p><strong>Description:</strong> {workspace.description}</p>
                <p><strong>Environment:</strong> {workspace.environment}</p>
                <div style={{ marginTop: 12, display: 'flex', justifyContent: 'space-between' }}>
                  <Button type="primary" onClick={() => handleWorkspaceAction(workspace)}>
                    {workspace.status === 'active' ? 'Join Now' : 'Launch'}
                  </Button>
                  <Button onClick={() => handleManageSettings(workspace)}>
                    Manage Settings
                  </Button>
                </div>
              </Card>
            </List.Item>
          )}
        />
      </div>
    </>
  );
};

MyWorkspaces.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default MyWorkspaces;

===== END keenkonnect\workspaces\my-workspaces\page.tsx =====


===== BEGIN konnected\certifications\certification-programs\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\certifications\certification-programs\components\CommonWidget\page.tsx =====


===== BEGIN konnected\certifications\certification-programs\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\certifications\certification-programs\index.test\page.tsx =====


===== BEGIN konnected\certifications\certification-programs\page.tsx =====
'use client'

// File: /pages/konnected/certifications/certification-programs.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Row,
  Col,
  Card,
  Input,
  Select,
  Button,
  Drawer,
  Typography,
  Pagination
} from 'antd';
import { FileSearchOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Option } = Select;

interface CertificationProgram {
  id: string;
  title: string;
  description: string;
  category: string;
  levels: number;
  upcomingExamDates: string;
  // Vous pouvez ajouter d’autres propriétés comme l’URL d’une image/icone
}

const dummyPrograms: CertificationProgram[] = [
  {
    id: '1',
    title: 'Full-Stack Web Development',
    description: 'Learn both frontend and backend technologies.',
    category: 'Technical',
    levels: 3,
    upcomingExamDates: '2023-11-05, 2023-12-10',
  },
  {
    id: '2',
    title: 'Digital Marketing Professional',
    description: 'Master online marketing and social media strategies.',
    category: 'Vocational',
    levels: 2,
    upcomingExamDates: '2023-10-20',
  },
  {
    id: '3',
    title: 'Data Science Certification',
    description: 'Learn data analysis, machine learning and visualization.',
    category: 'Technical',
    levels: 4,
    upcomingExamDates: '2023-11-15, 2023-12-20',
  },
  // Ajoutez d’autres programmes selon vos besoins...
];

const CertificationPrograms: NextPage = () => {
  const [searchKeyword, setSearchKeyword] = useState<string>('');
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [drawerVisible, setDrawerVisible] = useState<boolean>(false);
  const [selectedProgram, setSelectedProgram] = useState<CertificationProgram | null>(null);
  // Pour la pagination (si nécessaire)
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 6;

  // Filtrage des programmes selon le mot-clé et la catégorie
  const filteredPrograms = dummyPrograms.filter((program) => {
    const matchesKeyword =
      program.title.toLowerCase().includes(searchKeyword.toLowerCase()) ||
      program.description.toLowerCase().includes(searchKeyword.toLowerCase());
    const matchesCategory =
      selectedCategory === 'All' || program.category === selectedCategory;
    return matchesKeyword && matchesCategory;
  });

  // Gestion de la pagination
  const paginatedPrograms = filteredPrograms.slice(
    (currentPage - 1) * pageSize,
    currentPage * pageSize
  );

  // Ouverture du Drawer de détails
  const openDrawer = (program: CertificationProgram) => {
    setSelectedProgram(program);
    setDrawerVisible(true);
  };

  // Fermeture du Drawer
  const closeDrawer = () => {
    setDrawerVisible(false);
    setSelectedProgram(null);
  };

  return (
    <PageContainer title="Certification Programs">
      <Row gutter={[16, 16]} style={{ marginBottom: 24 }}>
        <Col xs={24} sm={12}>
          <Input
            placeholder="Search programs..."
            value={searchKeyword}
            onChange={(e) => {
              setSearchKeyword(e.target.value);
              setCurrentPage(1);
            }}
            prefix={<FileSearchOutlined />}
          />
        </Col>
        <Col xs={24} sm={12}>
          <Select
            style={{ width: '100%' }}
            placeholder="Filter by category"
            value={selectedCategory}
            onChange={(value) => {
              setSelectedCategory(value);
              setCurrentPage(1);
            }}
          >
            <Option value="All">All</Option>
            <Option value="Technical">Technical</Option>
            <Option value="Vocational">Vocational</Option>
            {/* Ajoutez d’autres catégories si nécessaire */}
          </Select>
        </Col>
      </Row>

      <Row gutter={[16, 16]}>
        {paginatedPrograms.map((program) => (
          <Col xs={24} sm={12} md={8} key={program.id}>
            <Card
              title={program.title}
              extra={
                <Button type="link" onClick={() => openDrawer(program)}>
                  Learn More
                </Button>
              }
            >
              <Text>{program.description}</Text>
              <br />
              <Text strong>Levels:</Text> {program.levels}
              <br />
              <Text strong>Upcoming Exams:</Text> {program.upcomingExamDates}
              <br />
              <Button type="primary" style={{ marginTop: 8 }}>
                Register
              </Button>
            </Card>
          </Col>
        ))}
      </Row>

      {filteredPrograms.length > pageSize && (
        <Row justify="center" style={{ marginTop: 24 }}>
          <Pagination
            current={currentPage}
            pageSize={pageSize}
            total={filteredPrograms.length}
            onChange={(page) => setCurrentPage(page)}
          />
        </Row>
      )}

      {/* Drawer de détails du programme */}
      <Drawer
        title={selectedProgram?.title}
        placement="right"
        onClose={closeDrawer}
        visible={drawerVisible}
      >
        {selectedProgram && (
          <>
            <p>
              <strong>Description: </strong>
              {selectedProgram.description}
            </p>
            <p>
              <strong>Category: </strong>
              {selectedProgram.category}
            </p>
            <p>
              <strong>Levels: </strong>
              {selectedProgram.levels}
            </p>
            <p>
              <strong>Upcoming Exam Dates: </strong>
              {selectedProgram.upcomingExamDates}
            </p>
            <p>
              <strong>Syllabus:</strong>
              <br />
              {/* Cette section pourra inclure le détail du programme */}
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod
              libero nec nulla facilisis.
            </p>
            <Button type="primary" style={{ marginTop: 16 }}>
              Register Now
            </Button>
          </>
        )}
      </Drawer>
    </PageContainer>
  );
};

// Correction : envelopper la page dans MainLayout via getLayout
CertificationPrograms.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default CertificationPrograms;

===== END konnected\certifications\certification-programs\page.tsx =====


===== BEGIN konnected\certifications\exam-dashboard-results\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\certifications\exam-dashboard-results\components\CommonWidget\page.tsx =====


===== BEGIN konnected\certifications\exam-dashboard-results\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\certifications\exam-dashboard-results\index.test\page.tsx =====


===== BEGIN konnected\certifications\exam-dashboard-results\page.tsx =====
'use client'

// File: /pages/konnected/certifications/exam-dashboard-results.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Card,
  Statistic,
  Table,
  Drawer,
  Button,
  Typography,
  Row,
  Col,
  List,
  Alert,
} from 'antd';
import { EyeOutlined, FilePdfOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;

// Interface pour représenter une tentative d'examen
interface ExamResult {
  id: string;
  examName: string;
  dateTaken: string;
  score: number;
  result: 'Pass' | 'Fail';
  details: string; // Description détaillée ou récapitulatif
}

// Examen à venir (si l'utilisateur est inscrit)
const upcomingExam = {
  examName: 'Certification Exam Level 1',
  examDate: '2023-10-10 10:00',
  status: 'Registered',
};

// Historique des examens réalisés
const examResultsData: ExamResult[] = [
  {
    id: '1',
    examName: 'Certification Exam Level 1',
    dateTaken: '2023-08-10',
    score: 78,
    result: 'Pass',
    details: 'Score global de 78%. Excellente performance en théorie, à améliorer en pratique.',
  },
  {
    id: '2',
    examName: 'Certification Exam Level 1',
    dateTaken: '2023-07-05',
    score: 65,
    result: 'Fail',
    details: 'Score global de 65%. Points faibles identifiés en gestion des situations critiques.',
  },
];

// Exemples de certificats obtenus
const certificationsEarned = [
  { id: 'cert1', title: 'Certification Exam Level 1', pdfLink: '#' },
  { id: 'cert2', title: 'Advanced Certification Exam', pdfLink: '#' },
];

const ExamDashboardResults: NextPage = () => {
  // État pour gérer le Drawer de détail d'une tentative d'examen
  const [drawerVisible, setDrawerVisible] = useState<boolean>(false);
  const [selectedExam, setSelectedExam] = useState<ExamResult | null>(null);

  // Définition des colonnes du tableau
  const columns = [
    {
      title: 'Exam Name',
      dataIndex: 'examName',
      key: 'examName',
    },
    {
      title: 'Date Taken',
      dataIndex: 'dateTaken',
      key: 'dateTaken',
    },
    {
      title: 'Score',
      dataIndex: 'score',
      key: 'score',
      render: (score: number) => `${score}%`,
    },
    {
      title: 'Result',
      dataIndex: 'result',
      key: 'result',
      render: (result: 'Pass' | 'Fail') => (
        <Text strong style={{ color: result === 'Pass' ? 'green' : 'red' }}>
          {result}
        </Text>
      ),
    },
    {
      title: 'Action',
      key: 'action',
      render: (_: any, record: ExamResult) => (
        <Button
          type="link"
          icon={<EyeOutlined />}
          onClick={() => {
            setSelectedExam(record);
            setDrawerVisible(true);
          }}
        >
          View Details
        </Button>
      ),
    },
  ];

  return (
    <PageContainer title="Exam Dashboard & Results">
      {/* Section Examen à venir */}
      {upcomingExam && (
        <Card title="Upcoming Exam" style={{ marginBottom: 24 }}>
          <Row gutter={[16, 16]}>
            <Col xs={24} md={8}>
              <Text strong>Exam:</Text> {upcomingExam.examName}
            </Col>
            <Col xs={24} md={8}>
              <Text strong>Date:</Text> {upcomingExam.examDate}
            </Col>
            <Col xs={24} md={8}>
              <Text strong>Status:</Text> {upcomingExam.status}
            </Col>
          </Row>
        </Card>
      )}

      {/* Section Résumé des résultats pour le dernier examen terminé */}
      {examResultsData.length > 0 && (
        <Card title="Latest Exam Result" style={{ marginBottom: 24 }}>
          <Row gutter={16}>
            <Col xs={24} md={12}>
              <Statistic
                title="Score Achieved"
                value={examResultsData[0].score}
                suffix="%"
              />
            </Col>
            <Col xs={24} md={12}>
              <Statistic
                title="Result"
                value={examResultsData[0].result}
                valueStyle={{
                  color:
                    examResultsData[0].result === 'Pass' ? '#3f8600' : '#cf1322',
                }}
              />
            </Col>
          </Row>
        </Card>
      )}

      {/* Tableau historique des examens */}
      <Card title="Exam History" style={{ marginBottom: 24 }}>
        <Table
          columns={columns}
          dataSource={examResultsData}
          rowKey="id"
          pagination={{ pageSize: 5 }}
        />
      </Card>

      {/* Liste des certifications obtenues */}
      <Card title="Certificates Earned" style={{ marginBottom: 24 }}>
        <List
          dataSource={certificationsEarned}
          renderItem={(item) => (
            <List.Item
              actions={[
                <Button icon={<FilePdfOutlined />} type="link">
                  Download
                </Button>,
              ]}
            >
              <List.Item.Meta
                title={item.title}
                description={`Certificate ID: ${item.id}`}
              />
            </List.Item>
          )}
        />
      </Card>

      {/* Section Prochaines Étapes */}
      <Card>
        <Alert
          message="Next Steps: Explore further certification programs to advance your career."
          type="info"
          showIcon
        />
        <div style={{ marginTop: 16 }}>
          <Button type="primary" href="/konnected/certifications/programs">
            Certification Programs
          </Button>
        </div>
      </Card>

      {/* Drawer pour détailler l'examen sélectionné */}
      <Drawer
        title="Exam Details"
        placement="right"
        onClose={() => setDrawerVisible(false)}
        visible={drawerVisible}
      >
        {selectedExam && (
          <>
            <p>
              <strong>Exam Name:</strong> {selectedExam.examName}
            </p>
            <p>
              <strong>Date Taken:</strong> {selectedExam.dateTaken}
            </p>
            <p>
              <strong>Score:</strong> {selectedExam.score}%
            </p>
            <p>
              <strong>Result:</strong>{' '}
              <Text strong style={{ color: selectedExam.result === 'Pass' ? 'green' : 'red' }}>
                {selectedExam.result}
              </Text>
            </p>
            <p>
              <strong>Details:</strong>
            </p>
            <p>{selectedExam.details}</p>
          </>
        )}
      </Drawer>
    </PageContainer>
  );
};

// Correction : envelopper la page dans MainLayout via getLayout
ExamDashboardResults.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ExamDashboardResults;

===== END konnected\certifications\exam-dashboard-results\page.tsx =====


===== BEGIN konnected\certifications\exam-preparation\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\certifications\exam-preparation\components\CommonWidget\page.tsx =====


===== BEGIN konnected\certifications\exam-preparation\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\certifications\exam-preparation\index.test\page.tsx =====


===== BEGIN konnected\certifications\exam-preparation\page.tsx =====
// File: /pages/konnected/certifications/exam-preparation.tsx
import React from 'react';
import { NextPage } from 'next';
import {
  Card,
  List,
  Button,
  Steps,
  Progress,
  Alert,
  Typography,
  Row,
  Col,
} from 'antd';
import { CheckCircleTwoTone, ArrowRightOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
// Ajout de l'import de MainLayout pour envelopper la page avec le layout global
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Step } = Steps;

// Exemple de données pour les modules d'étude
interface Module {
  id: string;
  title: string;
  completed: boolean;
  progress: number; // Pourcentage de complétion (0 à 100)
}

const studyModules: Module[] = [
  {
    id: 'module1',
    title: 'Introduction to Certification Concepts',
    completed: true,
    progress: 100,
  },
  {
    id: 'module2',
    title: 'Advanced Topics and Best Practices',
    completed: false,
    progress: 50,
  },
  {
    id: 'module3',
    title: 'Practical Applications and Case Studies',
    completed: false,
    progress: 20,
  },
  {
    id: 'module4',
    title: 'Exam Strategies and Tips',
    completed: false,
    progress: 0,
  },
];

// Exemple de données pour les étapes recommandées du plan d'étude
const studyPlanSteps = [
  'Read and review study materials',
  'Complete interactive practice exercises',
  'Attempt a practice quiz',
  'Review feedback and focus on weaknesses',
];

const ExamPreparationPage: NextPage = () => {
  // Calcul de la progression globale (par exemple, moyenne des modules)
  const overallProgress =
    studyModules.reduce((acc, mod) => acc + mod.progress, 0) / studyModules.length;

  // Gestion du clic sur le bouton de lancement du quiz
  const handleStartQuiz = () => {
    // Ici, vous pouvez rediriger vers un nouvel écran de quiz ou ouvrir un modal.
    // Pour cet exemple, nous affichons simplement un message de log.
    console.log('Starting practice exam...');
  };

  return (
    <PageContainer title="Exam Preparation">
      <Row gutter={[24, 24]}>
        {/* Section Aperçu des Modules d'Étude */}
        <Col xs={24} md={12}>
          <Card title="Study Modules Overview">
            <List
              itemLayout="horizontal"
              dataSource={studyModules}
              renderItem={(module: Module) => (
                <List.Item
                  actions={[
                    <Button type="link" key="view" icon={<ArrowRightOutlined />}>
                      View Content
                    </Button>,
                  ]}
                >
                  <List.Item.Meta
                    title={
                      <span>
                        {module.title}{" "}
                        {module.completed && (
                          <CheckCircleTwoTone twoToneColor="#52c41a" />
                        )}
                      </span>
                    }
                    description={
                      <Text type="secondary">
                        {module.completed
                          ? "Completed"
                          : `In progress: ${module.progress}%`}
                      </Text>
                    }
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Section Progression Globale et Plan d'Étude */}
        <Col xs={24} md={12}>
          <Card title="Your Preparation Progress">
            <Text>Your overall progress:</Text>
            <Progress percent={Math.round(overallProgress)} status="active" />
            <br />
            <br />
            <Title level={5}>Recommended Study Plan</Title>
            <Steps direction="vertical" size="small" current={0}>
              {studyPlanSteps.map((step, index) => (
                <Step key={index} title={step} />
              ))}
            </Steps>
            <br />
            <Button type="primary" onClick={handleStartQuiz}>
              Start Practice Exam
            </Button>
          </Card>
        </Col>

        {/* Section Conseils et Informations */}
        <Col xs={24}>
          <Alert
            message="Exam Tips: Remember to pace yourself, review your weak areas, and take breaks during your study sessions."
            type="info"
            showIcon
          />
        </Col>
      </Row>
    </PageContainer>
  );
};

// Correction : envelopper la page dans MainLayout via getLayout
ExamPreparationPage.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ExamPreparationPage;

===== END konnected\certifications\exam-preparation\page.tsx =====


===== BEGIN konnected\certifications\exam-registration\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\certifications\exam-registration\components\CommonWidget\page.tsx =====


===== BEGIN konnected\certifications\exam-registration\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\certifications\exam-registration\index.test\page.tsx =====


===== BEGIN konnected\certifications\exam-registration\page.tsx =====
'use client'

// File: /pages/konnected/certifications/exam-registration.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Form,
  Input,
  Button,
  Steps,
  Select,
  Radio,
  Checkbox,
  Result,
  message,
} from 'antd';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Step } = Steps;
const { Option } = Select;

const ExamRegistration: NextPage = () => {
  // State pour gérer l'étape courante de l'inscription
  const [currentStep, setCurrentStep] = useState<number>(0);
  // Instance du formulaire
  const [form] = Form.useForm();
  // State pour stocker les données saisies
  const [registrationData, setRegistrationData] = useState<any>({});
  // State pour indiquer que l'inscription est terminée
  const [registrationCompleted, setRegistrationCompleted] = useState<boolean>(false);

  // Définition des titres d'étape
  const steps = [
    { title: 'Choose Exam' },
    { title: 'Schedule Details' },
    { title: 'Confirmation' },
  ];

  // Passage à l'étape suivante après validation des champs
  const next = () => {
    form
      .validateFields()
      .then((values) => {
        // Enregistrer les valeurs dans le state global d'inscription
        setRegistrationData({ ...registrationData, ...values });
        setCurrentStep(currentStep + 1);
      })
      .catch((info) => {
        console.log('Validation Failed:', info);
      });
  };

  // Retour à l'étape précédente
  const prev = () => {
    setCurrentStep(currentStep - 1);
  };

  // Traitement final de la soumission
  const onSubmit = () => {
    // Ici, vous pouvez intégrer un appel API ou une logique de paiement.
    message.success('Registration complete!');
    setRegistrationCompleted(true);
  };

  // Rendu conditionnel du contenu selon l'étape courante
  const renderStepContent = () => {
    switch (currentStep) {
      case 0:
        return (
          <>
            <Form.Item
              label="Select Exam"
              name="examChoice"
              rules={[{ required: true, message: 'Please select an exam' }]}
            >
              <Select placeholder="Choose an exam">
                <Option value="exam1">Certification Exam Level 1</Option>
                <Option value="exam2">Certification Exam Level 2</Option>
                <Option value="exam3">Certification Exam Advanced</Option>
              </Select>
            </Form.Item>
          </>
        );
      case 1:
        return (
          <>
            <Form.Item
              label="Preferred Exam Session"
              name="examSession"
              rules={[{ required: true, message: 'Please select an exam session' }]}
            >
              <Radio.Group>
                <Radio value="session1">Monday, October 2, 2023 - Online</Radio>
                <Radio value="session2">Wednesday, October 4, 2023 - Online</Radio>
                <Radio value="session3">Friday, October 6, 2023 - In-Person</Radio>
              </Radio.Group>
            </Form.Item>
            <Form.Item
              label="Full Name"
              name="fullName"
              rules={[{ required: true, message: 'Please enter your full name' }]}
            >
              <Input placeholder="Enter your full name" />
            </Form.Item>
            <Form.Item
              name="agreeTerms"
              valuePropName="checked"
              rules={[
                {
                  validator: (_, value) =>
                    value ? Promise.resolve() : Promise.reject('You must agree to the terms'),
                },
              ]}
            >
              <Checkbox>I agree to the Terms and Conditions</Checkbox>
            </Form.Item>
          </>
        );
      case 2:
        return (
          <>
            <p>
              <strong>Exam Choice:</strong> {registrationData.examChoice}
            </p>
            <p>
              <strong>Exam Session:</strong> {registrationData.examSession}
            </p>
            <p>
              <strong>Full Name:</strong> {registrationData.fullName}
            </p>
          </>
        );
      default:
        return null;
    }
  };

  // Une fois l'inscription terminée, afficher une page de résultat
  if (registrationCompleted) {
    return (
      <PageContainer title="Exam Registration">
        <Result
          status="success"
          title="Registration Successful!"
          subTitle={`You have successfully registered for ${registrationData.examChoice}. Further details have been sent to your email.`}
          extra={[
            <Button type="primary" key="explore">
              Explore Certifications
            </Button>,
          ]}
        />
      </PageContainer>
    );
  }

  return (
    <PageContainer title="Exam Registration">
      <Steps current={currentStep} style={{ marginBottom: 24 }}>
        {steps.map((item) => (
          <Step key={item.title} title={item.title} />
        ))}
      </Steps>
      <Form form={form} layout="vertical">
        {renderStepContent()}
        <div style={{ marginTop: 24 }}>
          {currentStep > 0 && (
            <Button style={{ marginRight: 8 }} onClick={prev}>
              Back
            </Button>
          )}
          {currentStep < steps.length - 1 && (
            <Button type="primary" onClick={next}>
              Next
            </Button>
          )}
          {currentStep === steps.length - 1 && (
            <Button type="primary" onClick={onSubmit}>
              Submit Registration
            </Button>
          )}
        </div>
      </Form>
    </PageContainer>
  );
};

// Correction: envelopper la page dans MainLayout via getLayout
ExamRegistration.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ExamRegistration;

===== END konnected\certifications\exam-registration\page.tsx =====


===== BEGIN konnected\community-discussions\active-threads\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\community-discussions\active-threads\components\CommonWidget\page.tsx =====


===== BEGIN konnected\community-discussions\active-threads\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\community-discussions\active-threads\index.test\page.tsx =====


===== BEGIN konnected\community-discussions\active-threads\page.tsx =====
'use client'

// File: /pages/konnected/community-discussions/active-threads.tsx
import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import {
  List,
  Card,
  Input,
  Select,
  Space,
  Typography,
  Pagination,
} from 'antd';
import {
  SearchOutlined,
  QuestionCircleOutlined,
  MessageTwoTone,
} from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Option } = Select;

interface Thread {
  id: string;
  title: string;
  snippet: string;
  author: string;
  repliesCount: number;
  lastActivity: string; // date string for simplification
  category: 'Math' | 'Science' | 'General';
  threadType: 'question' | 'discussion';
}

// Données simulées pour les threads
const dummyThreads: Thread[] = [
  {
    id: 't1',
    title: 'How to solve quadratic equations?',
    snippet: 'I’m struggling with solving quadratic equations. Can anyone explain...',
    author: 'Alice',
    repliesCount: 15,
    lastActivity: '2025-12-01 14:30',
    category: 'Math',
    threadType: 'question',
  },
  {
    id: 't2',
    title: 'The impact of climate change on ecosystems',
    snippet: 'Let’s discuss how various ecosystems are being affected by the recent...',
    author: 'Bob',
    repliesCount: 8,
    lastActivity: '2025-12-01 10:15',
    category: 'Science',
    threadType: 'discussion',
  },
  {
    id: 't3',
    title: 'Study tips for final exams',
    snippet: 'I’d like to share some study tips and ask for suggestions for better...',
    author: 'Carol',
    repliesCount: 22,
    lastActivity: '2025-11-30 18:45',
    category: 'General',
    threadType: 'discussion',
  },
  {
    id: 't4',
    title: 'What is the derivative of sin(x)?',
    snippet: 'I know the derivative is cos(x), but how can I remember this easily?',
    author: 'David',
    repliesCount: 10,
    lastActivity: '2025-12-01 16:00',
    category: 'Math',
    threadType: 'question',
  },
  // ... Ajoutez d'autres threads au besoin
];

const ActiveThreadsPage: NextPage = () => {
  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [sortOption, setSortOption] = useState<'recent' | 'replies'>('recent');
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 5;

  // Filtrage et tri des threads
  const filteredThreads = useMemo(() => {
    let threads = [...dummyThreads]; // copie pour éviter la mutation
    if (selectedCategory !== 'All') {
      threads = threads.filter((t) => t.category === selectedCategory);
    }
    if (searchQuery) {
      threads = threads.filter((t) =>
        t.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
        t.snippet.toLowerCase().includes(searchQuery.toLowerCase())
      );
    }
    if (sortOption === 'recent') {
      threads = threads.slice().sort(
        (a, b) =>
          new Date(b.lastActivity).getTime() - new Date(a.lastActivity).getTime()
      );
    } else {
      threads = threads.slice().sort((a, b) => b.repliesCount - a.repliesCount);
    }
    return threads;
  }, [searchQuery, selectedCategory, sortOption]);

  // Gestion de la pagination
  const paginatedThreads = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize;
    return filteredThreads.slice(startIndex, startIndex + pageSize);
  }, [filteredThreads, currentPage, pageSize]);

  // Fonction de clic sur un thread (redirection vers la page de détail)
  const openThread = (thread: Thread) => {
    console.log('Ouvrir le thread:', thread.title);
    // Exemple de redirection : Router.push(`/konnected/community-discussions/thread/${thread.id}`);
  };

  return (
    <PageContainer title="Active Threads">
      <Space style={{ marginBottom: 24 }} size="large" wrap>
        <Input
          placeholder="Search threads..."
          prefix={<SearchOutlined />}
          value={searchQuery}
          onChange={(e) => {
            setSearchQuery(e.target.value);
            setCurrentPage(1);
          }}
          style={{ width: 300 }}
        />
        <Select
          value={selectedCategory}
          onChange={(value) => {
            setSelectedCategory(value);
            setCurrentPage(1);
          }}
          style={{ width: 150 }}
        >
          <Option value="All">All Categories</Option>
          <Option value="Math">Math</Option>
          <Option value="Science">Science</Option>
          <Option value="General">General</Option>
        </Select>
        <Select
          value={sortOption}
          onChange={(value) => {
            setSortOption(value);
            setCurrentPage(1);
          }}
          style={{ width: 180 }}
        >
          <Option value="recent">Sort by Recent Activity</Option>
          <Option value="replies">Sort by Most Replies</Option>
        </Select>
      </Space>

      <List
        grid={{ gutter: 16, column: 1 }}
        dataSource={paginatedThreads}
        renderItem={(thread: Thread) => (
          <List.Item
            onClick={() => openThread(thread)}
            style={{ cursor: 'pointer' }}
          >
            <Card hoverable>
              <Space direction="vertical" style={{ width: '100%' }}>
                <Space>
                  {thread.threadType === 'question' ? (
                    <QuestionCircleOutlined
                      style={{ fontSize: 18, color: '#1890ff' }}
                    />
                  ) : (
                    <MessageTwoTone
                      twoToneColor="#52c41a"
                      style={{ fontSize: 18 }}
                    />
                  )}
                  <Title level={4} style={{ margin: 0 }}>
                    {thread.title}
                  </Title>
                </Space>
                <Text>{thread.snippet}</Text>
                <Space>
                  <Text strong>Author:</Text> {thread.author}
                  <Text strong>Replies:</Text> {thread.repliesCount}
                  <Text strong>Last Activity:</Text> {thread.lastActivity}
                </Space>
              </Space>
            </Card>
          </List.Item>
        )}
      />

      <div style={{ textAlign: 'center', marginTop: 24 }}>
        <Pagination
          current={currentPage}
          pageSize={pageSize}
          total={filteredThreads.length}
          onChange={(page) => setCurrentPage(page)}
        />
      </div>
    </PageContainer>
  );
};

ActiveThreadsPage.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ActiveThreadsPage;

===== END konnected\community-discussions\active-threads\page.tsx =====


===== BEGIN konnected\community-discussions\moderation\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\community-discussions\moderation\components\CommonWidget\page.tsx =====


===== BEGIN konnected\community-discussions\moderation\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\community-discussions\moderation\index.test\page.tsx =====


===== BEGIN konnected\community-discussions\moderation\page.tsx =====
'use client'

// File: /pages/konnected/community-discussions/moderation.tsx
import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import { Table, Tabs, Tag, Button, Space, Modal, message } from 'antd';
import { ExclamationCircleOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { TabPane } = Tabs;
const { confirm } = Modal;

// Interface pour une entrée de modération
interface ModerationItem {
  id: string;
  contentSnippet: string;
  author: string;
  reportReason: string; // pour les posts signalés
  date: string;
  status: 'Pending' | 'Approved' | 'Flagged';
  queue: 'Reported' | 'PendingApproval';
}

// Données fictives pour l'exemple
const dummyModerationItems: ModerationItem[] = [
  {
    id: '1',
    contentSnippet: 'Ce post contient des propos inappropriés sur...',
    author: 'John Doe',
    reportReason: 'Propos inappropriés',
    date: '2025-12-01 15:30',
    status: 'Pending',
    queue: 'Reported',
  },
  {
    id: '2',
    contentSnippet: "Nouvelle discussion sur les méthodes d'enseignement...",
    author: 'Alice Smith',
    reportReason: '',
    date: '2025-12-01 14:00',
    status: 'Pending',
    queue: 'PendingApproval',
  },
  {
    id: '3',
    contentSnippet: 'Ce thread a été signalé pour spam ou contenu indésirable.',
    author: 'Bob Johnson',
    reportReason: 'Spam',
    date: '2025-11-30 18:45',
    status: 'Pending',
    queue: 'Reported',
  },
  {
    id: '4',
    contentSnippet: 'Discussion ouverte sur la nouvelle réforme éducative...',
    author: 'Carol Lee',
    reportReason: '',
    date: '2025-12-01 16:20',
    status: 'Pending',
    queue: 'PendingApproval',
  },
];

const ModerationPage: NextPage = () => {
  // Onglet actif : "Reported" ou "PendingApproval"
  const [activeTab, setActiveTab] = useState<'Reported' | 'PendingApproval'>('Reported');

  // Filtrage des éléments selon l'onglet actif
  const filteredItems = useMemo(() => {
    return dummyModerationItems.filter(item => item.queue === activeTab);
  }, [activeTab]);

  // Gestion des actions pour une entrée de modération
  const handleApprove = (item: ModerationItem) => {
    message.success(`Content "${item.contentSnippet.substring(0, 20)}..." approved.`);
    // Ici, intégrez un appel API pour approuver l'élément
  };

  const handleFlagUser = (item: ModerationItem) => {
    message.warning(`User ${item.author} has been flagged/warned.`);
    // Intégrez ici la logique de signalement de l'utilisateur
  };

  const handleDelete = (item: ModerationItem) => {
    confirm({
      title: 'Confirmer la suppression',
      icon: <ExclamationCircleOutlined />,
      content: 'Êtes-vous sûr de vouloir supprimer ce contenu ? Cette action est irréversible.',
      okText: 'Supprimer',
      okType: 'danger',
      cancelText: 'Annuler',
      onOk() {
        message.success(`Content "${item.contentSnippet.substring(0, 20)}..." deleted.`);
        // Intégrez ici la logique de suppression via API
      },
    });
  };

  // Définition des colonnes du tableau
  const columns = [
    {
      title: 'Content Snippet',
      dataIndex: 'contentSnippet',
      key: 'contentSnippet',
      render: (text: string) => <span>{text}</span>,
    },
    {
      title: 'Author',
      dataIndex: 'author',
      key: 'author',
    },
    {
      title: activeTab === 'Reported' ? 'Report Reason' : 'Note',
      dataIndex: 'reportReason',
      key: 'reportReason',
      render: (text: string) =>
        text ? <Tag color="volcano">{text}</Tag> : <Tag color="blue">Pending Approval</Tag>,
    },
    {
      title: 'Date',
      dataIndex: 'date',
      key: 'date',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
      render: (status: string) =>
        status === 'Approved' ? (
          <Tag color="green">Approved</Tag>
        ) : (
          <Tag color="orange">Pending</Tag>
        ),
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: ModerationItem) => (
        <Space>
          {record.status === 'Pending' && (
            <Button size="small" type="primary" onClick={() => handleApprove(record)}>
              Approve
            </Button>
          )}
          <Button size="small" danger onClick={() => handleDelete(record)}>
            Delete
          </Button>
          {record.queue === 'Reported' && (
            <Button size="small" onClick={() => handleFlagUser(record)}>
              Flag User
            </Button>
          )}
        </Space>
      ),
    },
  ];

  return (
    <PageContainer title="Moderation">
      <Tabs
        defaultActiveKey="Reported"
        activeKey={activeTab}
        onChange={(key) => setActiveTab(key as 'Reported' | 'PendingApproval')}
        type="card"
        style={{ marginBottom: 24 }}
      >
        <TabPane tab="Reported Content" key="Reported" />
        <TabPane tab="Pending Approval" key="PendingApproval" />
      </Tabs>
      <Table
        columns={columns}
        dataSource={filteredItems}
        rowKey="id"
        pagination={{ pageSize: 5 }}
      />
    </PageContainer>
  );
};

ModerationPage.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ModerationPage;

===== END konnected\community-discussions\moderation\page.tsx =====


===== BEGIN konnected\community-discussions\start-new-discussion\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\community-discussions\start-new-discussion\components\CommonWidget\page.tsx =====


===== BEGIN konnected\community-discussions\start-new-discussion\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\community-discussions\start-new-discussion\index.test\page.tsx =====


===== BEGIN konnected\community-discussions\start-new-discussion\page.tsx =====
'use client'

// File: /pages/konnected/community-discussions/start-new-discussion.tsx
import React from 'react';
import { NextPage } from 'next';
import { Form, Input, Select, Switch, Button, message } from 'antd';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Option } = Select;

const StartNewDiscussion: NextPage = () => {
  const [form] = Form.useForm();
  const router = useRouter();

  // Simulation de la soumission : en production, un appel API sera nécessaire pour créer le thread.
  const onFinish = (values: any) => {
    console.log('New Discussion Data:', values);
    message.success('Votre discussion a été créée avec succès !');
    // Simuler la redirection vers la page de détail du thread créé, par exemple avec l'ID généré.
    router.push(`/konnected/community-discussions/thread/123`);
  };

  return (
    <PageContainer title="Start New Discussion">
      <Form
        form={form}
        layout="vertical"
        onFinish={onFinish}
        initialValues={{
          isQuestion: false,
        }}
      >
        <Form.Item
          label="Title"
          name="title"
          rules={[{ required: true, message: 'Veuillez saisir le titre de la discussion.' }]}
        >
          <Input placeholder="Entrez le titre de votre discussion" />
        </Form.Item>
        
        <Form.Item
          label="Content"
          name="content"
          rules={[{ required: true, message: 'Veuillez saisir le contenu de la discussion.' }]}
        >
          <Input.TextArea rows={6} placeholder="Rédigez le contenu de votre discussion ici..." />
          {/* Vous pouvez intégrer ici un éditeur riche (ex: React Quill) pour un contenu formaté */}
        </Form.Item>
        
        <Form.Item
          label="Category"
          name="category"
          rules={[{ required: true, message: 'Veuillez sélectionner une catégorie.' }]}
        >
          <Select placeholder="Choisissez une catégorie">
            <Option value="Math">Math</Option>
            <Option value="Science">Science</Option>
            <Option value="General">General</Option>
            {/* Ajoutez d'autres catégories selon vos besoins */}
          </Select>
        </Form.Item>
        
        <Form.Item label="Is this a question?" name="isQuestion" valuePropName="checked">
          <Switch />
        </Form.Item>
        
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Post Discussion
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

StartNewDiscussion.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default StartNewDiscussion;

===== END konnected\community-discussions\start-new-discussion\page.tsx =====


===== BEGIN konnected\dashboard\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\dashboard\components\CommonWidget\page.tsx =====


===== BEGIN konnected\dashboard\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\dashboard\index.test\page.tsx =====


===== BEGIN konnected\dashboard\page.tsx =====
// File: /pages/konnected/dashboard.tsx
import React from 'react';
import { NextPage } from 'next';
import {
  Card,
  List,
  Avatar,
  Row,
  Col,
  Typography,
  Progress,
  Button
} from 'antd';
import {
  ReadOutlined,
  CommentOutlined,
  BookOutlined,
  DownloadOutlined
} from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
// Ajout de l'import de MainLayout pour appliquer le layout global
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;

// Exemple de données pour le widget Recent Updates
const recentUpdates = [
  {
    id: '1',
    title: 'New Lesson on React Hooks',
    description: 'Learn about the latest features in React 17.',
    timestamp: '2023-09-20 14:30',
  },
  {
    id: '2',
    title: 'Updated Knowledge Unit: TypeScript Basics',
    description: 'Refreshed content with new examples.',
    timestamp: '2023-09-19 09:15',
  },
  {
    id: '3',
    title: 'New Resource on Ant Design',
    description: 'Tips and tricks for building UIs faster.',
    timestamp: '2023-09-18 11:00',
  },
];

// Exemple de données pour le widget Active Discussions
const activeDiscussions = [
  {
    id: '1',
    title: 'Best practices for state management in Next.js',
    author: {
      name: 'Alice',
      avatar: 'https://randomuser.me/api/portraits/women/1.jpg',
    },
    replies: 12,
  },
  {
    id: '2',
    title: 'How to optimize performance in React apps?',
    author: {
      name: 'Bob',
      avatar: 'https://randomuser.me/api/portraits/men/2.jpg',
    },
    replies: 8,
  },
  {
    id: '3',
    title: 'Sharing my experience with TypeScript in production',
    author: {
      name: 'Carol',
      avatar: 'https://randomuser.me/api/portraits/women/3.jpg',
    },
    replies: 5,
  },
  {
    id: '4',
    title: 'Discussion: Design Systems vs Component Libraries',
    author: {
      name: 'Dave',
      avatar: 'https://randomuser.me/api/portraits/men/4.jpg',
    },
    replies: 3,
  },
  {
    id: '5',
    title: 'Future of AI in Education',
    author: {
      name: 'Eve',
      avatar: 'https://randomuser.me/api/portraits/women/5.jpg',
    },
    replies: 15,
  },
];

const KonnectedDashboard: NextPage = () => {
  return (
    <PageContainer title="KonnectED Dashboard">
      <Row gutter={[24, 24]}>
        {/* Widget Recent Updates */}
        <Col xs={24} md={12}>
          <Card title="Recent Updates">
            <List
              itemLayout="horizontal"
              dataSource={recentUpdates}
              renderItem={(item) => (
                <List.Item>
                  <List.Item.Meta
                    title={item.title}
                    description={
                      <>
                        <Text>{item.description}</Text>
                        <br />
                        <Text type="secondary" style={{ fontSize: 12 }}>
                          {item.timestamp}
                        </Text>
                      </>
                    }
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Widget Active Discussions */}
        <Col xs={24} md={12}>
          <Card title="Active Discussions">
            <List
              itemLayout="horizontal"
              dataSource={activeDiscussions}
              renderItem={(discussion) => (
                <List.Item>
                  <List.Item.Meta
                    avatar={<Avatar src={discussion.author.avatar} />}
                    title={discussion.title}
                    description={`By ${discussion.author.name} • ${discussion.replies} Replies`}
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Widget Learning Progress */}
        <Col xs={24} md={12}>
          <Card title="Learning Progress">
            <div style={{ marginBottom: 16 }}>
              <Text>Your current learning path is 60% complete</Text>
            </div>
            <Progress percent={60} status="active" />
          </Card>
        </Col>

        {/* Quick Access Icons */}
        <Col xs={24} md={12}>
          <Card title="Quick Access">
            <Row gutter={[16, 16]} justify="center">
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<ReadOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Knowledge</div>
              </Col>
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<CommentOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Community</div>
              </Col>
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<BookOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Learning</div>
              </Col>
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<DownloadOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Offline</div>
              </Col>
            </Row>
          </Card>
        </Col>
      </Row>
    </PageContainer>
  );
};

// Correction : envelopper la page dans MainLayout via getLayout
KonnectedDashboard.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default KonnectedDashboard;

===== END konnected\dashboard\page.tsx =====


===== BEGIN konnected\learning-library\browse-resources\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\learning-library\browse-resources\components\CommonWidget\page.tsx =====


===== BEGIN konnected\learning-library\browse-resources\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\learning-library\browse-resources\index.test\page.tsx =====


===== BEGIN konnected\learning-library\browse-resources\page.tsx =====
'use client'

// pages/konnected/learning-library/browse-resources/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Table, Input, Select, Row, Col, Card, Divider, Tag, Button } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Search } = Input;
const { Option } = Select;

interface Resource {
  key: string;
  title: string;
  subject: string;
  level: string; // ex. Beginner, Intermediate, Advanced
  language: string;
  resourceType: string; // document, video, quiz, etc.
  rating: number; // sur 5
}

// Exemple de données simulées pour les ressources
const sampleResources: Resource[] = [
  {
    key: '1',
    title: 'Introduction to Robotics',
    subject: 'Robotics',
    level: 'Beginner',
    language: 'English',
    resourceType: 'Video',
    rating: 4,
  },
  {
    key: '2',
    title: 'Advanced Healthcare Protocols',
    subject: 'Healthcare',
    level: 'Advanced',
    language: 'French',
    resourceType: 'Document',
    rating: 5,
  },
  {
    key: '3',
    title: 'Machine Learning Fundamentals',
    subject: 'Technology',
    level: 'Intermediate',
    language: 'English',
    resourceType: 'Article',
    rating: 4,
  },
  {
    key: '4',
    title: 'Sustainable Energy Solutions',
    subject: 'Energy',
    level: 'Beginner',
    language: 'English',
    resourceType: 'Video',
    rating: 3,
  },
  {
    key: '5',
    title: 'Design Thinking Essentials',
    subject: 'Design',
    level: 'Intermediate',
    language: 'English',
    resourceType: 'Quiz',
    rating: 4,
  },
];

const BrowseResources: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  const [searchText, setSearchText] = useState('');
  const [subjectFilter, setSubjectFilter] = useState('All');
  const [levelFilter, setLevelFilter] = useState('All');
  const [languageFilter, setLanguageFilter] = useState('All');

  // Filtrage des ressources selon les critères saisis
  const filteredResources = useMemo(() => {
    return sampleResources.filter(resource => {
      const matchesSearch = searchText === '' || resource.title.toLowerCase().includes(searchText.toLowerCase()) || resource.resourceType.toLowerCase().includes(searchText.toLowerCase());
      const matchesSubject = subjectFilter === 'All' || resource.subject === subjectFilter;
      const matchesLevel = levelFilter === 'All' || resource.level === levelFilter;
      const matchesLanguage = languageFilter === 'All' || resource.language === languageFilter;
      return matchesSearch && matchesSubject && matchesLevel && matchesLanguage;
    });
  }, [searchText, subjectFilter, levelFilter, languageFilter]);

  // Définition des colonnes du tableau
  const columns = [
    {
      title: 'Title',
      dataIndex: 'title',
      key: 'title',
      render: (text: string, record: Resource) => (
        <div style={{ display: 'flex', alignItems: 'center' }}>
          {/* Affichage d'une icône indicative selon le type de ressource */}
          {record.resourceType === 'Video' && <Tag color="blue">🎥</Tag>}
          {record.resourceType === 'Document' && <Tag color="green">📄</Tag>}
          {record.resourceType === 'Quiz' && <Tag color="purple">❓</Tag>}
          {record.resourceType === 'Article' && <Tag color="orange">📰</Tag>}
          <span style={{ marginLeft: 8 }}>{text}</span>
        </div>
      ),
    },
    {
      title: 'Subject',
      dataIndex: 'subject',
      key: 'subject',
    },
    {
      title: 'Level',
      dataIndex: 'level',
      key: 'level',
    },
    {
      title: 'Language',
      dataIndex: 'language',
      key: 'language',
    },
    {
      title: 'Rating',
      dataIndex: 'rating',
      key: 'rating',
      render: (rating: number) => `${rating} / 5`,
    },
    {
      title: 'Action',
      key: 'action',
      render: (_: any, record: Resource) => (
        <Button type="link" onClick={() => router.push(`/konnected/learning-library/resource/${record.key}`)}>
          Open
        </Button>
      ),
    },
  ];

  return (
    <>
      <Head>
        <title>Browse Resources</title>
        <meta name="description" content="Browse and search for educational content in the learning library." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Browse Resources</h1>
        
        {/* Barre de recherche et filtres */}
        <Card className="mb-4">
          <Row gutter={[16, 16]}>
            <Col xs={24} sm={12}>
              <Search placeholder="Search resources" allowClear onSearch={(value) => setSearchText(value)} />
            </Col>
            <Col xs={24} sm={4}>
              <Select defaultValue="All" style={{ width: '100%' }} onChange={(value) => setSubjectFilter(value)}>
                <Option value="All">All Subjects</Option>
                <Option value="Robotics">Robotics</Option>
                <Option value="Healthcare">Healthcare</Option>
                <Option value="Technology">Technology</Option>
                <Option value="Energy">Energy</Option>
                <Option value="Design">Design</Option>
              </Select>
            </Col>
            <Col xs={24} sm={4}>
              <Select defaultValue="All" style={{ width: '100%' }} onChange={(value) => setLevelFilter(value)}>
                <Option value="All">All Levels</Option>
                <Option value="Beginner">Beginner</Option>
                <Option value="Intermediate">Intermediate</Option>
                <Option value="Advanced">Advanced</Option>
              </Select>
            </Col>
            <Col xs={24} sm={4}>
              <Select defaultValue="All" style={{ width: '100%' }} onChange={(value) => setLanguageFilter(value)}>
                <Option value="All">All Languages</Option>
                <Option value="English">English</Option>
                <Option value="French">French</Option>
                {/* Ajoutez d'autres langues si nécessaire */}
              </Select>
            </Col>
          </Row>
        </Card>

        <Divider />

        {/* Table des ressources */}
        <Card>
          <Table
            dataSource={filteredResources}
            columns={columns}
            pagination={{ pageSize: 5 }}
          />
        </Card>
      </div>
    </>
  );
};

BrowseResources.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default BrowseResources;

===== END konnected\learning-library\browse-resources\page.tsx =====


===== BEGIN konnected\learning-library\offline-content\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\learning-library\offline-content\components\CommonWidget\page.tsx =====


===== BEGIN konnected\learning-library\offline-content\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\learning-library\offline-content\index.test\page.tsx =====


===== BEGIN konnected\learning-library\offline-content\page.tsx =====
'use client'

import React, { useState } from 'react';
import { NextPage } from 'next';
import { Row, Col, Card, Button, Typography, Spin, message } from 'antd';
import { SyncOutlined, CheckCircleOutlined, DownloadOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Paragraph, Text } = Typography;

interface OfflineContentPackage {
  id: string;
  title: string;
  description: string;
  lastUpdated: string;
  downloaded: boolean;
  size?: string;
  syncing: boolean;
}

const initialPackages: OfflineContentPackage[] = [
  {
    id: '1',
    title: 'Package A: Course Material',
    description: 'Includes video lectures, study guides, and supplemental notes.',
    lastUpdated: '2025-04-10 14:00',
    downloaded: true,
    size: '150 MB',
    syncing: false,
  },
  {
    id: '2',
    title: 'Package B: Interactive Quiz',
    description: 'Contains interactive quizzes and practice tests.',
    lastUpdated: '2025-04-09 10:30',
    downloaded: false,
    syncing: false,
  },
  {
    id: '3',
    title: 'Package C: Supplemental Readings',
    description: 'A collection of additional readings and research articles.',
    lastUpdated: '2025-04-08 09:15',
    downloaded: true,
    size: '75 MB',
    syncing: false,
  },
  // Add more packages as needed...
];

const OfflineContentPage: NextPage = () => {
  const [packages, setPackages] = useState<OfflineContentPackage[]>(initialPackages);

  // Trigger sync/download for a single package
  const handleSync = (id: string) => {
    // Mark the package as syncing
    setPackages(prev =>
      prev.map(pkg =>
        pkg.id === id ? { ...pkg, syncing: true } : pkg
      )
    );
    // Simulate a download/sync delay
    setTimeout(() => {
      setPackages(prev =>
        prev.map(pkg => {
          if (pkg.id === id) {
            return {
              ...pkg,
              syncing: false,
              downloaded: true,
              lastUpdated: new Date().toLocaleString(),
              size: pkg.size || '100 MB',
            };
          }
          return pkg;
        })
      );
      message.success(`Package "${id}" synced successfully!`);
    }, 2000);
  };

  // Global "Sync All" action for all packages
  const handleSyncAll = () => {
    setPackages(prev =>
      prev.map(pkg => ({ ...pkg, syncing: true }))
    );
    setTimeout(() => {
      setPackages(prev =>
        prev.map(pkg => ({
          ...pkg,
          syncing: false,
          downloaded: true,
          lastUpdated: new Date().toLocaleString(),
          size: pkg.size || '100 MB',
        }))
      );
      message.success('All packages synced successfully!');
    }, 2000);
  };

  return (
    <PageContainer title="Offline Content">
      {/* Global Sync All button */}
      <Row justify="end" style={{ marginBottom: 24 }}>
        <Button type="primary" onClick={handleSyncAll}>
          Sync All
        </Button>
      </Row>

      {/* Grid display of content packages */}
      <Row gutter={[16, 16]}>
        {packages.map((pkg) => (
          <Col xs={24} sm={12} md={8} key={pkg.id}>
            <Card
              title={pkg.title}
              extra={
                pkg.syncing ? (
                  <Spin indicator={<SyncOutlined style={{ fontSize: 24 }} spin />} />
                ) : (
                  <Button type="primary" onClick={() => handleSync(pkg.id)}>
                    {pkg.downloaded ? 'Sync Updates' : 'Download'}
                  </Button>
                )
              }
            >
              <Paragraph>{pkg.description}</Paragraph>
              <Text strong>Last Updated:</Text> {pkg.lastUpdated}
              {pkg.downloaded && (
                <>
                  <br />
                  <Text type="success">
                    <CheckCircleOutlined /> Up to date
                  </Text>
                  <br />
                  <Text>Size: {pkg.size}</Text>
                </>
              )}
            </Card>
          </Col>
        ))}
      </Row>
    </PageContainer>
  );
};

// Wrap the page with MainLayout
OfflineContentPage.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default OfflineContentPage;

===== END konnected\learning-library\offline-content\page.tsx =====


===== BEGIN konnected\learning-library\recommended-resources\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\learning-library\recommended-resources\components\CommonWidget\page.tsx =====


===== BEGIN konnected\learning-library\recommended-resources\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\learning-library\recommended-resources\index.test\page.tsx =====


===== BEGIN konnected\learning-library\recommended-resources\page.tsx =====
'use client'

// pages/konnected/learning-library/recommended-resources/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { List, Card, Button, Typography, Divider } from 'antd';
import { ReloadOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Title, Paragraph } = Typography;

interface Resource {
  key: string;
  title: string;
  summary: string;
  recommendationNote: string;
}

// Exemple de données simulées pour les ressources recommandées
const initialRecommendedResources: Resource[] = [
  {
    key: '1',
    title: 'Advanced AI Techniques',
    summary: 'Learn about deep learning, neural networks, and advanced AI strategies.',
    recommendationNote: 'Recommended because you liked "Machine Learning Fundamentals".',
  },
  {
    key: '2',
    title: 'Introduction to Robotics',
    summary: 'A beginner-friendly introduction covering the basics of robotics.',
    recommendationNote: 'Recommended based on your interest in Robotics.',
  },
  {
    key: '3',
    title: 'Innovative Design Trends',
    summary: 'Discover the latest trends and methodologies in creative design.',
    recommendationNote: 'Recommended because of your past searches in Design.',
  },
  {
    key: '4',
    title: 'Effective Data Analysis',
    summary: 'A comprehensive guide to data analytics using modern tools.',
    recommendationNote: 'Recommended due to your high rating on data science resources.',
  },
];

const RecommendedResources: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  const [resources, setResources] = useState<Resource[]>(initialRecommendedResources);

  // Simuler le rafraîchissement des suggestions
  const refreshSuggestions = () => {
    // Ici vous pourriez appeler une API de recommandation
    // Pour la simulation, nous changeons l'ordre des ressources aléatoirement
    const shuffled = [...resources].sort(() => Math.random() - 0.5);
    setResources(shuffled);
  };

  return (
    <>
      <Head>
        <title>Recommended Resources</title>
        <meta name="description" content="Personalized recommendations based on your profile and past activity in the learning library." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de page */}
        <Title level={2}>Recommended Resources</Title>
        <Paragraph>
          Explore a curated list of resources tailored to your interests and learning path.
        </Paragraph>
        <Divider />

        {/* Bouton pour rafraîchir les suggestions */}
        <Button type="default" icon={<ReloadOutlined />} onClick={refreshSuggestions} className="mb-4">
          Refresh Suggestions
        </Button>

        {/* Liste des ressources recommandées */}
        <List
          grid={{ gutter: 16, xs: 1, sm: 2, md: 2, lg: 3, xl: 3 }}
          dataSource={resources}
          renderItem={(resource) => (
            <List.Item key={resource.key}>
              <Card
                hoverable
                title={resource.title}
                extra={
                  <Button type="link" onClick={() => router.push(`/konnected/learning-library/resource/${resource.key}`)}>
                    View Resource
                  </Button>
                }
              >
                <Paragraph>{resource.summary}</Paragraph>
                <Paragraph type="secondary" style={{ fontStyle: 'italic', fontSize: 12 }}>
                  {resource.recommendationNote}
                </Paragraph>
              </Card>
            </List.Item>
          )}
        />
      </div>
    </>
  );
};

RecommendedResources.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default RecommendedResources;

===== END konnected\learning-library\recommended-resources\page.tsx =====


===== BEGIN konnected\learning-library\search-filters\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\learning-library\search-filters\components\CommonWidget\page.tsx =====


===== BEGIN konnected\learning-library\search-filters\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\learning-library\search-filters\index.test\page.tsx =====


===== BEGIN konnected\learning-library\search-filters\page.tsx =====
'use client'

// pages/konnected/learning-library/search-filters/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Form, Input, DatePicker, Select, Slider, Button, Table, Row, Col, Card, Divider } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import dayjs from 'dayjs';

const { RangePicker } = DatePicker;
const { Option } = Select;

interface Resource {
  key: string;
  title: string;
  author: string;
  subject: string;
  resourceType: string; // Document, Video, Quiz, etc.
  difficulty: number;   // Niveau de difficulté (1 à 5)
  createdAt: string;    // Date de publication
  rating: number;       // sur 5
}

// Exemple de données simulées pour les ressources
const sampleResources: Resource[] = [
  {
    key: '1',
    title: 'Introduction to Robotics',
    author: 'Alice',
    subject: 'Robotics',
    resourceType: 'Video',
    difficulty: 2,
    createdAt: '2023-09-01',
    rating: 4,
  },
  {
    key: '2',
    title: 'Advanced Healthcare Protocols',
    author: 'Bob',
    subject: 'Healthcare',
    resourceType: 'Document',
    difficulty: 5,
    createdAt: '2023-08-28',
    rating: 5,
  },
  {
    key: '3',
    title: 'Machine Learning Fundamentals',
    author: 'Charlie',
    subject: 'Technology',
    resourceType: 'Article',
    difficulty: 3,
    createdAt: '2023-09-03',
    rating: 4,
  },
  {
    key: '4',
    title: 'Sustainable Energy Solutions',
    author: 'Diana',
    subject: 'Energy',
    resourceType: 'Video',
    difficulty: 1,
    createdAt: '2023-08-20',
    rating: 3,
  },
  {
    key: '5',
    title: 'Design Thinking Essentials',
    author: 'Edward',
    subject: 'Design',
    resourceType: 'Quiz',
    difficulty: 4,
    createdAt: '2023-08-25',
    rating: 4,
  },
];

const SearchFilters: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  // États pour les filtres de recherche
  const [keyword, setKeyword] = useState('');
  const [authorFilter, setAuthorFilter] = useState<string>('');
  const [dateRange, setDateRange] = useState<[any, any] | null>(null);
  const [subjectFilter, setSubjectFilter] = useState<string[]>([]);
  const [resourceTypeFilter, setResourceTypeFilter] = useState<string[]>([]);
  const [difficultyRange, setDifficultyRange] = useState<[number, number]>([1, 5]);
  const [sortCriteria, setSortCriteria] = useState<string>('relevance');

  // Filtrage des ressources selon les valeurs des filtres
  const filteredResources = useMemo(() => {
    return sampleResources.filter(resource => {
      // Filtre de recherche par titre et auteur
      const matchesKeyword =
        keyword === '' ||
        resource.title.toLowerCase().includes(keyword.toLowerCase()) ||
        resource.author.toLowerCase().includes(keyword.toLowerCase());
      // Filtre auteur (si renseigné séparément)
      const matchesAuthor = authorFilter === '' || resource.author.toLowerCase().includes(authorFilter.toLowerCase());
      // Filtre date
      let matchesDate = true;
      if (dateRange && dateRange[0] && dateRange[1]) {
        const resourceDate = dayjs(resource.createdAt);
        matchesDate = resourceDate.isAfter(dateRange[0]) && resourceDate.isBefore(dateRange[1]);
      }
      // Filtre par sujet
      const matchesSubject = subjectFilter.length === 0 || subjectFilter.includes(resource.subject);
      // Filtre par type de ressource
      const matchesResourceType = resourceTypeFilter.length === 0 || resourceTypeFilter.includes(resource.resourceType);
      // Filtre par niveau de difficulté
      const matchesDifficulty = resource.difficulty >= difficultyRange[0] && resource.difficulty <= difficultyRange[1];

      return matchesKeyword && matchesAuthor && matchesDate && matchesSubject && matchesResourceType && matchesDifficulty;
    });
  }, [keyword, authorFilter, dateRange, subjectFilter, resourceTypeFilter, difficultyRange]);

  // Définition des colonnes pour le tableau des résultats
  const columns = [
    { title: 'Title', dataIndex: 'title', key: 'title' },
    { title: 'Author', dataIndex: 'author', key: 'author' },
    { title: 'Subject', dataIndex: 'subject', key: 'subject' },
    { title: 'Type', dataIndex: 'resourceType', key: 'resourceType' },
    { title: 'Difficulty', dataIndex: 'difficulty', key: 'difficulty' },
    { title: 'Created At', dataIndex: 'createdAt', key: 'createdAt' },
    { title: 'Rating', dataIndex: 'rating', key: 'rating' },
    {
      title: 'Action',
      key: 'action',
      render: (_: any, record: Resource) => (
        <Button type="link" onClick={() => window.location.href = `/konnected/learning-library/resource/${record.key}`}>
          Open
        </Button>
      ),
    },
  ];

  return (
    <>
      <Head>
        <title>Search & Filters</title>
        <meta name="description" content="Advanced search interface with detailed filters for learning resources." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Search & Filters</h1>
        
        {/* Formulaire de recherche avancée */}
        <Card className="mb-6">
          <Form layout="vertical">
            <Row gutter={[16, 16]}>
              <Col xs={24} sm={12}>
                <Form.Item label="Keywords">
                  <Input
                    placeholder="Search by title or author"
                    allowClear
                    onChange={(e) => setKeyword(e.target.value)}
                  />
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Author">
                  <Input
                    placeholder="Filter by author"
                    allowClear
                    onChange={(e) => setAuthorFilter(e.target.value)}
                  />
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Date Range">
                  <RangePicker onChange={(dates) => setDateRange(dates as any)} style={{ width: '100%' }} />
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Subjects">
                  <Select mode="multiple" placeholder="Select subjects" allowClear onChange={(value) => setSubjectFilter(value)}>
                    <Option value="Robotics">Robotics</Option>
                    <Option value="Healthcare">Healthcare</Option>
                    <Option value="Technology">Technology</Option>
                    <Option value="Energy">Energy</Option>
                    <Option value="Design">Design</Option>
                  </Select>
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Resource Type">
                  <Select mode="multiple" placeholder="Select type(s)" allowClear onChange={(value) => setResourceTypeFilter(value)}>
                    <Option value="Document">Document</Option>
                    <Option value="Video">Video</Option>
                    <Option value="Article">Article</Option>
                    <Option value="Quiz">Quiz</Option>
                  </Select>
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Difficulty">
                  <Slider
                    range
                    min={1}
                    max={5}
                    defaultValue={[1, 5]}
                    onChange={(value: [number, number]) => setDifficultyRange(value)}
                  />
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Sort By">
                  <Select defaultValue="relevance" onChange={(value) => setSortCriteria(value)}>
                    <Option value="relevance">Relevance</Option>
                    <Option value="date">Newest</Option>
                    <Option value="rating">Highest Rated</Option>
                  </Select>
                </Form.Item>
              </Col>
            </Row>
            <Button type="primary" onClick={() => { /* les filtres s'appliquent en temps réel grâce aux hooks */ }}>
              Apply Filters
            </Button>
          </Form>
        </Card>

        <Divider />

        {/* Résultats de la recherche */}
        <Card>
          <Table dataSource={filteredResources} columns={columns} pagination={{ pageSize: 5 }} />
        </Card>
      </div>
    </>
  );
};

SearchFilters.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default SearchFilters;

===== END konnected\learning-library\search-filters\page.tsx =====


===== BEGIN konnected\learning-paths\create-learning-path\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\learning-paths\create-learning-path\components\CommonWidget\page.tsx =====


===== BEGIN konnected\learning-paths\create-learning-path\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\learning-paths\create-learning-path\index.test\page.tsx =====


===== BEGIN konnected\learning-paths\create-learning-path\page.tsx =====
'use client'

// pages/konnected/learning-paths/create-learning-path/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Form, Input, Select, Button, Modal, List, Card, Space, Divider, message, Result } from 'antd';
import { ArrowUpOutlined, ArrowDownOutlined, EditOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Option } = Select;
const { TextArea } = Input;

interface StepItem {
  id: string;
  resourceName: string;
  resourceType: string;
  note: string;
}

// Exemples de ressources disponibles (dummy)
const availableResources = [
  { id: 'r1', name: 'Introduction to HTML', type: 'Lesson' },
  { id: 'r2', name: 'CSS Fundamentals', type: 'Lesson' },
  { id: 'r3', name: 'JavaScript Basics', type: 'Lesson' },
  { id: 'r4', name: 'Responsive Design Techniques', type: 'Article' },
  { id: 'r5', name: 'React Overview', type: 'Video' },
];

const CreateLearningPath: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  const [form] = Form.useForm();
  
  // État pour les informations de base
  const [basicInfo, setBasicInfo] = useState({
    pathTitle: '',
    description: '',
    targetAudience: '',
  });

  // Liste des étapes du parcours
  const [steps, setSteps] = useState<StepItem[]>([]);

  // État pour la modal d'ajout/édition de step
  const [stepModalVisible, setStepModalVisible] = useState(false);
  // Permet de savoir si l'on édite un step existant (index) ou si on ajoute un nouveau step (null)
  const [editingStepIndex, setEditingStepIndex] = useState<number | null>(null);
  const [stepForm] = Form.useForm();

  // État final de soumission du parcours
  const [submitted, setSubmitted] = useState(false);

  // Ouvrir la modal pour ajouter un nouveau step
  const openAddStepModal = () => {
    setEditingStepIndex(null);
    stepForm.resetFields();
    setStepModalVisible(true);
  };

  // Ouvrir la modal pour éditer un step existant
  const openEditStepModal = (index: number) => {
    setEditingStepIndex(index);
    const step = steps[index];
    stepForm.setFieldsValue({
      resourceId: step.id,
      note: step.note,
    });
    setStepModalVisible(true);
  };

  // Gestion de la soumission du step (ajout ou édition)
  const handleStepModalOk = async () => {
    try {
      const values = await stepForm.validateFields();
      // Trouver la ressource sélectionnée pour récupérer le nom et type
      const resource = availableResources.find(r => r.id === values.resourceId);
      if (!resource) {
        message.error('Selected resource not found.');
        return;
      }
      const newStep: StepItem = {
        id: resource.id,
        resourceName: resource.name,
        resourceType: resource.type,
        note: values.note || '',
      };
      if (editingStepIndex !== null) {
        // Edition d'une étape existante
        const updatedSteps = [...steps];
        updatedSteps[editingStepIndex] = newStep;
        setSteps(updatedSteps);
      } else {
        // Ajout d'une nouvelle étape
        setSteps(prev => [...prev, newStep]);
      }
      setStepModalVisible(false);
    } catch (error) {
      message.error('Please complete the step form.');
    }
  };

  const handleStepModalCancel = () => {
    setStepModalVisible(false);
  };

  // Fonctions pour réordonner les steps
  const moveStepUp = (index: number) => {
    if (index === 0) return;
    const updatedSteps = [...steps];
    [updatedSteps[index - 1], updatedSteps[index]] = [updatedSteps[index], updatedSteps[index - 1]];
    setSteps(updatedSteps);
  };

  const moveStepDown = (index: number) => {
    if (index === steps.length - 1) return;
    const updatedSteps = [...steps];
    [updatedSteps[index + 1], updatedSteps[index]] = [updatedSteps[index], updatedSteps[index + 1]];
    setSteps(updatedSteps);
  };

  // Supprimer une étape
  const removeStep = (index: number) => {
    setSteps(prev => prev.filter((_, i) => i !== index));
  };

  // Soumission finale du parcours
  const onSubmitPath = async () => {
    try {
      const basicValues = await form.validateFields();
      setBasicInfo(basicValues);
      // Ici, simuler un appel API pour sauvegarder le parcours
      console.log('Learning Path Submitted:', {
        basicInfo: basicValues,
        steps,
      });
      setSubmitted(true);
    } catch (error) {
      message.error('Please complete the basic information form.');
    }
  };

  if (submitted) {
    return (
      <div className="container mx-auto p-5">
        <Result
          status="success"
          title="Learning Path Created Successfully!"
          subTitle="Your new learning path has been published."
          extra={[
            <Button key="view" type="primary" onClick={() => router.push('/konnected/learning-paths/my-learning-path')}>
              View Learning Path
            </Button>,
          ]}
        />
      </div>
    );
  }

  return (
    <>
      <Head>
        <title>Create Learning Path</title>
        <meta name="description" content="Create a new learning path by ordering and linking educational resources." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Create Learning Path</h1>
        {/* Formulaire pour les informations de base */}
        <Card className="mb-6">
          <Form form={form} layout="vertical">
            <Form.Item
              name="pathTitle"
              label="Path Title"
              rules={[{ required: true, message: 'Please enter the learning path title.' }]}
            >
              <Input placeholder="Enter title" />
            </Form.Item>
            <Form.Item
              name="description"
              label="Description"
              rules={[{ required: true, message: 'Please enter a description.' }]}
            >
              <TextArea rows={4} placeholder="Enter description" />
            </Form.Item>
            <Form.Item
              name="targetAudience"
              label="Target Audience"
              rules={[{ required: true, message: 'Please specify the target audience.' }]}
            >
              <Input placeholder="e.g., Beginners, Advanced learners" />
            </Form.Item>
          </Form>
        </Card>

        {/* Editeur de steps */}
        <Card className="mb-6" title="Learning Path Steps">
          <Button type="dashed" icon={<PlusOutlined />} onClick={openAddStepModal} style={{ marginBottom: 16 }}>
            Add Step
          </Button>
          {steps.length === 0 ? (
            <p>No steps added yet. Click "Add Step" to start building your learning path.</p>
          ) : (
            <List
              dataSource={steps}
              renderItem={(step, index) => (
                <List.Item
                  actions={[
                    <Button icon={<ArrowUpOutlined />} onClick={() => moveStepUp(index)} disabled={index === 0} />,
                    <Button icon={<ArrowDownOutlined />} onClick={() => moveStepDown(index)} disabled={index === steps.length - 1} />,
                    <Button icon={<EditOutlined />} onClick={() => openEditStepModal(index)} />,
                    <Button icon={<DeleteOutlined />} danger onClick={() => removeStep(index)} />,
                  ]}
                >
                  <List.Item.Meta
                    title={`${index + 1}. ${step.resourceName} (${step.resourceType})`}
                    description={step.note || 'No additional notes.'}
                  />
                </List.Item>
              )}
            />
          )}
        </Card>

        <Divider />

        {/* Bouton de soumission du parcours */}
        <Button type="primary" onClick={onSubmitPath}>
          Save & Publish Path
        </Button>
      </div>

      {/* Modal pour Ajouter/Éditer une étape */}
      <Modal
        title={editingStepIndex !== null ? "Edit Step" : "Add New Step"}
        visible={stepModalVisible}
        onOk={handleStepModalOk}
        onCancel={handleStepModalCancel}
      >
        <Form form={stepForm} layout="vertical">
          <Form.Item
            name="resourceId"
            label="Select Resource"
            rules={[{ required: true, message: 'Please select a resource.' }]}
          >
            <Select placeholder="Select a resource">
              {availableResources.map(resource => (
                <Option key={resource.id} value={resource.id}>
                  {resource.name} ({resource.type})
                </Option>
              ))}
            </Select>
          </Form.Item>
          <Form.Item name="note" label="Add a Note (optional)">
            <Input placeholder="Enter any instructions or additional notes" />
          </Form.Item>
        </Form>
      </Modal>
    </>
  );
};

CreateLearningPath.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default CreateLearningPath;

===== END konnected\learning-paths\create-learning-path\page.tsx =====


===== BEGIN konnected\learning-paths\manage-existing-paths\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\learning-paths\manage-existing-paths\components\CommonWidget\page.tsx =====


===== BEGIN konnected\learning-paths\manage-existing-paths\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\learning-paths\manage-existing-paths\index.test\page.tsx =====


===== BEGIN konnected\learning-paths\manage-existing-paths\page.tsx =====
'use client'

// File: /pages/konnected/learning-paths/manage-existing-paths.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Table,
  Button,
  Modal,
  Typography,
  Input,
  Space,
  Empty,
  message,
} from 'antd';
import { EditOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title } = Typography;
const { Search } = Input;

interface LearningPath {
  id: string;
  title: string;
  lastUpdated: string;
  status: 'Published' | 'Draft';
}

const initialPaths: LearningPath[] = [
  {
    id: '1',
    title: 'Introduction to Programming',
    lastUpdated: '2023-09-15',
    status: 'Published',
  },
  {
    id: '2',
    title: 'Advanced Web Development',
    lastUpdated: '2023-08-10',
    status: 'Draft',
  },
  // Ajoutez d'autres parcours selon les besoins
];

const ManageExistingPaths: NextPage = () => {
  const [paths, setPaths] = useState<LearningPath[]>(initialPaths);
  const [searchText, setSearchText] = useState<string>('');
  
  // Filtrage des parcours selon le texte de recherche
  const filteredPaths = paths.filter((path) =>
    path.title.toLowerCase().includes(searchText.toLowerCase())
  );

  // Gestion de la suppression d'un parcours
  const handleDelete = (id: string) => {
    Modal.confirm({
      title: 'Confirm Deletion',
      content: 'Are you sure you want to delete this learning path?',
      okType: 'danger',
      onOk: () => {
        setPaths(paths.filter((path) => path.id !== id));
        message.success('Learning path deleted successfully');
      },
    });
  };

  // Colonnes du tableau
  const columns = [
    {
      title: 'Path Title',
      dataIndex: 'title',
      key: 'title',
    },
    {
      title: 'Last Updated',
      dataIndex: 'lastUpdated',
      key: 'lastUpdated',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: LearningPath) => (
        <Space>
          <Button
            icon={<EditOutlined />}
            type="link"
            onClick={() => {
              // Redirection vers la page d'édition (ex: /learning-paths/edit/[id])
              window.location.href = `/learning-paths/edit/${record.id}`;
            }}
          >
            Edit
          </Button>
          <Button
            icon={<DeleteOutlined />}
            type="link"
            danger
            onClick={() => handleDelete(record.id)}
          >
            Delete
          </Button>
        </Space>
      ),
    },
  ];

  return (
    <PageContainer title="Manage Existing Paths">
      <div
        style={{
          marginBottom: 24,
          display: 'flex',
          justifyContent: 'space-between',
        }}
      >
        <Search
          placeholder="Search by path name"
          onChange={(e) => setSearchText(e.target.value)}
          style={{ width: 300 }}
        />
        <Button type="primary" icon={<PlusOutlined />} href="/learning-paths/create">
          Create New Path
        </Button>
      </div>

      {filteredPaths.length > 0 ? (
        <Table
          dataSource={filteredPaths}
          columns={columns}
          rowKey="id"
          pagination={{ pageSize: 5 }}
        />
      ) : (
        <Empty description="No learning paths found.">
          <Button type="primary" href="/learning-paths/create">
            Create New Path
          </Button>
        </Empty>
      )}
    </PageContainer>
  );
};

ManageExistingPaths.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ManageExistingPaths;

===== END konnected\learning-paths\manage-existing-paths\page.tsx =====


===== BEGIN konnected\learning-paths\my-learning-path\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\learning-paths\my-learning-path\components\CommonWidget\page.tsx =====


===== BEGIN konnected\learning-paths\my-learning-path\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\learning-paths\my-learning-path\index.test\page.tsx =====


===== BEGIN konnected\learning-paths\my-learning-path\page.tsx =====
'use client'

// pages/konnected/learning-paths/my-learning-path/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, Steps, Progress, Button, Typography, Empty } from 'antd';
import { useRouter } from 'next/navigation';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Paragraph } = Typography;
const { Step } = Steps;

interface Lesson {
  id: string;
  name: string;
  completed: boolean;
}

interface LearningPath {
  id: string;
  title: string;
  description: string;
  progress: number;
  lessons: Lesson[];
}

// Exemple de données simulées pour un parcours d'apprentissage
const sampleLearningPath: LearningPath = {
  id: '1',
  title: 'Beginner Web Development',
  description: 'A comprehensive path to learn web development from scratch. You will start with HTML and CSS and move on to JavaScript and modern frameworks.',
  progress: 40,  // Pourcentage de progression
  lessons: [
    { id: '1', name: 'HTML Basics', completed: true },
    { id: '2', name: 'CSS Fundamentals', completed: true },
    { id: '3', name: 'Introduction to JavaScript', completed: false },
    { id: '4', name: 'Responsive Design', completed: false },
    { id: '5', name: 'Basic React', completed: false },
  ],
};

const MyLearningPath: NextPage & { getLayout?: (page: React.ReactElement) => React.ReactNode } = () => {
  const router = useRouter();
  // Dans cet exemple, nous partons du principe que l'utilisateur suit un parcours,
  // sinon, on pourra passer learningPath à null pour afficher un message d'invitation.
  const [learningPath] = useState<LearningPath | null>(sampleLearningPath);

  // Fonction pour naviguer vers la leçon sélectionnée
  const goToLesson = (lessonId: string) => {
    router.push(`/konnected/learning-library/lesson/${lessonId}`);
  };

  return (
    <>
      <Head>
        <title>My Learning Path</title>
        <meta name="description" content="View your current learning path and track your progress." />
      </Head>
      <div className="container mx-auto p-5">
        <Title level={2}>My Learning Path</Title>
        {learningPath ? (
          <>
            {/* Informations générales sur le parcours */}
            <Card className="mb-4">
              <Title level={4}>{learningPath.title}</Title>
              <Paragraph>{learningPath.description}</Paragraph>
            </Card>

            {/* Progression globale */}
            <Card className="mb-4">
              <Title level={5}>Overall Progress</Title>
              <Progress percent={learningPath.progress} status="active" />
            </Card>

            {/* Liste des modules/leçons du parcours */}
            <Card>
              <Title level={5}>Your Lessons</Title>
              <Steps direction="vertical">
                {learningPath.lessons.map((lesson, index) => (
                  <Step
                    key={lesson.id}
                    title={lesson.name}
                    status={lesson.completed ? 'finish' : (index === learningPath.lessons.findIndex(l => !l.completed) ? 'process' : 'wait')}
                    description={
                      <Button type="link" onClick={() => goToLesson(lesson.id)}>
                        Go to Lesson
                      </Button>
                    }
                  />
                ))}
              </Steps>
            </Card>
          </>
        ) : (
          <Empty description="You are not enrolled in any learning path yet. Explore our available learning paths to get started." />
        )}
      </div>
    </>
  );
};

MyLearningPath.getLayout = (page: React.ReactElement) => <MainLayout>{page}</MainLayout>;

export default MyLearningPath;

===== END konnected\learning-paths\my-learning-path\page.tsx =====


===== BEGIN konnected\teams-collaboration\activity-planner\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\teams-collaboration\activity-planner\components\CommonWidget\page.tsx =====


===== BEGIN konnected\teams-collaboration\activity-planner\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\teams-collaboration\activity-planner\index.test\page.tsx =====


===== BEGIN konnected\teams-collaboration\activity-planner\page.tsx =====
'use client'

// File: /pages/konnected/teams-collaboration/activity-planner.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Calendar,
  Modal,
  Form,
  DatePicker,
  TimePicker,
  Input,
  Button,
  List,
  Select,
  Typography,
  Row,
  Col,
  message,
} from 'antd';
import { PlusOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';
import moment, { Moment } from 'moment';

const { Title, Text } = Typography;
const { Option } = Select;

// Définition de l'interface pour un événement
interface ActivityEvent {
  id: string;
  title: string;
  description: string;
  // La date et l'heure de l'événement sont stockées sous forme d'objet moment
  dateTime: Moment;
  owner: string;
  team: string;
}

// Liste fictive d'équipes pour le filtre et le formulaire
const teamOptions = ['All', 'Alpha Innovators', 'Beta Coders', 'Gamma Team'];

const ActivityPlanner: NextPage = () => {
  // État pour la liste des événements
  const [events, setEvents] = useState<ActivityEvent[]>([
    {
      id: 'evt1',
      title: 'Team Meeting',
      description: 'Réunion d’équipe pour définir les prochaines étapes.',
      dateTime: moment().add(2, 'days').hour(10).minute(0),
      owner: 'Alice',
      team: 'Alpha Innovators',
    },
    {
      id: 'evt2',
      title: 'Sprint Planning',
      description: 'Planification du sprint avec présentation du backlog.',
      dateTime: moment().add(4, 'days').hour(9).minute(30),
      owner: 'Bob',
      team: 'Beta Coders',
    },
    // Ajoutez d'autres événements si besoin
  ]);
  // État pour le filtrage par équipe
  const [selectedTeam, setSelectedTeam] = useState<string>('All');
  // État pour l'affichage du modal d'ajout d'événement
  const [modalVisible, setModalVisible] = useState<boolean>(false);
  // Pour pré-remplir la date si l'utilisateur clique sur une date du calendrier
  const [preSelectedDate, setPreSelectedDate] = useState<Moment | null>(null);

  const [form] = Form.useForm();

  // Filtrage des événements en fonction de l'équipe sélectionnée
  const filteredEvents =
    selectedTeam === 'All'
      ? events
      : events.filter((evt) => evt.team === selectedTeam);

  // Définition de la fonction de rendu d'une cellule de date dans le calendrier
  const dateCellRender = (value: Moment) => {
    const listData = events.filter((evt) =>
      evt.dateTime.isSame(value, 'day')
    );
    return listData.length ? (
      <ul style={{ padding: 0, margin: 0, listStyle: 'none' }}>
        {listData.map((item) => (
          <li key={item.id}>
            <Text style={{ fontSize: 10, color: '#1890ff' }}>{item.title}</Text>
          </li>
        ))}
      </ul>
    ) : null;
  };

  // Lorsque l'utilisateur clique sur une date, ouvrir le modal avec la date pré-remplie
  const handleDateSelect = (value: Moment) => {
    setPreSelectedDate(value);
    form.setFieldsValue({
      eventDate: value,
      eventTime: null,
    });
    setModalVisible(true);
  };

  // Gestion de la soumission du formulaire d'ajout d'événement
  const handleAddEvent = (values: any) => {
    const { eventTitle, eventDescription, eventDate, eventTime, team, owner } =
      values;
    // Combiner la date et l'heure pour obtenir la dateTime complète
    const dateTime = eventDate.clone().set({
      hour: eventTime.hour(),
      minute: eventTime.minute(),
      second: 0,
    });
    const newEvent: ActivityEvent = {
      id: `evt${Date.now()}`, // Génération simple de l'ID
      title: eventTitle,
      description: eventDescription,
      dateTime,
      owner,
      team,
    };
    setEvents([...events, newEvent]);
    message.success('L’événement a été ajouté.');
    form.resetFields();
    setPreSelectedDate(null);
    setModalVisible(false);
  };

  return (
    <PageContainer title="Activity Planner">
      <Row gutter={[24, 24]}>
        <Col xs={24} md={16}>
          <Calendar dateCellRender={dateCellRender} onSelect={handleDateSelect} />
        </Col>
        <Col xs={24} md={8}>
          <Title level={4}>Upcoming Activities</Title>
          <Select
            style={{ width: '100%', marginBottom: 16 }}
            value={selectedTeam}
            onChange={(value) => setSelectedTeam(value)}
          >
            {teamOptions.map((team) => (
              <Option key={team} value={team}>
                {team}
              </Option>
            ))}
          </Select>
          <List
            dataSource={filteredEvents.sort((a, b) =>
              a.dateTime.diff(b.dateTime)
            )}
            renderItem={(item) => (
              <List.Item>
                <List.Item.Meta
                  title={item.title}
                  description={
                    <>
                      <Text type="secondary">
                        {item.dateTime.format('MMM D, YYYY, HH:mm')}
                      </Text>
                      <br />
                      <Text strong>Owner:</Text> {item.owner}
                      <br />
                      <Text strong>Team:</Text> {item.team}
                    </>
                  }
                />
              </List.Item>
            )}
          />
          <Button
            type="primary"
            icon={<PlusOutlined />}
            style={{ marginTop: 16 }}
            onClick={() => {
              setPreSelectedDate(null);
              form.resetFields();
              setModalVisible(true);
            }}
          >
            Add Activity
          </Button>
        </Col>
      </Row>

      {/* Modal pour ajouter un nouvel événement */}
      <Modal
        title="Add New Activity"
        visible={modalVisible}
        onCancel={() => {
          setModalVisible(false);
          form.resetFields();
          setPreSelectedDate(null);
        }}
        footer={null}
      >
        <Form form={form} layout="vertical" onFinish={handleAddEvent}>
          <Form.Item
            label="Event Title"
            name="eventTitle"
            rules={[{ required: true, message: 'Veuillez saisir le titre de l’événement.' }]}
          >
            <Input placeholder="Entrez le titre de l’événement" />
          </Form.Item>
          <Form.Item
            label="Description"
            name="eventDescription"
          >
            <Input.TextArea rows={3} placeholder="Description de l’événement" />
          </Form.Item>
          <Form.Item
            label="Date"
            name="eventDate"
            initialValue={preSelectedDate ? preSelectedDate : null}
            rules={[{ required: true, message: 'Veuillez sélectionner la date.' }]}
          >
            <DatePicker style={{ width: '100%' }} />
          </Form.Item>
          <Form.Item
            label="Time"
            name="eventTime"
            rules={[{ required: true, message: 'Veuillez sélectionner l’heure.' }]}
          >
            <TimePicker style={{ width: '100%' }} format="HH:mm" />
          </Form.Item>
          <Form.Item
            label="Team"
            name="team"
            rules={[{ required: true, message: 'Veuillez sélectionner l’équipe.' }]}
            initialValue={teamOptions[1]} // Par défaut, par exemple, la première équipe réelle
          >
            <Select>
              {teamOptions.filter((t) => t !== 'All').map((team) => (
                <Option key={team} value={team}>
                  {team}
                </Option>
              ))}
            </Select>
          </Form.Item>
          <Form.Item
            label="Owner"
            name="owner"
            rules={[{ required: true, message: 'Veuillez saisir le nom du responsable.' }]}
          >
            <Input placeholder="Nom du responsable" />
          </Form.Item>
          <Form.Item>
            <Button type="primary" htmlType="submit" block>
              Add Activity
            </Button>
          </Form.Item>
        </Form>
      </Modal>
    </PageContainer>
  );
};

ActivityPlanner.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ActivityPlanner;

===== END konnected\teams-collaboration\activity-planner\page.tsx =====


===== BEGIN konnected\teams-collaboration\my-teams\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\teams-collaboration\my-teams\components\CommonWidget\page.tsx =====


===== BEGIN konnected\teams-collaboration\my-teams\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\teams-collaboration\my-teams\index.test\page.tsx =====


===== BEGIN konnected\teams-collaboration\my-teams\page.tsx =====
// File: /pages/konnected/teams-collaboration/my-teams.tsx
import React from 'react';
import { NextPage } from 'next';
import { Table, Button, Avatar, List, Menu, Dropdown, Typography, Space } from 'antd';
import { SettingOutlined, DownOutlined, UsergroupAddOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Text, Title } = Typography;

// Interface pour définir la structure d'un membre d'équipe
interface TeamMember {
  id: string;
  name: string;
  role: string;
  avatar: string;
}

// Interface pour définir la structure d'une équipe
interface Team {
  id: string;
  teamName: string;
  role: 'Leader' | 'Member';
  membersCount: number;
  // Quelques dernières activités à afficher en aperçu
  recentActivity: string[];
  // Liste détaillée des membres de l'équipe
  roster: TeamMember[];
}

// Exemple de données simulées pour les équipes de l'utilisateur
const teamsData: Team[] = [
  {
    id: 'team1',
    teamName: 'Alpha Innovators',
    role: 'Leader',
    membersCount: 5,
    recentActivity: [
      'John joined the team',
      'Meeting scheduled for 14:00',
      'Project milestone completed'
    ],
    roster: [
      { id: 'm1', name: 'John Doe', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/1.jpg' },
      { id: 'm2', name: 'Alice Smith', role: 'Member', avatar: 'https://randomuser.me/api/portraits/women/2.jpg' },
      { id: 'm3', name: 'Bob Johnson', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/3.jpg' },
      { id: 'm4', name: 'Eve Davis', role: 'Member', avatar: 'https://randomuser.me/api/portraits/women/4.jpg' },
      { id: 'm5', name: 'Charlie Brown', role: 'Leader', avatar: 'https://randomuser.me/api/portraits/men/5.jpg' },
    ],
  },
  {
    id: 'team2',
    teamName: 'Beta Coders',
    role: 'Member',
    membersCount: 8,
    recentActivity: [
      'New repository added',
      'Bug fixes deployed',
      'Code review completed'
    ],
    roster: [
      { id: 'm6', name: 'Diana Prince', role: 'Leader', avatar: 'https://randomuser.me/api/portraits/women/6.jpg' },
      { id: 'm7', name: 'Bruce Wayne', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/7.jpg' },
      { id: 'm8', name: 'Clark Kent', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/8.jpg' },
      // ... autres membres
    ],
  },
  // Ajoutez d'autres équipes si besoin...
];

const TeamsCollaboration: NextPage = () => {
  // Définition du menu d'actions pour une équipe, disponible uniquement si l'utilisateur est leader
  const teamActionsMenu = (
    <Menu>
      <Menu.Item key="settings">
        <a href="#">Manage Team Settings</a>
      </Menu.Item>
      <Menu.Item key="invite">
        <a href="#">Invite New Member</a>
      </Menu.Item>
    </Menu>
  );

  // Colonnes du tableau de liste des équipes
  const columns = [
    {
      title: 'Team Name',
      dataIndex: 'teamName',
      key: 'teamName',
      render: (text: string, record: Team) => (
        <Space>
          <span>{text}</span>
          {record.role === 'Leader' && (
            <Text type="success" strong>
              (Leader)
            </Text>
          )}
        </Space>
      ),
    },
    {
      title: 'Role',
      dataIndex: 'role',
      key: 'role',
    },
    {
      title: 'Members',
      dataIndex: 'membersCount',
      key: 'membersCount',
    },
    {
      title: 'Recent Activity',
      dataIndex: 'recentActivity',
      key: 'recentActivity',
      render: (activities: string[]) => (
        <List
          dataSource={activities.slice(0, 2)} // Afficher les 2 dernières activités en aperçu
          renderItem={(activity) => (
            <List.Item style={{ padding: 0 }}>
              <Text type="secondary">{activity}</Text>
            </List.Item>
          )}
          size="small"
        />
      ),
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: Team) =>
        record.role === 'Leader' ? (
          <Dropdown overlay={teamActionsMenu}>
            <a onClick={(e) => e.preventDefault()}>
              <Space>
                Actions <DownOutlined />
              </Space>
            </a>
          </Dropdown>
        ) : null,
    },
  ];

  // Fonction de rendu pour la zone détaillée (row expansion)
  const expandedRowRender = (record: Team) => {
    return (
      <div style={{ padding: '16px 24px', background: '#fafafa' }}>
        <Title level={5}>Team Roster</Title>
        <List
          grid={{ gutter: 16, column: 4 }}
          dataSource={record.roster}
          renderItem={(member: TeamMember) => (
            <List.Item>
              <Space direction="vertical" align="center">
                <Avatar src={member.avatar} size={48} />
                <Text>{member.name}</Text>
                <Text type="secondary" style={{ fontSize: 12 }}>
                  {member.role}
                </Text>
              </Space>
            </List.Item>
          )}
        />
        <br />
        <Title level={5}>Recent Activity Log</Title>
        <List
          dataSource={record.recentActivity}
          renderItem={(activity) => (
            <List.Item>
              <Text>{activity}</Text>
            </List.Item>
          )}
          size="small"
        />
      </div>
    );
  };

  return (
    <PageContainer title="My Teams">
      <div style={{ marginBottom: 24, textAlign: 'right' }}>
        <Button
          type="primary"
          icon={<UsergroupAddOutlined />}
          href="/konnected/teams-collaboration/team-builder"
        >
          Team Builder
        </Button>
      </div>
      <Table
        columns={columns}
        dataSource={teamsData}
        rowKey="id"
        expandable={{ expandedRowRender }}
        pagination={{ pageSize: 5 }}
        // Mise en évidence des équipes où l'utilisateur est Leader
        rowClassName={(record: Team) => (record.role === 'Leader' ? 'team-leader-row' : '')}
      />
      <style jsx>{`
        .team-leader-row {
          background-color: #f6ffed;
        }
      `}</style>
    </PageContainer>
  );
};

TeamsCollaboration.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default TeamsCollaboration;

===== END konnected\teams-collaboration\my-teams\page.tsx =====


===== BEGIN konnected\teams-collaboration\project-workspaces\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\teams-collaboration\project-workspaces\components\CommonWidget\page.tsx =====


===== BEGIN konnected\teams-collaboration\project-workspaces\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\teams-collaboration\project-workspaces\index.test\page.tsx =====


===== BEGIN konnected\teams-collaboration\project-workspaces\page.tsx =====
// File: /pages/konnected/teams-collaboration/project-workspaces.tsx
import React from 'react';
import { NextPage } from 'next';
import { Table, Button, Tag, Typography, Space, message } from 'antd';
import Router from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title } = Typography;

// Interface décrivant la structure d'un workspace
interface Workspace {
  id: string;
  projectName: string;
  teamName: string;
  status: 'Active' | 'Inactive';
  isLaunched: boolean;
  onlineMembers: number;
  userRole: 'Leader' | 'Member';
}

// Exemple de données de workspaces
const workspaceData: Workspace[] = [
  {
    id: '1',
    projectName: 'Project Alpha',
    teamName: 'Alpha Innovators',
    status: 'Active',
    isLaunched: true,
    onlineMembers: 4,
    userRole: 'Leader',
  },
  {
    id: '2',
    projectName: 'Project Beta',
    teamName: 'Beta Coders',
    status: 'Inactive',
    isLaunched: false,
    onlineMembers: 0,
    userRole: 'Member',
  },
  {
    id: '3',
    projectName: 'Project Gamma',
    teamName: 'Gamma Team',
    status: 'Active',
    isLaunched: true,
    onlineMembers: 2,
    userRole: 'Member',
  },
];

const ProjectWorkspaces: NextPage = () => {
  // Gestion de l'action sur un workspace
  const handleWorkspaceAction = (workspace: Workspace) => {
    if (!workspace.isLaunched && workspace.userRole === 'Leader') {
      // Pour un workspace non lancé accessible aux leaders, déclenchement de l'action de lancement
      console.log(`Launching workspace: ${workspace.projectName}`);
      // Par exemple, appeler une API puis rediriger ou mettre à jour l'état
      message.success(`Workspace ${workspace.projectName} lancé avec succès.`);
    } else {
      // Pour un workspace lancé, naviguer vers la page du workspace
      Router.push(`/konnected/teams-collaboration/project-workspaces/${workspace.id}`);
    }
  };

  // Définition des colonnes du tableau
  const columns = [
    {
      title: 'Workspace/Project Name',
      dataIndex: 'projectName',
      key: 'projectName',
    },
    {
      title: 'Team Name',
      dataIndex: 'teamName',
      key: 'teamName',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
      render: (status: string) =>
        status === 'Active' ? (
          <Tag color="green">Active</Tag>
        ) : (
          <Tag color="volcano">Inactive</Tag>
        ),
    },
    {
      title: 'Online Members',
      dataIndex: 'onlineMembers',
      key: 'onlineMembers',
      render: (onlineMembers: number) => <span>{onlineMembers} online</span>,
    },
    {
      title: 'Action',
      key: 'action',
      render: (_: any, record: Workspace) => {
        let buttonLabel = '';
        if (!record.isLaunched && record.userRole === 'Leader') {
          buttonLabel = 'Launch Workspace';
        } else if (record.isLaunched) {
          buttonLabel = record.userRole === 'Leader' ? 'Open Workspace' : 'Join Workspace';
        } else {
          buttonLabel = 'Join Workspace';
        }
        return (
          <Button type="primary" onClick={() => handleWorkspaceAction(record)}>
            {buttonLabel}
          </Button>
        );
      },
    },
  ];

  return (
    <PageContainer title="Project Workspaces">
      <Space style={{ marginBottom: 16 }}>
        <Button
          type="primary"
          onClick={() => Router.push('/konnected/teams-collaboration/launch-new-workspace')}
        >
          Launch New Workspace
        </Button>
      </Space>
      <Table
        columns={columns}
        dataSource={workspaceData}
        rowKey="id"
        pagination={{ pageSize: 5 }}
      />
    </PageContainer>
  );
};

ProjectWorkspaces.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ProjectWorkspaces;

===== END konnected\teams-collaboration\project-workspaces\page.tsx =====


===== BEGIN konnected\teams-collaboration\team-builder\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END konnected\teams-collaboration\team-builder\components\CommonWidget\page.tsx =====


===== BEGIN konnected\teams-collaboration\team-builder\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END konnected\teams-collaboration\team-builder\index.test\page.tsx =====


===== BEGIN konnected\teams-collaboration\team-builder\page.tsx =====
'use client'

// File: /pages/konnected/teams-collaboration/team-builder.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Form,
  Input,
  Button,
  Steps,
  Upload,
  message,
  Avatar,
  Select,
  Space,
} from 'antd';
import { UploadOutlined, PlusOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';
import Router from 'next/navigation';

const { Step } = Steps;
const { Option } = Select;

const TeamBuilder: NextPage = () => {
  const [currentStep, setCurrentStep] = useState<number>(0);
  const [form] = Form.useForm();

  // Passage à l'étape suivante après validation des champs de l'étape actuelle
  const next = () => {
    form
      .validateFields()
      .then(() => {
        setCurrentStep(currentStep + 1);
      })
      .catch(() => {
        message.error('Veuillez compléter les champs obligatoires.');
      });
  };

  // Retour à l'étape précédente
  const prev = () => {
    setCurrentStep(currentStep - 1);
  };

  // Gestion de la soumission du formulaire complet (création de l'équipe)
  const onFinish = (values: any) => {
    console.log('Team Created:', values);
    message.success('L’équipe a été créée avec succès et les invitations ont été envoyées!');
    // Redirection vers "My Teams"
    Router.push('/konnected/teams-collaboration/my-teams');
  };

  // Définition des titres des étapes
  const steps = [
    { title: 'Team Info' },
    { title: 'Invite Members' },
  ];

  return (
    <PageContainer title="Team Builder">
      <Steps current={currentStep} style={{ marginBottom: 24 }}>
        {steps.map((item) => (
          <Step key={item.title} title={item.title} />
        ))}
      </Steps>
      <Form form={form} layout="vertical" onFinish={onFinish}>
        {currentStep === 0 && (
          <>
            <Form.Item
              label="Team Name"
              name="teamName"
              rules={[{ required: true, message: 'Veuillez saisir le nom de l’équipe.' }]}
            >
              <Input placeholder="Entrez le nom de l’équipe" />
            </Form.Item>
            <Form.Item
              label="Team Purpose/Goal"
              name="teamPurpose"
              rules={[{ required: true, message: 'Veuillez indiquer le but de l’équipe.' }]}
            >
              <Input placeholder="Quel est l’objectif de l’équipe ?" />
            </Form.Item>
            <Form.Item label="Team Description" name="teamDescription">
              <Input.TextArea rows={4} placeholder="Description optionnelle de l’équipe" />
            </Form.Item>
            <Form.Item label="Team Avatar" name="teamAvatar">
              <Upload name="avatar" listType="picture" maxCount={1}>
                <Button icon={<UploadOutlined />}>Télécharger un avatar</Button>
              </Upload>
            </Form.Item>
          </>
        )}

        {currentStep === 1 && (
          <>
            <Form.List name="invitedMembers">
              {(fields, { add, remove }) => (
                <>
                  {fields.map((field) => (
                    <Space
                      key={field.key}
                      align="baseline"
                      style={{ display: 'flex', marginBottom: 8 }}
                    >
                      <Form.Item
                        {...field}
                        name={[field.name, 'email']}
                        fieldKey={[field.fieldKey, 'email']}
                        rules={[{ required: true, message: 'Veuillez saisir l’email du membre' }]}
                      >
                        <Input placeholder="Email du membre" />
                      </Form.Item>
                      <Form.Item
                        {...field}
                        name={[field.name, 'role']}
                        fieldKey={[field.fieldKey, 'role']}
                        rules={[{ required: true, message: 'Veuillez sélectionner un rôle' }]}
                      >
                        <Select placeholder="Rôle" style={{ width: 120 }}>
                          <Option value="Member">Member</Option>
                          <Option value="Co-Lead">Co-Lead</Option>
                        </Select>
                      </Form.Item>
                      <Button type="link" onClick={() => remove(field.name)}>
                        Supprimer
                      </Button>
                    </Space>
                  ))}
                  <Form.Item>
                    <Button type="dashed" onClick={() => add()} icon={<PlusOutlined />}>
                      Ajouter un membre
                    </Button>
                  </Form.Item>
                </>
              )}
            </Form.List>

            {/* Prévisualisation des membres invités via Avatar.Group */}
            {form.getFieldValue('invitedMembers') &&
              form.getFieldValue('invitedMembers').length > 0 && (
                <Form.Item label="Invited Members Preview">
                  <Avatar.Group>
                    {form.getFieldValue('invitedMembers').map((member: any, index: number) => (
                      <Avatar key={index} style={{ backgroundColor: '#87d068' }}>
                        {member.email.charAt(0).toUpperCase()}
                      </Avatar>
                    ))}
                  </Avatar.Group>
                </Form.Item>
              )}
          </>
        )}

        <Form.Item>
          <Space>
            {currentStep > 0 && <Button onClick={prev}>Précédent</Button>}
            {currentStep < steps.length - 1 && (
              <Button type="primary" onClick={next}>
                Suivant
              </Button>
            )}
            {currentStep === steps.length - 1 && (
              <Button type="primary" htmlType="submit">
                Créer l’équipe
              </Button>
            )}
          </Space>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

TeamBuilder.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default TeamBuilder;

===== END konnected\teams-collaboration\team-builder\page.tsx =====


===== BEGIN konsensus\components\index.ts =====
﻿export { VoteButtons } from './VoteButtons';

===== END konsensus\components\index.ts =====


===== BEGIN konsensus\components\PollBarChart.tsx =====
"use client";
import {
  Chart as ChartJS,
  BarElement,
  CategoryScale,
  LinearScale,
  Tooltip,
  Legend,
} from "chart.js";
import { Bar } from "react-chartjs-2";

ChartJS.register(BarElement, CategoryScale, LinearScale, Tooltip, Legend);

export default function PollBarChart({
  labels,
  votes,
}: {
  labels: string[];
  votes: number[];
}) {
  const data = { labels, datasets: [{ label: "Votes", data: votes }] };
  return <Bar data={data} options={{ responsive: true }} />;
}

===== END konsensus\components\PollBarChart.tsx =====


===== BEGIN konsensus\components\VoteButtons.tsx =====
﻿"use client";
import React from "react";
import { Button } from "antd";

// Explicit props: parent passes pollId and option list
export interface VoteButtonsProps {
  pollId: string;
  options: string[];
  onVote: (option: string) => void;
}

export default function VoteButtons({ pollId, options, onVote }: VoteButtonsProps) {
  return (
    <div className="flex gap-2">
      {options.map((option) => (
        <Button key={option} onClick={() => onVote(option)}>
          {option.charAt(0).toUpperCase() + option.slice(1)}
        </Button>
      ))}
    </div>
  );
}

===== END konsensus\components\VoteButtons.tsx =====


===== BEGIN konsensus\hooks\index.ts =====
﻿export * from './usePoll';

===== END konsensus\hooks\index.ts =====


===== BEGIN konsensus\hooks\useLivePoll.ts =====
import { useEffect } from "react";
import { io } from "socket.io-client";

export default function useLivePoll(id: string) {
  useEffect(() => {
    const socket = io(`/api/poll/${id}`);
    // ... listen to events
    return () => {
      socket.disconnect();
    };
  }, [id]);
}

===== END konsensus\hooks\useLivePoll.ts =====


===== BEGIN konsensus\hooks\usePoll.ts =====
﻿import { useQuery } from "@tanstack/react-query";
import { api } from "@/shared/api";

export function usePoll(id: string) {
  return useQuery({
    queryKey: ["poll", id],
    queryFn: async () => (await api.get(`/api/polls/${id}`)).data,
    staleTime: 30000,
    retry: 1,
  });
}

===== END konsensus\hooks\usePoll.ts =====


===== BEGIN konsensus\page.tsx =====
import { PollPage } from "@/modules/konsensus/pages";
export default PollPage;

===== END konsensus\page.tsx =====


===== BEGIN konsensus\pages\index.ts =====
export { default as PollPage } from './PollPage';

===== END konsensus\pages\index.ts =====


===== BEGIN konsensus\pages\PollPage.tsx =====
"use client";
import React from "react";
import { Card, Spin, Alert } from "antd";
import { usePoll } from "../hooks/usePoll";
import VoteButtons from "../components/VoteButtons";

// Replace with actual poll id logic if dynamic, here we use a fixed id for simplicity
const POLL_ID = "current"; 

export default function PollPage() {
  const { data: poll, isLoading, isError, error } = usePoll(POLL_ID);

  // Example handler
  const handleVote = (option: string) => {
    // TODO: Implement real API call
    console.log("Voted", option, "on poll", poll?.id);
  };

  if (isLoading) return <Spin />;
  if (isError) return <Alert message={error?.message} type="error" />;
  if (!poll) return null;

  return (
    <div className="container mx-auto py-8">
      <Card title="Current Poll">
        <h1 className="mb-6 text-xl font-semibold">{poll.question}</h1>
        <div className="mb-4 flex gap-4">
          <span>Yes: {poll.yes}</span>
          <span>No: {poll.no}</span>
        </div>
        {/* Pass pollId and option labels to VoteButtons */}
        <VoteButtons pollId={poll.id} options={["yes", "no"]} onVote={handleVote} />
      </Card>
    </div>
  );
}

===== END konsensus\pages\PollPage.tsx =====


===== BEGIN konsultations\components\ConsultationForm.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\components\ConsultationForm.tsx =====


===== BEGIN konsultations\components\ConsultationList.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\components\ConsultationList.tsx =====


===== BEGIN konsultations\components\ConsultationVotePanel.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\components\ConsultationVotePanel.tsx =====


===== BEGIN konsultations\components\ImpactTimeline.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\components\ImpactTimeline.tsx =====


===== BEGIN konsultations\components\index.ts =====
﻿export { default as ConsultationForm }   from './ConsultationForm';
export { default as ConsultationList }   from './ConsultationList';
export { default as ConsultationVotePanel } from './ConsultationVotePanel';
export { default as ImpactTimeline }     from './ImpactTimeline';
export { default as ResultsChart }       from './ResultsChart';
export { default as ResultsDashboard }   from './ResultsDashboard';
export { default as SuggestionBoard }    from './SuggestionBoard';
export { default as SuggestionsBoard }   from './SuggestionsBoard';

===== END konsultations\components\index.ts =====


===== BEGIN konsultations\components\ResultsChart.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\components\ResultsChart.tsx =====


===== BEGIN konsultations\components\ResultsDashboard.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\components\ResultsDashboard.tsx =====


===== BEGIN konsultations\components\SuggestionBoard.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\components\SuggestionBoard.tsx =====


===== BEGIN konsultations\components\SuggestionsBoard.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\components\SuggestionsBoard.tsx =====


===== BEGIN konsultations\hooks\index.ts =====
﻿export { default as useConsultation }        from './useConsultation';
export { default as useConsultationResults } from './useConsultationResults';
export { default as useConsultations }       from './useConsultations';
export { default as useConsultationVote }    from './useConsultationVote';
export { default as useImpact }              from './useImpact';
export { default as useSuggestions }         from './useSuggestions';

===== END konsultations\hooks\index.ts =====


===== BEGIN konsultations\hooks\useConsultation.ts =====
﻿export default function stub() { /* TODO */ }

===== END konsultations\hooks\useConsultation.ts =====


===== BEGIN konsultations\hooks\useConsultationResults.ts =====
﻿export default function stub() { /* TODO */ }

===== END konsultations\hooks\useConsultationResults.ts =====


===== BEGIN konsultations\hooks\useConsultations.ts =====
﻿export default function stub() { /* TODO */ }

===== END konsultations\hooks\useConsultations.ts =====


===== BEGIN konsultations\hooks\useConsultationVote.ts =====
﻿export default function stub() { /* TODO */ }

===== END konsultations\hooks\useConsultationVote.ts =====


===== BEGIN konsultations\hooks\useImpact.ts =====
﻿export default function stub() { /* TODO */ }

===== END konsultations\hooks\useImpact.ts =====


===== BEGIN konsultations\hooks\useSuggestions.ts =====
﻿export default function stub() { /* TODO */ }

===== END konsultations\hooks\useSuggestions.ts =====


===== BEGIN konsultations\pages\ConsultationDetailPage.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\pages\ConsultationDetailPage.tsx =====


===== BEGIN konsultations\pages\ConsultationHub.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\pages\ConsultationHub.tsx =====


===== BEGIN konsultations\pages\ConsultationsHomePage.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\pages\ConsultationsHomePage.tsx =====


===== BEGIN konsultations\pages\index.ts =====
export { default as ConsultationDetailPage } from './ConsultationDetailPage';
export { default as ConsultationHub } from './ConsultationHub';
export { default as ConsultationsHomePage } from './ConsultationsHomePage';
export { default as ResultsPage } from './ResultsPage';
export { default as SuggestionPage } from './SuggestionPage';

===== END konsultations\pages\index.ts =====


===== BEGIN konsultations\pages\ResultsPage.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\pages\ResultsPage.tsx =====


===== BEGIN konsultations\pages\SuggestionPage.tsx =====
﻿export default function Stub() { return null }

===== END konsultations\pages\SuggestionPage.tsx =====


===== BEGIN kontact\components\index.ts =====
﻿export { default as OpportunityList } from './OpportunityList';
export { default as ProfileCard }    from './ProfileCard';

===== END kontact\components\index.ts =====


===== BEGIN kontact\components\OpportunityList.tsx =====
﻿export default function Stub() { return null }

===== END kontact\components\OpportunityList.tsx =====


===== BEGIN kontact\components\ProfileCard.tsx =====
﻿export default function Stub() { return null }

===== END kontact\components\ProfileCard.tsx =====


===== BEGIN kontact\hooks\index.ts =====
﻿export { default as useOpportunities } from './useOpportunities';
export { default as useProfiles }      from './useProfiles';

===== END kontact\hooks\index.ts =====


===== BEGIN kontact\hooks\useOpportunities.ts =====
﻿export default function stub() { /* TODO */ }

===== END kontact\hooks\useOpportunities.ts =====


===== BEGIN kontact\hooks\useProfiles.ts =====
﻿export default function stub() { /* TODO */ }

===== END kontact\hooks\useProfiles.ts =====


===== BEGIN kontact\pages\ConnectCenter.tsx =====
﻿export default function Stub() { return null }

===== END kontact\pages\ConnectCenter.tsx =====


===== BEGIN kontact\pages\index.ts =====
export { default as ConnectCenter } from './ConnectCenter';
export { default as PublicProfile } from './PublicProfile';

===== END kontact\pages\index.ts =====


===== BEGIN kontact\pages\PublicProfile.tsx =====
﻿export default function Stub() { return null }

===== END kontact\pages\PublicProfile.tsx =====


===== BEGIN kreative\collaborative-spaces\find-spaces\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\collaborative-spaces\find-spaces\components\CommonWidget\page.tsx =====


===== BEGIN kreative\collaborative-spaces\find-spaces\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\collaborative-spaces\find-spaces\index.test\page.tsx =====


===== BEGIN kreative\collaborative-spaces\find-spaces\page.tsx =====
'use client'

// File: /pages/kreative/collaborative-spaces/find-spaces.tsx
import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import {
  Row,
  Col,
  Card,
  Input,
  Select,
  Button,
  Modal,
  Pagination,
  Space,
  Typography,
  message,
} from 'antd';
import { SearchOutlined, UserAddOutlined } from '@ant-design/icons';
import Router from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Option } = Select;

// Interface for a collaborative space.
interface CollaborativeSpace {
  id: string;
  name: string;
  description: string;
  discipline: 'Art' | 'Music' | 'Writing' | 'Technology' | 'Other';
  memberCount: number;
  joinType: 'open' | 'invite-only'; // Determines whether a user can join directly or must request
  createdAt: string; // ISO date string for sorting
  // You can add additional fields as needed.
}

// Dummy data for the available spaces.
const dummySpaces: CollaborativeSpace[] = [
  {
    id: '1',
    name: 'Urban Art Collective',
    description: 'A community for street artists and mural enthusiasts.',
    discipline: 'Art',
    memberCount: 35,
    joinType: 'open',
    createdAt: '2025-11-15T10:00:00Z',
  },
  {
    id: '2',
    name: 'Indie Music Makers',
    description: 'Join to collaborate on original music projects and recordings.',
    discipline: 'Music',
    memberCount: 50,
    joinType: 'invite-only',
    createdAt: '2025-11-20T14:30:00Z',
  },
  {
    id: '3',
    name: 'Writers’ Lounge',
    description: 'A space for writers to share ideas, get feedback, and find collaborators.',
    discipline: 'Writing',
    memberCount: 25,
    joinType: 'open',
    createdAt: '2025-11-18T09:15:00Z',
  },
  {
    id: '4',
    name: 'Tech & Art Fusion',
    description: 'Where creativity meets innovation: join us to build interactive art installations.',
    discipline: 'Technology',
    memberCount: 18,
    joinType: 'invite-only',
    createdAt: '2025-11-22T11:45:00Z',
  },
  // Additional dummy spaces can be added here.
];

const FindSpaces: NextPage = () => {
  // State for filters and sorting.
  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedDiscipline, setSelectedDiscipline] = useState<string>('All');
  const [selectedJoinType, setSelectedJoinType] = useState<string>('All');
  const [sortOption, setSortOption] = useState<'mostActive' | 'newest'>('mostActive');
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 4;

  // State for Modal join request.
  const [joinModalVisible, setJoinModalVisible] = useState<boolean>(false);
  const [selectedSpace, setSelectedSpace] = useState<CollaborativeSpace | null>(null);

  // Filter and sort the spaces.
  const filteredSpaces = useMemo(() => {
    let spaces = dummySpaces;
    if (selectedDiscipline !== 'All') {
      spaces = spaces.filter(space => space.discipline === selectedDiscipline);
    }
    if (selectedJoinType !== 'All') {
      spaces = spaces.filter(space => space.joinType === selectedJoinType);
    }
    if (searchQuery.trim() !== '') {
      spaces = spaces.filter(
        space =>
          space.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
          space.description.toLowerCase().includes(searchQuery.toLowerCase())
      );
    }
    if (sortOption === 'newest') {
      spaces = spaces.sort(
        (a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()
      );
    } else if (sortOption === 'mostActive') {
      // For simplicity, sort by memberCount as a proxy for activity.
      spaces = spaces.sort((a, b) => b.memberCount - a.memberCount);
    }
    return spaces;
  }, [searchQuery, selectedDiscipline, selectedJoinType, sortOption]);

  // Apply pagination.
  const paginatedSpaces = useMemo(() => {
    const start = (currentPage - 1) * pageSize;
    return filteredSpaces.slice(start, start + pageSize);
  }, [filteredSpaces, currentPage]);

  // Handle join action.
  const handleJoin = (space: CollaborativeSpace) => {
    if (space.joinType === 'open') {
      // Direct join.
      message.success(`You have joined "${space.name}"!`);
      // Optionally, redirect to the space's main page.
      Router.push(`/kreative/collaborative-spaces/${space.id}`);
    } else {
      // For invite-only, open a modal.
      setSelectedSpace(space);
      setJoinModalVisible(true);
    }
  };

  // Confirm join request.
  const confirmJoinRequest = () => {
    if (selectedSpace) {
      message.success(`Your request to join "${selectedSpace.name}" has been sent.`);
      // Here, integrate API call to process join request.
    }
    setJoinModalVisible(false);
    setSelectedSpace(null);
  };

  return (
    <PageContainer title="Find Spaces">
      <Space direction="vertical" style={{ width: '100%', marginBottom: 24 }} size="large">
        <Space wrap>
          {/* Search Input */}
          <Input
            placeholder="Search spaces..."
            prefix={<SearchOutlined />}
            value={searchQuery}
            onChange={(e) => {
              setSearchQuery(e.target.value);
              setCurrentPage(1);
            }}
            style={{ width: 300 }}
          />
          {/* Discipline Filter */}
          <Select
            value={selectedDiscipline}
            onChange={(value) => {
              setSelectedDiscipline(value);
              setCurrentPage(1);
            }}
            style={{ width: 180 }}
          >
            <Option value="All">All Disciplines</Option>
            <Option value="Art">Art</Option>
            <Option value="Music">Music</Option>
            <Option value="Writing">Writing</Option>
            <Option value="Technology">Technology</Option>
            <Option value="Other">Other</Option>
          </Select>
          {/* Join Type Filter */}
          <Select
            value={selectedJoinType}
            onChange={(value) => {
              setSelectedJoinType(value);
              setCurrentPage(1);
            }}
            style={{ width: 180 }}
          >
            <Option value="All">All Join Types</Option>
            <Option value="open">Open</Option>
            <Option value="invite-only">Invite-Only</Option>
          </Select>
          {/* Sorting Options */}
          <Select
            value={sortOption}
            onChange={(value) => {
              setSortOption(value as 'mostActive' | 'newest');
              setCurrentPage(1);
            }}
            style={{ width: 180 }}
          >
            <Option value="mostActive">Most Active</Option>
            <Option value="newest">Newest</Option>
          </Select>
        </Space>
      </Space>

      {/* Render the list of space cards */}
      <Row gutter={[24, 24]}>
        {paginatedSpaces.map((space) => (
          <Col key={space.id} xs={24} sm={12} md={8}>
            <Card
              hoverable
              title={space.name}
              extra={<Text type="secondary">{space.memberCount} Members</Text>}
              actions={[
                <Button type="primary" onClick={(e) => { e.stopPropagation(); handleJoin(space); }}>
                  {space.joinType === 'open' ? 'Join' : 'Request to Join'}
                </Button>,
              ]}
              onClick={() => {
                // Optionally, clicking the card can navigate to a space detail view.
                Router.push(`/kreative/collaborative-spaces/${space.id}`);
              }}
            >
              <Card.Meta
                description={<Text>{space.description}</Text>}
              />
              <div style={{ marginTop: 12 }}>
                <Text strong>Discipline:</Text> <Text>{space.discipline}</Text>
                <br />
                <Text strong>Status:</Text> <Text>{space.joinType === 'open' ? 'Open' : 'Invite-Only'}</Text>
              </div>
            </Card>
          </Col>
        ))}
      </Row>

      {/* Pagination */}
      <div style={{ textAlign: 'center', marginTop: 24 }}>
        <Pagination
          current={currentPage}
          pageSize={pageSize}
          total={filteredSpaces.length}
          onChange={(page) => setCurrentPage(page)}
        />
      </div>

      {/* Modal for Invite-Only Join Request */}
      <Modal
        title="Request to Join Space"
        visible={joinModalVisible}
        onOk={confirmJoinRequest}
        onCancel={() => setJoinModalVisible(false)}
        okText="Send Request"
        cancelText="Cancel"
      >
        {selectedSpace && (
          <p>Do you want to send a join request for the space: <strong>{selectedSpace.name}</strong>?</p>
        )}
      </Modal>
    </PageContainer>
  );
};

FindSpaces.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default FindSpaces;

===== END kreative\collaborative-spaces\find-spaces\page.tsx =====


===== BEGIN kreative\collaborative-spaces\my-spaces\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\collaborative-spaces\my-spaces\components\CommonWidget\page.tsx =====


===== BEGIN kreative\collaborative-spaces\my-spaces\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\collaborative-spaces\my-spaces\index.test\page.tsx =====


===== BEGIN kreative\collaborative-spaces\my-spaces\page.tsx =====
'use client'

// File: /pages/kreative/collaborative-spaces/my-spaces.tsx
import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import { List, Button, Input, Select, Badge, Avatar, Space, Row, Col, Typography } from 'antd';
import { TeamOutlined, PlusOutlined, SearchOutlined } from '@ant-design/icons';
import Router from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Option } = Select;

// Define an interface for a collaborative space.
interface CollaborativeSpace {
  id: string;
  name: string;
  topic: string;
  membersCount: number;
  category: 'Studio' | 'Club' | 'Community';
  unreadCount: number; // Number of unread messages or new activity.
}

// Dummy data for collaborative spaces.
const dummySpaces: CollaborativeSpace[] = [
  {
    id: '1',
    name: 'Creative Studio Alpha',
    topic: 'Graphic Design & Illustration',
    membersCount: 12,
    category: 'Studio',
    unreadCount: 3,
  },
  {
    id: '2',
    name: 'Music Club Beta',
    topic: 'Indie & Electronic Music',
    membersCount: 20,
    category: 'Club',
    unreadCount: 0,
  },
  {
    id: '3',
    name: 'Writers Community Gamma',
    topic: 'Creative Writing & Storytelling',
    membersCount: 15,
    category: 'Community',
    unreadCount: 5,
  },
  // Additional spaces can be added here.
];

const MySpacesPage: NextPage = () => {
  // State for category filtering.
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  // State for search query.
  const [searchQuery, setSearchQuery] = useState<string>('');

  // Filter spaces based on selected category and search input.
  const filteredSpaces = useMemo(() => {
    let spaces = dummySpaces;
    if (selectedCategory !== 'All') {
      spaces = spaces.filter((space) => space.category === selectedCategory);
    }
    if (searchQuery.trim() !== '') {
      spaces = spaces.filter((space) =>
        space.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
        space.topic.toLowerCase().includes(searchQuery.toLowerCase())
      );
    }
    return spaces;
  }, [selectedCategory, searchQuery]);

  // Function to handle entering a space.
  const enterSpace = (id: string) => {
    Router.push(`/kreative/collaborative-spaces/${id}`);
  };

  return (
    <PageContainer title="My Spaces">
      <Row justify="space-between" align="middle" style={{ marginBottom: 24 }}>
        <Col>
          <Space>
            {/* Search Input */}
            <Input
              placeholder="Search spaces..."
              prefix={<SearchOutlined />}
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              style={{ width: 300 }}
            />
            {/* Category Filter */}
            <Select
              value={selectedCategory}
              onChange={(value) => setSelectedCategory(value)}
              style={{ width: 180 }}
            >
              <Option value="All">All Categories</Option>
              <Option value="Studio">Studio</Option>
              <Option value="Club">Club</Option>
              <Option value="Community">Community</Option>
            </Select>
          </Space>
        </Col>
        <Col>
          <Button
            type="primary"
            icon={<PlusOutlined />}
            onClick={() => Router.push('/kreative/collaborative-spaces/create')}
          >
            Start a New Space
          </Button>
        </Col>
      </Row>

      {/* Collaborative Spaces List */}
      <List
        itemLayout="horizontal"
        dataSource={filteredSpaces}
        renderItem={(space: CollaborativeSpace) => (
          <List.Item key={space.id} actions={[
            <Button type="primary" onClick={() => enterSpace(space.id)}>
              Enter Space
            </Button>,
          ]}>
            <List.Item.Meta
              avatar={
                space.unreadCount > 0 ? (
                  <Badge count={space.unreadCount} offset={[-5, 5]}>
                    <Avatar size="large" icon={<TeamOutlined />} />
                  </Badge>
                ) : (
                  <Avatar size="large" icon={<TeamOutlined />} />
                )
              }
              title={<Title level={4} style={{ margin: 0 }}>{space.name}</Title>}
              description={
                <Space direction="vertical">
                  <Text strong>Topic:</Text> <Text>{space.topic}</Text>
                  <Text strong>Members:</Text> <Text>{space.membersCount}</Text>
                </Space>
              }
            />
          </List.Item>
        )}
      />
    </PageContainer>
  );
};

MySpacesPage.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default MySpacesPage;

===== END kreative\collaborative-spaces\my-spaces\page.tsx =====


===== BEGIN kreative\collaborative-spaces\start-new-space\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\collaborative-spaces\start-new-space\components\CommonWidget\page.tsx =====


===== BEGIN kreative\collaborative-spaces\start-new-space\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\collaborative-spaces\start-new-space\index.test\page.tsx =====


===== BEGIN kreative\collaborative-spaces\start-new-space\page.tsx =====
'use client'

// File: /pages/kreative/collaborative-spaces/start-new-space.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Form,
  Input,
  Select,
  Radio,
  Button,
  Upload,
  Space as AntdSpace,
  message,
} from 'antd';
import { UploadOutlined, PlusOutlined } from '@ant-design/icons';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';


const { TextArea } = Input;
const { Option } = Select;

const StartNewSpace: NextPage = () => {
  const [form] = Form.useForm();
  const router = useRouter();
  // State to manage file uploads for the space banner or icon.
  const [fileList, setFileList] = useState<any[]>([]);

  // Handler for file upload changes.
  const handleFileChange = (info: any) => {
    // Prevent automatic upload and update fileList locally.
    setFileList([...info.fileList]);
  };

  // Handler when the form is submitted.
  const onFinish = (values: any) => {
    const spaceData = {
      ...values,
      // Include the file information from fileList (to be handled by an API).
      banner: fileList,
    };
    console.log('New Space Data:', spaceData);
    message.success('Your new space has been created successfully!');
    // Optionally auto-join the user and then redirect to the space’s detail page.
    router.push('/kreative/collaborative-spaces/' + 'new-space-id'); // Replace 'new-space-id' with the actual ID.
  };

  return (
    <PageContainer title="Start a New Space">
      <Form
        form={form}
        layout="vertical"
        onFinish={onFinish}
        initialValues={{
          privacy: 'Public',
          category: 'Art Study Group',
        }}
      >
        {/* Space Name */}
        <Form.Item
          label="Space Name"
          name="name"
          rules={[{ required: true, message: 'Please enter a space name.' }]}
        >
          <Input placeholder="Enter the name of your space" />
        </Form.Item>

        {/* Description / Purpose */}
        <Form.Item
          label="Description / Purpose"
          name="description"
          rules={[
            { required: true, message: 'Please provide a description for your space.' },
          ]}
        >
          <TextArea rows={5} placeholder="Describe the purpose and vision of your space" />
        </Form.Item>

        {/* Category / Type */}
        <Form.Item
          label="Category / Type"
          name="category"
          rules={[{ required: true, message: 'Please select a category.' }]}
        >
          <Select placeholder="Select a category">
            <Option value="Art Study Group">Art Study Group</Option>
            <Option value="Music Jam Session">Music Jam Session</Option>
            <Option value="Creative Writing Circle">Creative Writing Circle</Option>
            <Option value="Digital Innovation Hub">Digital Innovation Hub</Option>
          </Select>
        </Form.Item>

        {/* Privacy Setting */}
        <Form.Item
          label="Privacy Setting"
          name="privacy"
          rules={[{ required: true, message: 'Please choose a privacy setting.' }]}
        >
          <Radio.Group>
            <Radio value="Public">Public (Anyone can join)</Radio>
            <Radio value="Private">Private (Invite Only)</Radio>
          </Radio.Group>
        </Form.Item>

        {/* Invite Initial Members - Conditional on Private Privacy */}
        <Form.Item shouldUpdate={(prevValues, curValues) => prevValues.privacy !== curValues.privacy}>
          {({ getFieldValue }) =>
            getFieldValue('privacy') === 'Private' ? (
              <Form.List name="invitedMembers">
                {(fields, { add, remove }) => (
                  <>
                    <AntdSpace direction="vertical" style={{ width: '100%' }}>
                      {fields.map((field) => (
                        <AntdSpace key={field.key} align="baseline">
                          <Form.Item
                            {...field}
                            name={[field.name, 'email']}
                            fieldKey={[field.fieldKey, 'email']}
                            rules={[{ required: true, message: 'Please enter an email address.' }]}
                          >
                            <Input placeholder="Enter member email" />
                          </Form.Item>
                          <Button type="link" onClick={() => remove(field.name)}>
                            Remove
                          </Button>
                        </AntdSpace>
                      ))}
                      <Form.Item>
                        <Button type="dashed" onClick={() => add()} icon={<PlusOutlined />}>
                          Invite Member
                        </Button>
                      </Form.Item>
                    </AntdSpace>
                  </>
                )}
              </Form.List>
            ) : null
          }
        </Form.Item>

        {/* Space Banner or Icon Upload */}
        <Form.Item label="Space Icon / Banner Image" name="banner">
          <Upload
            beforeUpload={() => false} // Prevent auto-upload.
            fileList={fileList}
            onChange={handleFileChange}
            accept="image/*"
          >
            <Button icon={<UploadOutlined />}>Upload Image</Button>
          </Upload>
        </Form.Item>

        {/* Submit Button */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Create Space
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

StartNewSpace.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default StartNewSpace;

===== END kreative\collaborative-spaces\start-new-space\page.tsx =====


===== BEGIN kreative\community-showcases\featured-projects\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\community-showcases\featured-projects\components\CommonWidget\page.tsx =====


===== BEGIN kreative\community-showcases\featured-projects\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\community-showcases\featured-projects\index.test\page.tsx =====


===== BEGIN kreative\community-showcases\featured-projects\page.tsx =====
'use client'

// File: /pages/kreative/community-showcases/featured-projects.tsx
import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import { Card, Row, Col, Input, Select, Modal, Pagination, Typography, Badge, Space } from 'antd';
import { SearchOutlined } from '@ant-design/icons';
import Router from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';


const { Title, Text } = Typography;
const { Option } = Select;

interface Project {
  id: string;
  title: string;
  description: string;
  creator: string;
  coverImage: string;
  category: string;
}

const dummyProjects: Project[] = [
  {
    id: '1',
    title: 'Project Sunrise',
    description: 'An inspiring project that captures the beauty of dawn with innovative photo techniques and a vivid color palette.',
    creator: 'Alice Johnson',
    coverImage: 'https://via.placeholder.com/400x300.png?text=Project+Sunrise',
    category: 'Photography',
  },
  {
    id: '2',
    title: 'Digital Dreamscape',
    description: 'A surreal digital art piece combining abstract concepts with vibrant colors to evoke emotion.',
    creator: 'Bob Smith',
    coverImage: 'https://via.placeholder.com/400x300.png?text=Digital+Dreamscape',
    category: 'Digital Art',
  },
  {
    id: '3',
    title: 'Urban Poetry',
    description: 'A mixed-media project blending urban photography with spoken word performance, reimagining cityscapes in a poetic light.',
    creator: 'Carol Lee',
    coverImage: 'https://via.placeholder.com/400x300.png?text=Urban+Poetry',
    category: 'Mixed Media',
  },
  {
    id: '4',
    title: 'Vintage Revival',
    description: 'A creative reinterpretation of vintage art styles merged with modern design sensibilities.',
    creator: 'David Kim',
    coverImage: 'https://via.placeholder.com/400x300.png?text=Vintage+Revival',
    category: 'Painting',
  },
  // Add additional project entries as needed.
];

const FeaturedProjects: NextPage = () => {
  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [modalVisible, setModalVisible] = useState<boolean>(false);
  const [selectedProject, setSelectedProject] = useState<Project | null>(null);
  
  // Pagination state.
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 4;

  // Filter projects based on search and category.
  const filteredProjects = useMemo(() => {
    let projects = dummyProjects;
    if (selectedCategory !== 'All') {
      projects = projects.filter(project => project.category === selectedCategory);
    }
    if (searchQuery.trim() !== '') {
      projects = projects.filter(
        project =>
          project.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
          project.description.toLowerCase().includes(searchQuery.toLowerCase())
      );
    }
    return projects;
  }, [searchQuery, selectedCategory]);

  const paginatedProjects = useMemo(() => {
    const start = (currentPage - 1) * pageSize;
    return filteredProjects.slice(start, start + pageSize);
  }, [filteredProjects, currentPage]);

  const openModal = (project: Project) => {
    setSelectedProject(project);
    setModalVisible(true);
  };

  const closeModal = () => {
    setModalVisible(false);
    setSelectedProject(null);
  };

  return (
    <PageContainer title="Featured Projects">
      {/* Filter Section */}
      <Space wrap style={{ marginBottom: 24 }}>
        <Input
          placeholder="Search projects..."
          prefix={<SearchOutlined />}
          value={searchQuery}
          onChange={(e) => {
            setSearchQuery(e.target.value);
            setCurrentPage(1);
          }}
          style={{ width: 300 }}
        />
        <Select
          value={selectedCategory}
          onChange={(value) => {
            setSelectedCategory(value);
            setCurrentPage(1);
          }}
          style={{ width: 200 }}
        >
          <Option value="All">All Categories</Option>
          <Option value="Photography">Photography</Option>
          <Option value="Digital Art">Digital Art</Option>
          <Option value="Mixed Media">Mixed Media</Option>
          <Option value="Painting">Painting</Option>
          {/* Add more categories as needed */}
        </Select>
      </Space>

      {/* Projects Grid */}
      <Row gutter={[24, 24]}>
        {paginatedProjects.map((project) => (
          <Col key={project.id} xs={24} sm={12} md={8} lg={6}>
            <Badge.Ribbon text="Featured" color="red">
              <Card
                hoverable
                cover={
                  <img
                    alt={project.title}
                    src={project.coverImage}
                    style={{ height: 200, objectFit: 'cover' }}
                  />
                }
                onClick={() => openModal(project)}
              >
                <Card.Meta
                  title={project.title}
                  description={
                    <>
                      <Text ellipsis={{ rows: 2 }}>{project.description}</Text>
                      <br />
                      <Text type="secondary">By {project.creator}</Text>
                    </>
                  }
                />
              </Card>
            </Badge.Ribbon>
          </Col>
        ))}
      </Row>

      {/* Pagination */}
      <div style={{ textAlign: 'center', marginTop: 24 }}>
        <Pagination
          current={currentPage}
          pageSize={pageSize}
          total={filteredProjects.length}
          onChange={(page) => setCurrentPage(page)}
        />
      </div>

      {/* Modal for Project Details */}
      <Modal
        visible={modalVisible}
        onCancel={closeModal}
        footer={null}
        width={800}
      >
        {selectedProject && (
          <div>
            <img
              alt={selectedProject.title}
              src={selectedProject.coverImage}
              style={{ width: '100%', maxHeight: 400, objectFit: 'cover' }}
            />
            <div style={{ marginTop: 16 }}>
              <Title level={3}>{selectedProject.title}</Title>
              <Text type="secondary">By {selectedProject.creator}</Text>
              <p style={{ marginTop: 12 }}>{selectedProject.description}</p>
              <Button
                type="primary"
                onClick={() => Router.push(`/kreative/community-showcases/featured-projects/${selectedProject.id}`)}
              >
                View Details
              </Button>
            </div>
          </div>
        )}
      </Modal>
    </PageContainer>
  );
};

FeaturedProjects.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default FeaturedProjects;

===== END kreative\community-showcases\featured-projects\page.tsx =====


===== BEGIN kreative\community-showcases\submit-to-showcase\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\community-showcases\submit-to-showcase\components\CommonWidget\page.tsx =====


===== BEGIN kreative\community-showcases\submit-to-showcase\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\community-showcases\submit-to-showcase\index.test\page.tsx =====


===== BEGIN kreative\community-showcases\submit-to-showcase\page.tsx =====
'use client'

// File: /pages/kreative/community-showcases/submit-to-showcase.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import { Form, Input, Select, Button, Modal, message } from 'antd';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';


const { TextArea } = Input;
const { Option } = Select;

const SubmitToShowcase: NextPage = () => {
  const [form] = Form.useForm();
  const router = useRouter();
  const [modalVisible, setModalVisible] = useState(false);

  // Dummy data representing the user's existing projects.
  const projectOptions = [
    { id: 'p1', name: 'Project Sunrise' },
    { id: 'p2', name: 'Digital Dreamscape' },
    { id: 'p3', name: 'Urban Poetry' },
  ];

  // Handle form submission.
  const onFinish = (values: any) => {
    console.log('Submitted values:', values);
    // Here you would typically submit values to your API.
    setModalVisible(true);
  };

  // Handle modal confirmation.
  const handleModalOk = () => {
    message.success('Your project has been submitted for review.');
    setModalVisible(false);
    // Redirect to the featured projects page or the user's submissions.
    router.push('/kreative/community-showcases/featured-projects');
  };

  return (
    <PageContainer title="Submit to Showcase">
      <Form
        form={form}
        layout="vertical"
        onFinish={onFinish}
        initialValues={{
          showcaseCategory: 'General',
        }}
      >
        {/* Project Selection */}
        <Form.Item
          label="Select Project"
          name="projectId"
          rules={[{ required: true, message: 'Please select a project to submit.' }]}
        >
          <Select placeholder="Choose a project">
            {projectOptions.map((project) => (
              <Option key={project.id} value={project.id}>
                {project.name}
              </Option>
            ))}
          </Select>
        </Form.Item>

        {/* Showcase Category (Optional) */}
        <Form.Item
          label="Showcase Category"
          name="showcaseCategory"
          rules={[{ required: true, message: 'Please select a showcase category.' }]}
        >
          <Select placeholder="Select a category">
            <Option value="General">General</Option>
            <Option value="Art">Art</Option>
            <Option value="Music">Music</Option>
            <Option value="Digital">Digital</Option>
          </Select>
        </Form.Item>

        {/* Justification Field */}
        <Form.Item
          label="Justification / Description"
          name="justification"
          rules={[{ required: true, message: 'Please provide a justification for your submission.' }]}
        >
          <TextArea
            rows={5}
            placeholder="Explain why your project is showcase-worthy and provide context for our curators."
          />
        </Form.Item>

        {/* Submit Button */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Submit Nomination
          </Button>
        </Form.Item>
      </Form>

      {/* Confirmation Modal */}
      <Modal
        title="Submission Received"
        visible={modalVisible}
        onOk={handleModalOk}
        onCancel={() => setModalVisible(false)}
        okText="Ok"
        cancelButtonProps={{ style: { display: 'none' } }}
      >
        <p>Your project has been submitted for review. Moderators will evaluate your submission shortly.</p>
      </Modal>
    </PageContainer>
  );
};

SubmitToShowcase.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default SubmitToShowcase;

===== END kreative\community-showcases\submit-to-showcase\page.tsx =====


===== BEGIN kreative\community-showcases\top-creators\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\community-showcases\top-creators\components\CommonWidget\page.tsx =====


===== BEGIN kreative\community-showcases\top-creators\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\community-showcases\top-creators\index.test\page.tsx =====


===== BEGIN kreative\community-showcases\top-creators\page.tsx =====
'use client'

// File: /pages/kreative/community-showcases/top-creators.tsx
import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import { Table, Avatar, Select, Typography, Space, Button } from 'antd';
import { TrophyOutlined } from '@ant-design/icons';
import Router from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';


const { Title, Text } = Typography;
const { Option } = Select;

// Define the interface for a creator.
interface Creator {
  id: string;
  name: string;
  avatar: string;
  contributions: number;
  specialty: string;
  // Optionally, include a field to determine ranking within a time frame if needed.
  // For our dummy data, we will assume this value is already computed.
}

// Dummy data for creators.
const dummyCreators: Creator[] = [
  {
    id: '1',
    name: 'Alice Johnson',
    avatar: 'https://via.placeholder.com/80.png?text=A',
    contributions: 125,
    specialty: 'Digital Art',
  },
  {
    id: '2',
    name: 'Bob Smith',
    avatar: 'https://via.placeholder.com/80.png?text=B',
    contributions: 110,
    specialty: 'Photography',
  },
  {
    id: '3',
    name: 'Carol Lee',
    avatar: 'https://via.placeholder.com/80.png?text=C',
    contributions: 105,
    specialty: 'Mixed Media',
  },
  {
    id: '4',
    name: 'David Kim',
    avatar: 'https://via.placeholder.com/80.png?text=D',
    contributions: 95,
    specialty: 'Painting',
  },
  {
    id: '5',
    name: 'Eva Martinez',
    avatar: 'https://via.placeholder.com/80.png?text=E',
    contributions: 88,
    specialty: 'Illustration',
  },
  // Add additional dummy entries as needed.
];

const TopCreators: NextPage = () => {
  // State for filtering by time frame.
  const [timeFrame, setTimeFrame] = useState<'all-time' | 'this-month'>('all-time');

  // For demonstration, we'll assume that "this-month" filtering returns a subset.
  // In production, this logic would use real data.
  const filteredCreators = useMemo(() => {
    if (timeFrame === 'this-month') {
      // Return a subset of creators (for demo, we'll take the first three)
      return dummyCreators.slice(0, 3);
    }
    return dummyCreators;
  }, [timeFrame]);

  // Define table columns.
  const columns = [
    {
      title: 'Rank',
      key: 'rank',
      render: (_: any, _record: Creator, index: number) => {
        // For top 3, display a trophy icon; otherwise, show the numeric rank.
        if (index < 3) {
          return <TrophyOutlined style={{ fontSize: 20, color: '#faad14' }} />;
        }
        return <Text>{index + 1}</Text>;
      },
      width: 80,
    },
    {
      title: 'Creator',
      key: 'creator',
      render: (text: any, record: Creator) => (
        <Space>
          <Avatar src={record.avatar} />
          <Button type="link" onClick={() => Router.push(`/kreative/profile/${record.id}`)}>
            {record.name}
          </Button>
        </Space>
      ),
      width: 250,
    },
    {
      title: 'Contributions',
      dataIndex: 'contributions',
      key: 'contributions',
      render: (value: number) => <Text>{value}</Text>,
      width: 150,
    },
    {
      title: 'Specialty',
      dataIndex: 'specialty',
      key: 'specialty',
    },
  ];

  return (
    <PageContainer title="Top Creators">
      <Space direction="vertical" style={{ width: '100%', marginBottom: 24 }}>
        <Title level={4}>Leaderboard</Title>
        <Space size="middle">
          <Text strong>Filter by Time Frame:</Text>
          <Select
            value={timeFrame}
            onChange={(value: 'all-time' | 'this-month') => setTimeFrame(value)}
            style={{ width: 180 }}
          >
            <Option value="all-time">All Time</Option>
            <Option value="this-month">This Month</Option>
          </Select>
        </Space>
      </Space>
      <Table
        columns={columns}
        dataSource={filteredCreators}
        rowKey="id"
        pagination={{ pageSize: 5 }}
      />
    </PageContainer>
  );
};

TopCreators.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default TopCreators;

===== END kreative\community-showcases\top-creators\page.tsx =====


===== BEGIN kreative\creative-hub\explore-ideas\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\creative-hub\explore-ideas\components\CommonWidget\page.tsx =====


===== BEGIN kreative\creative-hub\explore-ideas\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\creative-hub\explore-ideas\index.test\page.tsx =====


===== BEGIN kreative\creative-hub\explore-ideas\page.tsx =====
'use client'

// File: /pages/kreative/creative-hub/explore-ideas.tsx
import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import { Row, Col, Card, Input, Select, Typography, Space, Pagination } from 'antd';
import { SearchOutlined } from '@ant-design/icons';
import Router from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Option } = Select;

interface CreativeIdea {
  id: string;
  title: string;
  excerpt: string;
  author: string;
  domain: string;       // e.g., 'Art', 'Music', 'Writing'
  thumbnail: string;    // URL for a thumbnail image
  date: string;         // ISO date string for "newest" sort
  popularity: number;   // e.g., number of likes/views for "most popular" sort
}

const creativeIdeasData: CreativeIdea[] = [
  {
    id: '1',
    title: 'The Beauty of Minimalism',
    excerpt: 'Exploring the art of less is more in design and creative expression...',
    author: 'Alice Martin',
    domain: 'Art',
    thumbnail: 'https://via.placeholder.com/300x200.png?text=Minimalism',
    date: '2025-11-20T10:00:00Z',
    popularity: 87,
  },
  {
    id: '2',
    title: 'Rhythms of the Night',
    excerpt: 'A journey into experimental music and ambient soundscapes that evoke emotion...',
    author: 'Brian Lee',
    domain: 'Music',
    thumbnail: 'https://via.placeholder.com/300x200.png?text=Rhythms+of+the+Night',
    date: '2025-11-22T12:00:00Z',
    popularity: 120,
  },
  {
    id: '3',
    title: 'The Art of Storytelling',
    excerpt: 'Discover how narrative techniques can transform creative writing into immersive experiences.',
    author: 'Carla Gomez',
    domain: 'Writing',
    thumbnail: 'https://via.placeholder.com/300x200.png?text=Storytelling',
    date: '2025-11-18T09:30:00Z',
    popularity: 95,
  },
  {
    id: '4',
    title: 'Colorful Expressions',
    excerpt: 'An exploration of abstract art that celebrates vibrant colors and bold compositions.',
    author: 'Derek Fox',
    domain: 'Art',
    thumbnail: 'https://via.placeholder.com/300x200.png?text=Colorful+Expressions',
    date: '2025-11-25T08:45:00Z',
    popularity: 110,
  },
  // Add more items as needed...
];

const ExploreIdeasPage: NextPage = () => {
  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [sortOption, setSortOption] = useState<'newest' | 'popular'>('newest');
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 6;

  // Filter and sort the creative ideas.
  const filteredIdeas = useMemo(() => {
    // Clone the data to avoid mutating the original array.
    let ideas = [...creativeIdeasData];

    if (selectedCategory !== 'All') {
      ideas = ideas.filter((idea) => idea.domain === selectedCategory);
    }
    if (searchQuery.trim() !== '') {
      ideas = ideas.filter(
        (idea) =>
          idea.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
          idea.excerpt.toLowerCase().includes(searchQuery.toLowerCase())
      );
    }
    if (sortOption === 'newest') {
      ideas = ideas.sort(
        (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()
      );
    } else if (sortOption === 'popular') {
      ideas = ideas.sort((a, b) => b.popularity - a.popularity);
    }
    return ideas;
  }, [searchQuery, selectedCategory, sortOption]);

  // Apply pagination to the filtered ideas.
  const paginatedIdeas = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize;
    return filteredIdeas.slice(startIndex, startIndex + pageSize);
  }, [filteredIdeas, currentPage]);

  // Navigate to the idea detail page when a card is clicked.
  const handleCardClick = (idea: CreativeIdea) => {
    Router.push(`/kreative/creative-hub/idea/${idea.id}`);
  };

  return (
    <PageContainer title="Explore Ideas">
      <Space direction="vertical" size="middle" style={{ width: '100%' }}>
        <Space wrap>
          <Input
            placeholder="Search ideas..."
            prefix={<SearchOutlined />}
            value={searchQuery}
            onChange={(e) => {
              setSearchQuery(e.target.value);
              setCurrentPage(1);
            }}
            style={{ width: 300 }}
          />
          <Select
            value={selectedCategory}
            onChange={(value) => {
              setSelectedCategory(value);
              setCurrentPage(1);
            }}
            style={{ width: 180 }}
          >
            <Option value="All">All Domains</Option>
            <Option value="Art">Art</Option>
            <Option value="Music">Music</Option>
            <Option value="Writing">Writing</Option>
          </Select>
          <Select
            value={sortOption}
            onChange={(value) => {
              setSortOption(value);
              setCurrentPage(1);
            }}
            style={{ width: 180 }}
          >
            <Option value="newest">Newest</Option>
            <Option value="popular">Most Popular</Option>
          </Select>
        </Space>
        <Row gutter={[24, 24]}>
          {paginatedIdeas.map((idea) => (
            <Col key={idea.id} xs={24} sm={12} md={8}>
              <Card
                hoverable
                cover={
                  <img
                    alt={idea.title}
                    src={idea.thumbnail}
                    style={{ height: 160, objectFit: 'cover' }}
                  />
                }
                onClick={() => handleCardClick(idea)}
              >
                <Title level={4} ellipsis={{ rows: 1 }}>
                  {idea.title}
                </Title>
                <Text type="secondary" ellipsis={{ rows: 2 }}>
                  {idea.excerpt}
                </Text>
                <br />
                <Text strong>By:</Text> {idea.author}
              </Card>
            </Col>
          ))}
        </Row>
        <div style={{ textAlign: 'center', marginTop: 24 }}>
          <Pagination
            current={currentPage}
            pageSize={pageSize}
            total={filteredIdeas.length}
            onChange={(page) => setCurrentPage(page)}
          />
        </div>
      </Space>
    </PageContainer>
  );
};

ExploreIdeasPage.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default ExploreIdeasPage;

===== END kreative\creative-hub\explore-ideas\page.tsx =====


===== BEGIN kreative\creative-hub\inspiration-gallery\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\creative-hub\inspiration-gallery\components\CommonWidget\page.tsx =====


===== BEGIN kreative\creative-hub\inspiration-gallery\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\creative-hub\inspiration-gallery\index.test\page.tsx =====


===== BEGIN kreative\creative-hub\inspiration-gallery\page.tsx =====
'use client'

// File: /pages/kreative/creative-hub/inspiration-gallery.tsx
import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import {
  Row,
  Col,
  Card,
  Modal,
  Pagination,
  Tabs,
  Button,
  Typography,
  Space,
} from 'antd';
import { HeartOutlined, HeartFilled } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { TabPane } = Tabs;

interface CreativeWork {
  id: string;
  title: string;
  description: string;
  creator: string;
  category: 'Photography' | 'Painting' | 'Digital Art';
  imageUrl: string;
  likes: number;
  liked?: boolean;
}

// Dummy data for the gallery
const dummyWorks: CreativeWork[] = [
  {
    id: '1',
    title: 'Sunset Overdrive',
    description: 'A breathtaking view of the sunset captured in high resolution.',
    creator: 'Alice Johnson',
    category: 'Photography',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=Sunset',
    likes: 34,
    liked: false,
  },
  {
    id: '2',
    title: 'Abstract Colors',
    description: 'A vibrant abstract painting exploring the interplay of color.',
    creator: 'Bob Smith',
    category: 'Painting',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=Abstract+Painting',
    likes: 58,
    liked: false,
  },
  {
    id: '3',
    title: 'Digital Dreams',
    description: 'A surreal piece of digital art mixing technology and imagination.',
    creator: 'Carla Gomez',
    category: 'Digital Art',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=Digital+Art',
    likes: 72,
    liked: false,
  },
  {
    id: '4',
    title: 'City Reflections',
    description: 'A dramatic urban photograph showcasing reflections on wet streets.',
    creator: 'David Lee',
    category: 'Photography',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=City+Reflections',
    likes: 43,
    liked: false,
  },
  {
    id: '5',
    title: 'Impressionist Waves',
    description: 'An impressionist painting capturing the movement of ocean waves.',
    creator: 'Eva Martinez',
    category: 'Painting',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=Impressionist+Waves',
    likes: 66,
    liked: false,
  },
  {
    id: '6',
    title: 'Virtual Reality',
    description: 'An innovative digital artwork blending real and virtual elements.',
    creator: 'Frank Wilson',
    category: 'Digital Art',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=Virtual+Reality',
    likes: 89,
    liked: false,
  },
  // Add more dummy items as needed...
];

const InspirationGallery: NextPage = () => {
  // State for category filtering, pagination, Modal, and works.
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 6;
  const [modalVisible, setModalVisible] = useState<boolean>(false);
  const [selectedWork, setSelectedWork] = useState<CreativeWork | null>(null);
  const [works, setWorks] = useState<CreativeWork[]>(dummyWorks);

  // Filter works based on selected category.
  const filteredWorks = useMemo(() => {
    if (selectedCategory === 'All') {
      return works;
    }
    return works.filter((work) => work.category === selectedCategory);
  }, [selectedCategory, works]);

  // Paginate the filtered works.
  const paginatedWorks = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize;
    return filteredWorks.slice(startIndex, startIndex + pageSize);
  }, [filteredWorks, currentPage, pageSize]);

  // Handle like toggle.
  const toggleLike = (id: string) => {
    setWorks((prevWorks) =>
      prevWorks.map((work) =>
        work.id === id
          ? {
              ...work,
              liked: !work.liked,
              likes: work.liked ? work.likes - 1 : work.likes + 1,
            }
          : work
      )
    );
  };

  // Open Modal for work details.
  const openWorkModal = (work: CreativeWork) => {
    setSelectedWork(work);
    setModalVisible(true);
  };

  // Close the details Modal.
  const closeModal = () => {
    setModalVisible(false);
    setSelectedWork(null);
  };

  return (
    <PageContainer title="Inspiration Gallery">
      {/* Category Filter implemented as Tabs */}
      <Tabs
        activeKey={selectedCategory}
        onChange={(key) => {
          setSelectedCategory(key);
          setCurrentPage(1);
        }}
        type="card"
        style={{ marginBottom: 24 }}
      >
        <TabPane tab="All" key="All" />
        <TabPane tab="Photography" key="Photography" />
        <TabPane tab="Painting" key="Painting" />
        <TabPane tab="Digital Art" key="Digital Art" />
      </Tabs>

      {/* Gallery Grid */}
      <Row gutter={[16, 16]}>
        {paginatedWorks.map((work) => (
          <Col key={work.id} xs={24} sm={12} md={8}>
            <Card
              hoverable
              cover={
                <img
                  alt={work.title}
                  src={work.imageUrl}
                  style={{ height: 200, objectFit: 'cover' }}
                />
              }
              actions={[
                <Button
                  type="text"
                  onClick={(e) => {
                    e.stopPropagation();
                    toggleLike(work.id);
                  }}
                >
                  {work.liked ? (
                    <HeartFilled style={{ color: 'red', fontSize: 18 }} />
                  ) : (
                    <HeartOutlined style={{ fontSize: 18 }} />
                  )}
                  <Text style={{ marginLeft: 4 }}>{work.likes}</Text>
                </Button>,
              ]}
              onClick={() => openWorkModal(work)}
            >
              <Card.Meta
                title={work.title}
                description={
                  <>
                    <Text>{work.creator}</Text>
                    <br />
                    <Text type="secondary" ellipsis={{ rows: 2 }}>
                      {work.description}
                    </Text>
                  </>
                }
              />
            </Card>
          </Col>
        ))}
      </Row>

      {/* Pagination */}
      <div style={{ textAlign: 'center', marginTop: 24 }}>
        <Pagination
          current={currentPage}
          pageSize={pageSize}
          total={filteredWorks.length}
          onChange={(page) => setCurrentPage(page)}
        />
      </div>

      {/* Modal for work details */}
      <Modal
        visible={modalVisible}
        footer={null}
        onCancel={closeModal}
        width={800}
      >
        {selectedWork && (
          <>
            <img
              alt={selectedWork.title}
              src={selectedWork.imageUrl}
              style={{ width: '100%', maxHeight: 400, objectFit: 'contain' }}
            />
            <div style={{ marginTop: 16 }}>
              <Title level={3}>{selectedWork.title}</Title>
              <Text strong>By: </Text>
              <Text>{selectedWork.creator}</Text>
              <p style={{ marginTop: 12 }}>{selectedWork.description}</p>
              <Space>
                <Button type="text" onClick={() => toggleLike(selectedWork.id)}>
                  {selectedWork.liked ? (
                    <HeartFilled style={{ color: 'red', fontSize: 20 }} />
                  ) : (
                    <HeartOutlined style={{ fontSize: 20 }} />
                  )}
                  <Text style={{ marginLeft: 4 }}>
                    {selectedWork.likes} Likes
                  </Text>
                </Button>
              </Space>
            </div>
          </>
        )}
      </Modal>
    </PageContainer>
  );
};

InspirationGallery.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default InspirationGallery;

===== END kreative\creative-hub\inspiration-gallery\page.tsx =====


===== BEGIN kreative\creative-hub\submit-creative-work\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\creative-hub\submit-creative-work\components\CommonWidget\page.tsx =====


===== BEGIN kreative\creative-hub\submit-creative-work\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\creative-hub\submit-creative-work\index.test\page.tsx =====


===== BEGIN kreative\creative-hub\submit-creative-work\page.tsx =====
'use client'

// File: /pages/kreative/creative-hub/submit-creative-work.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Form,
  Input,
  Select,
  Upload,
  Button,
  Alert,
  message,
} from 'antd';
import { UploadOutlined } from '@ant-design/icons';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { TextArea } = Input;
const { Option } = Select;

const SubmitCreativeWork: NextPage = () => {
  const [form] = Form.useForm();
  const router = useRouter();
  // Local state to manage file uploads if needed.
  const [fileList, setFileList] = useState<any[]>([]);

  // Handler for file changes in the Upload component.
  const handleUploadChange = (info: any) => {
    // Optionally, manage file upload status and fileList locally.
    let newFileList = [...info.fileList];
    // You might add further validations on file type/size here.
    setFileList(newFileList);
  };

  const onFinish = (values: any) => {
    // Combine form values with file upload information.
    const creativeWorkData = {
      ...values,
      // Here we simply include file info; in practice, the file(s) might need uploading to a server.
      file: fileList,
    };
    console.log('Submitted Creative Work:', creativeWorkData);
    message.success('Votre œuvre créative a été soumise avec succès et est en attente d\'approbation!');
    // After submission, optionally redirect to the newly created work’s detail page or the gallery.
    router.push('/kreative/creative-hub/inspiration-gallery');
  };

  return (
    <PageContainer title="Submit Creative Work">
      {/* Guidelines Alert */}
      <Alert
        message="Please Note"
        description="File size limit is 5MB. Accepted formats are JPG, PNG for images, MP4 for videos, and MP3 for audio."
        type="info"
        showIcon
        style={{ marginBottom: 24 }}
      />

      <Form
        form={form}
        layout="vertical"
        onFinish={onFinish}
        initialValues={{
          category: 'Illustration',
        }}
      >
        {/* Title Field */}
        <Form.Item
          label="Title of the Work"
          name="title"
          rules={[{ required: true, message: 'Veuillez saisir le titre de votre œuvre.' }]}
        >
          <Input placeholder="Entrez le titre de votre œuvre créative" />
        </Form.Item>

        {/* Description Field */}
        <Form.Item
          label="Description or Story Behind the Work"
          name="description"
          rules={[{ required: true, message: 'Veuillez fournir une description ou une histoire.' }]}
        >
          <TextArea rows={5} placeholder="Décrivez votre œuvre et partagez son histoire..." />
        </Form.Item>

        {/* Category / Medium Field */}
        <Form.Item
          label="Category / Medium"
          name="category"
          rules={[{ required: true, message: 'Veuillez sélectionner une catégorie.' }]}
        >
          <Select placeholder="Sélectionnez le type de contenu">
            <Option value="Illustration">Illustration</Option>
            <Option value="Photography">Photography</Option>
            <Option value="Music">Music</Option>
            <Option value="Video">Video</Option>
            <Option value="Digital Art">Digital Art</Option>
            {/* Add more options as needed */}
          </Select>
        </Form.Item>

        {/* File Upload Field */}
        <Form.Item
          label="Upload Creative File"
          name="creativeFile"
          rules={[
            {
              required: true,
              message: 'Veuillez télécharger un fichier pour votre œuvre.',
            },
          ]}
        >
          <Upload
            beforeUpload={() => false} // Prevent automatic upload so that the file is handled on form submission.
            fileList={fileList}
            onChange={handleUploadChange}
            accept="image/*,video/*,audio/*"
          >
            <Button icon={<UploadOutlined />}>Click to Upload</Button>
          </Upload>
        </Form.Item>

        {/* Optional Credits/Tools Used Field */}
        <Form.Item label="Credits / Tools Used (Optional)" name="credits">
          <Input placeholder="Exemple: Adobe Photoshop, Procreate, etc." />
        </Form.Item>

        {/* Submit Button */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Submit Work
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

SubmitCreativeWork.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default SubmitCreativeWork;

===== END kreative\creative-hub\submit-creative-work\page.tsx =====


===== BEGIN kreative\dashboard\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\dashboard\components\CommonWidget\page.tsx =====


===== BEGIN kreative\dashboard\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\dashboard\index.test\page.tsx =====


===== BEGIN kreative\dashboard\page.tsx =====
// File: /pages/kreative/dashboard.tsx
import React from 'react';
import { NextPage } from 'next';
import { Card, Avatar, Button, Carousel, List, Row, Col, Typography, Space } from 'antd';
import { PictureOutlined, BulbOutlined, UploadOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;

// Dummy data for Featured Project
const featuredProject = {
  title: 'Dreamscape: A Visual Journey',
  imageUrl: 'https://via.placeholder.com/600x300.png?text=Featured+Project',
};

// Dummy data for Inspiration Gallery Preview (carousel items)
const inspirationGallery = [
  { id: '1', imageUrl: 'https://via.placeholder.com/600x300.png?text=Art+1' },
  { id: '2', imageUrl: 'https://via.placeholder.com/600x300.png?text=Art+2' },
  { id: '3', imageUrl: 'https://via.placeholder.com/600x300.png?text=Art+3' },
  { id: '4', imageUrl: 'https://via.placeholder.com/600x300.png?text=Art+4' },
];

// Dummy data for Top Creator Spotlight
const topCreator = {
  name: 'Sophia Rivera',
  avatar: 'https://via.placeholder.com/80.png?text=S',
  stats: '48 Projects · 1200 Likes',
};

// Dummy data for Quick Links
const quickLinks = [
  { title: 'Explore Ideas', icon: <BulbOutlined style={{ fontSize: 24 }} />, link: '/kreative/explore' },
  { title: 'Submit Work', icon: <UploadOutlined style={{ fontSize: 24 }} />, link: '/kreative/submit' },
  { title: 'View Gallery', icon: <PictureOutlined style={{ fontSize: 24 }} />, link: '/kreative/gallery' },
];

// Dummy data for Recent Activity Feed
const recentActivities = [
  { id: 'a1', text: 'User John submitted a new Art piece in Photography', time: '2 hours ago' },
  { id: 'a2', text: 'User Emma started a new idea: “Urban Sketching”', time: '5 hours ago' },
  { id: 'a3', text: 'User Liam commented on “Dreamscape: A Visual Journey”', time: '1 day ago' },
  { id: 'a4', text: 'User Olivia liked a work in Digital Art', time: '2 days ago' },
];

const KreativeDashboard: NextPage = () => {
  return (
    <PageContainer title="Kreative Dashboard">
      <Row gutter={[24, 24]}>
        {/* Featured Project Highlight */}
        <Col xs={24} md={16}>
          <Card hoverable cover={<img alt="Featured Project" src={featuredProject.imageUrl} />}>
            <Title level={3}>{featuredProject.title}</Title>
          </Card>
        </Col>
        {/* Top Creator Spotlight */}
        <Col xs={24} md={8}>
          <Card>
            <Space direction="vertical" align="center" style={{ width: '100%' }}>
              <Avatar size={80} src={topCreator.avatar} />
              <Title level={4} style={{ margin: 0 }}>{topCreator.name}</Title>
              <Text type="secondary">{topCreator.stats}</Text>
            </Space>
          </Card>
        </Col>
      </Row>

      <Row gutter={[24, 24]} style={{ marginTop: 24 }}>
        {/* Inspiration Gallery Preview */}
        <Col xs={24} md={16}>
          <Card title="Inspiration Gallery Preview">
            <Carousel autoplay dotPosition="bottom">
              {inspirationGallery.map((item) => (
                <div key={item.id}>
                  <img
                    alt={`Art ${item.id}`}
                    src={item.imageUrl}
                    style={{ width: '100%', height: '300px', objectFit: 'cover' }}
                  />
                </div>
              ))}
            </Carousel>
          </Card>
        </Col>
        {/* Quick Links */}
        <Col xs={24} md={8}>
          <Card title="Quick Links">
            <Space direction="vertical" size="middle" style={{ width: '100%' }}>
              {quickLinks.map((link, index) => (
                <Button
                  key={index}
                  type="primary"
                  block
                  icon={link.icon}
                  onClick={() => { window.location.href = link.link; }}
                >
                  {link.title}
                </Button>
              ))}
            </Space>
          </Card>
        </Col>
      </Row>

      {/* Recent Activity Feed */}
      <Row gutter={[24, 24]} style={{ marginTop: 24 }}>
        <Col xs={24}>
          <Card title="Recent Activity">
            <List
              itemLayout="horizontal"
              dataSource={recentActivities}
              renderItem={(item) => (
                <List.Item>
                  <List.Item.Meta
                    title={item.text}
                    description={item.time}
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>
      </Row>
    </PageContainer>
  );
};

KreativeDashboard.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default KreativeDashboard;

===== END kreative\dashboard\page.tsx =====


===== BEGIN kreative\idea-incubator\collaborate-on-ideas\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\idea-incubator\collaborate-on-ideas\components\CommonWidget\page.tsx =====


===== BEGIN kreative\idea-incubator\collaborate-on-ideas\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\idea-incubator\collaborate-on-ideas\index.test\page.tsx =====


===== BEGIN kreative\idea-incubator\collaborate-on-ideas\page.tsx =====
'use client'

// File: /pages/kreative/idea-incubator/my-ideas.tsx
import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import { List, Button, Badge, Input, Select, Space, Typography } from 'antd';
import Router from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Option } = Select;

interface Idea {
  id: string;
  title: string;
  status: 'Seeking Collaboration' | 'In Progress';
  dateCreated: string; // e.g., YYYY-MM-DD
  newActivity: boolean;
}

const dummyIdeas: Idea[] = [
  {
    id: '1',
    title: 'Revolutionary App Concept',
    status: 'Seeking Collaboration',
    dateCreated: '2025-11-20',
    newActivity: true,
  },
  {
    id: '2',
    title: 'Sustainable Energy Initiative',
    status: 'In Progress',
    dateCreated: '2025-10-15',
    newActivity: false,
  },
  {
    id: '3',
    title: 'Urban Gardening Project',
    status: 'Seeking Collaboration',
    dateCreated: '2025-11-01',
    newActivity: true,
  },
  // Add more idea objects as needed...
];

const MyIdeasPage: NextPage = () => {
  // State for search query and status filter.
  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedStatus, setSelectedStatus] = useState<string>('All');

  // Filter ideas based on search text and selected status.
  const filteredIdeas = useMemo(() => {
    let ideas = dummyIdeas;
    if (selectedStatus !== 'All') {
      ideas = ideas.filter((idea) => idea.status === selectedStatus);
    }
    if (searchQuery.trim() !== '') {
      ideas = ideas.filter((idea) =>
        idea.title.toLowerCase().includes(searchQuery.toLowerCase())
      );
    }
    return ideas;
  }, [searchQuery, selectedStatus]);

  return (
    <PageContainer title="My Ideas">
      {/* Filter Section */}
      <Space direction="vertical" size="middle" style={{ width: '100%', marginBottom: 24 }}>
        <Space>
          <Input
            placeholder="Search by title..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            style={{ width: 300 }}
          />
          <Select
            value={selectedStatus}
            onChange={(value) => setSelectedStatus(value)}
            style={{ width: 200 }}
          >
            <Option value="All">All Status</Option>
            <Option value="Seeking Collaboration">Seeking Collaboration</Option>
            <Option value="In Progress">In Progress</Option>
          </Select>
        </Space>
      </Space>

      {/* Ideas List */}
      <List
        itemLayout="vertical"
        dataSource={filteredIdeas}
        renderItem={(idea) => (
          <List.Item
            key={idea.id}
            actions={[
              <Button
                type="primary"
                onClick={() => Router.push(`/kreative/idea-incubator/edit/${idea.id}`)}
              >
                Edit
              </Button>,
              <Button onClick={() => Router.push(`/kreative/idea-incubator/view/${idea.id}`)}>
                View
              </Button>,
            ]}
          >
            <List.Item.Meta
              title={
                <Space>
                  {idea.newActivity && <Badge count="New" style={{ backgroundColor: '#52c41a' }} />}
                  <Title level={4} style={{ margin: 0 }}>
                    {idea.title}
                  </Title>
                </Space>
              }
              description={
                <>
                  <Text type="secondary">Status: {idea.status}</Text>
                  <br />
                  <Text type="secondary">Created on: {idea.dateCreated}</Text>
                </>
              }
            />
          </List.Item>
        )}
      />
    </PageContainer>
  );
};

MyIdeasPage.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default MyIdeasPage;

===== END kreative\idea-incubator\collaborate-on-ideas\page.tsx =====


===== BEGIN kreative\idea-incubator\create-new-idea\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\idea-incubator\create-new-idea\components\CommonWidget\page.tsx =====


===== BEGIN kreative\idea-incubator\create-new-idea\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\idea-incubator\create-new-idea\index.test\page.tsx =====


===== BEGIN kreative\idea-incubator\create-new-idea\page.tsx =====
'use client'

// File: /pages/kreative/idea-incubator/create-new-idea.tsx
import React from 'react';
import { NextPage } from 'next';
import { Form, Input, Select, Button, message } from 'antd';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { TextArea } = Input;
const { Option } = Select;

const CreateNewIdea: NextPage = () => {
  const [form] = Form.useForm();
  const router = useRouter();

  // Handler for form submission.
  const onFinish = (values: any) => {
    // Log form values; in a real app, you would send this data via an API call.
    console.log('Submitted Idea:', values);
    message.success('Votre idée a été soumise avec succès !');
    // Redirect to the "My Ideas" page after submitting.
    router.push('/kreative/idea-incubator/my-ideas');
  };

  return (
    <PageContainer title="Create New Idea">
      <Form form={form} layout="vertical" onFinish={onFinish}>
        {/* Title Field */}
        <Form.Item
          label="Title of Idea"
          name="title"
          rules={[{ required: true, message: 'Veuillez saisir le titre de votre idée.' }]}
        >
          <Input placeholder="Enter title of your idea" />
        </Form.Item>

        {/* Detailed Description Field */}
        <Form.Item
          label="Detailed Description"
          name="description"
          rules={[{ required: true, message: 'Veuillez saisir une description détaillée de votre idée.' }]}
        >
          <TextArea
            rows={6}
            placeholder="Explain your idea, including the problem it solves or your vision"
          />
        </Form.Item>

        {/* Category / Field Selector */}
        <Form.Item
          label="Category / Field"
          name="category"
          rules={[{ required: true, message: 'Veuillez sélectionner une catégorie.' }]}
        >
          <Select placeholder="Select a category">
            <Option value="Technology">Technology</Option>
            <Option value="Art">Art</Option>
            <Option value="Education">Education</Option>
            <Option value="Health">Health</Option>
            <Option value="Environment">Environment</Option>
          </Select>
        </Form.Item>

        {/*
        // Optionally, add a multi-select for "Resources Needed" or "Skills Required" 
        <Form.Item label="Resources Needed / Skills Required" name="resources">
          <Select mode="multiple" placeholder="Select resources or skills">
            <Option value="Design">Design</Option>
            <Option value="Development">Development</Option>
            <Option value="Marketing">Marketing</Option>
            <Option value="Research">Research</Option>
          </Select>
        </Form.Item>
        */}

        {/* Submit Button */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Submit Idea
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

// Integrate with a global layout if required.
CreateNewIdea.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default CreateNewIdea;

===== END kreative\idea-incubator\create-new-idea\page.tsx =====


===== BEGIN kreative\idea-incubator\my-ideas\components\CommonWidget\page.tsx =====
// pages/pageTemplate/components/CommonWidget.tsx
import React from 'react';
import styles from './CommonWidget.module.css';

interface CommonWidgetProps {
  title: string;
  description: string;
}

const CommonWidget: React.FC<CommonWidgetProps> = ({ title, description }) => {
  return (
    <div className={styles.widget}>
      <h2 className={styles.widgetTitle}>{title}</h2>
      <p className={styles.widgetDescription}>{description}</p>
    </div>
  );
};

export default CommonWidget;

===== END kreative\idea-incubator\my-ideas\components\CommonWidget\page.tsx =====


===== BEGIN kreative\idea-incubator\my-ideas\index.test\page.tsx =====
// pages/pageTemplate/index.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import PageTemplate from './index';

describe('PageTemplate', () => {
  it('devrait afficher le titre générique', () => {
    render(<PageTemplate />);
    expect(screen.getByText('Titre de la Page Générique')).toBeInTheDocument();
  });
});

===== END kreative\idea-incubator\my-ideas\index.test\page.tsx =====


===== BEGIN kreative\idea-incubator\my-ideas\page.tsx =====
'use client'

// File: /pages/kreative/idea-incubator/my-ideas.tsx
import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import { List, Button, Badge, Input, Select, Space, Typography } from 'antd';
import Router from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Option } = Select;

// Define the interface for an idea.
interface Idea {
  id: string;
  title: string;
  status: 'Seeking Collaboration' | 'In Progress';
  dateCreated: string; // e.g., YYYY-MM-DD
  newActivity: boolean; // Flag for new activity on the idea.
}

// Dummy data for idea proposals.
const dummyIdeas: Idea[] = [
  {
    id: '1',
    title: 'Revolutionary App Concept',
    status: 'Seeking Collaboration',
    dateCreated: '2025-11-20',
    newActivity: true,
  },
  {
    id: '2',
    title: 'Sustainable Energy Initiative',
    status: 'In Progress',
    dateCreated: '2025-10-15',
    newActivity: false,
  },
  {
    id: '3',
    title: 'Urban Gardening Project',
    status: 'Seeking Collaboration',
    dateCreated: '2025-11-01',
    newActivity: true,
  },
  // Add more idea objects as needed...
];

const MyIdeasPage: NextPage = () => {
  // State for search query and status filter.
  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedStatus, setSelectedStatus] = useState<string>('All');

  // Filter ideas based on search text and selected status.
  const filteredIdeas = useMemo(() => {
    let ideas = dummyIdeas;
    if (selectedStatus !== 'All') {
      ideas = ideas.filter((idea) => idea.status === selectedStatus);
    }
    if (searchQuery.trim() !== '') {
      ideas = ideas.filter((idea) =>
        idea.title.toLowerCase().includes(searchQuery.toLowerCase())
      );
    }
    return ideas;
  }, [searchQuery, selectedStatus]);

  return (
    <PageContainer title="My Ideas">
      {/* Filter Section */}
      <Space direction="vertical" size="middle" style={{ width: '100%', marginBottom: 24 }}>
        <Space>
          <Input
            placeholder="Search by title..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            style={{ width: 300 }}
          />
          <Select
            value={selectedStatus}
            onChange={(value) => setSelectedStatus(value)}
            style={{ width: 200 }}
          >
            <Option value="All">All Status</Option>
            <Option value="Seeking Collaboration">Seeking Collaboration</Option>
            <Option value="In Progress">In Progress</Option>
          </Select>
        </Space>
      </Space>

      {/* Ideas List */}
      <List
        itemLayout="vertical"
        dataSource={filteredIdeas}
        renderItem={(idea) => (
          <List.Item
            key={idea.id}
            actions={[
              <Button
                type="primary"
                onClick={() => Router.push(`/kreative/idea-incubator/edit/${idea.id}`)}
              >
                Edit
              </Button>,
              <Button onClick={() => Router.push(`/kreative/idea-incubator/view/${idea.id}`)}>
                View
              </Button>,
            ]}
          >
            <List.Item.Meta
              title={
                <Space>
                  {idea.newActivity && (
                    <Badge count="New" style={{ backgroundColor: '#52c41a' }} />
                  )}
                  <Title level={4} style={{ margin: 0 }}>
                    {idea.title}
                  </Title>
                </Space>
              }
              description={
                <>
                  <Text type="secondary">Status: {idea.status}</Text>
                  <br />
                  <Text type="secondary">Created on: {idea.dateCreated}</Text>
                </>
              }
            />
          </List.Item>
        )}
      />
    </PageContainer>
  );
};

MyIdeasPage.getLayout = function getLayout(page: React.ReactElement) {
  return <MainLayout>{page}</MainLayout>;
};

export default MyIdeasPage;

===== END kreative\idea-incubator\my-ideas\page.tsx =====

