===== TOC (112 fichiers) =====
1. C:\MyCode\Konnaxionv14\frontend\app\_api\admin\moderation\route.ts
2. C:\MyCode\Konnaxionv14\frontend\app\_api\admin\stats\route.ts
3. C:\MyCode\Konnaxionv14\frontend\app\_api\health\route.ts
4. C:\MyCode\Konnaxionv14\frontend\app\_api\search\route.ts
5. C:\MyCode\Konnaxionv14\frontend\app\ekoh\achievements-badges\earned-badges-display\page.tsx
6. C:\MyCode\Konnaxionv14\frontend\app\ekoh\dashboard\page.tsx
7. C:\MyCode\Konnaxionv14\frontend\app\ekoh\expertise-areas\view-current-expertise\page.tsx
8. C:\MyCode\Konnaxionv14\frontend\app\ekoh\layout.tsx
9. C:\MyCode\Konnaxionv14\frontend\app\ekoh\overview-analytics\current-ekoh-score\page.tsx
10. C:\MyCode\Konnaxionv14\frontend\app\ekoh\voting-influence\current-voting-weight\page.tsx
11. C:\MyCode\Konnaxionv14\frontend\app\ethikos\admin\audit\page.tsx
12. C:\MyCode\Konnaxionv14\frontend\app\ethikos\admin\moderation\page.tsx
13. C:\MyCode\Konnaxionv14\frontend\app\ethikos\admin\roles\page.tsx
14. C:\MyCode\Konnaxionv14\frontend\app\ethikos\decide\elite\page.tsx
15. C:\MyCode\Konnaxionv14\frontend\app\ethikos\decide\methodology\page.tsx
16. C:\MyCode\Konnaxionv14\frontend\app\ethikos\decide\public\page.tsx
17. C:\MyCode\Konnaxionv14\frontend\app\ethikos\decide\results\page.tsx
18. C:\MyCode\Konnaxionv14\frontend\app\ethikos\deliberate\[topic]\page.tsx
19. C:\MyCode\Konnaxionv14\frontend\app\ethikos\deliberate\elite\page.tsx
20. C:\MyCode\Konnaxionv14\frontend\app\ethikos\deliberate\guidelines\page.tsx
21. C:\MyCode\Konnaxionv14\frontend\app\ethikos\impact\feedback\page.tsx
22. C:\MyCode\Konnaxionv14\frontend\app\ethikos\impact\outcomes\page.tsx
23. C:\MyCode\Konnaxionv14\frontend\app\ethikos\impact\tracker\page.tsx
24. C:\MyCode\Konnaxionv14\frontend\app\ethikos\layout.tsx
25. C:\MyCode\Konnaxionv14\frontend\app\ethikos\learn\changelog\page.tsx
26. C:\MyCode\Konnaxionv14\frontend\app\ethikos\learn\glossary\page.tsx
27. C:\MyCode\Konnaxionv14\frontend\app\ethikos\learn\guides\page.tsx
28. C:\MyCode\Konnaxionv14\frontend\app\ethikos\pulse\health\page.tsx
29. C:\MyCode\Konnaxionv14\frontend\app\ethikos\pulse\live\page.tsx
30. C:\MyCode\Konnaxionv14\frontend\app\ethikos\pulse\overview\page.tsx
31. C:\MyCode\Konnaxionv14\frontend\app\ethikos\pulse\trends\page.tsx
32. C:\MyCode\Konnaxionv14\frontend\app\ethikos\trust\badges\page.tsx
33. C:\MyCode\Konnaxionv14\frontend\app\ethikos\trust\credentials\page.tsx
34. C:\MyCode\Konnaxionv14\frontend\app\ethikos\trust\profile\page.tsx
35. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\ai-team-matching\find-teams\page.tsx
36. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\ai-team-matching\match-preferences\page.tsx
37. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\ai-team-matching\my-matches\page.tsx
38. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\dashboard\page.tsx
39. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\knowledge\browse-repository\page.tsx
40. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\knowledge\document-management\page.tsx
41. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\knowledge\document-management\page.tsx.bak
42. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\knowledge\search-filter-documents\page.tsx
43. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\knowledge\upload-new-document\page.tsx
44. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\knowledge\upload-new-document\page.tsx.bak
45. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\layout.tsx
46. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\projects\browse-projects\page.tsx
47. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\projects\create-new-project\page.tsx
48. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\projects\create-new-project\page.tsx.bak
49. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\projects\my-projects\page.tsx
50. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\projects\project-workspace\page.tsx
51. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\projects\project-workspace\page.tsx.bak
52. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\sustainability-impact\submit-impact-reports\page.tsx
53. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\sustainability-impact\submit-impact-reports\page.tsx.bak
54. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\sustainability-impact\sustainability-dashboard\page.tsx
55. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\sustainability-impact\sustainability-dashboard\page.tsx.bak
56. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\sustainability-impact\track-project-impact\page.tsx
57. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\sustainability-impact\track-project-impact\page.tsx.bak
58. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\user-reputation\account-preferences\page.tsx
59. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\user-reputation\account-preferences\page.tsx.bak
60. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\user-reputation\manage-expertise-areas\page.tsx
61. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\user-reputation\view-reputation-ekoh\page.tsx
62. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\workspaces\browse-available-workspaces\page.tsx
63. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\workspaces\launch-new-workspace\page.tsx
64. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\workspaces\launch-new-workspace\page.tsx.bak
65. C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\workspaces\my-workspaces\page.tsx
66. C:\MyCode\Konnaxionv14\frontend\app\konnected\certifications\certification-programs\page.tsx
67. C:\MyCode\Konnaxionv14\frontend\app\konnected\certifications\certification-programs\page.tsx.bak
68. C:\MyCode\Konnaxionv14\frontend\app\konnected\certifications\exam-dashboard-results\page.tsx
69. C:\MyCode\Konnaxionv14\frontend\app\konnected\certifications\exam-preparation\page.tsx
70. C:\MyCode\Konnaxionv14\frontend\app\konnected\certifications\exam-preparation\page.tsx.bak
71. C:\MyCode\Konnaxionv14\frontend\app\konnected\certifications\exam-registration\page.tsx
72. C:\MyCode\Konnaxionv14\frontend\app\konnected\certifications\exam-registration\page.tsx.bak
73. C:\MyCode\Konnaxionv14\frontend\app\konnected\community-discussions\active-threads\page.tsx
74. C:\MyCode\Konnaxionv14\frontend\app\konnected\community-discussions\active-threads\page.tsx.bak
75. C:\MyCode\Konnaxionv14\frontend\app\konnected\community-discussions\moderation\page.tsx
76. C:\MyCode\Konnaxionv14\frontend\app\konnected\community-discussions\moderation\page.tsx.bak
77. C:\MyCode\Konnaxionv14\frontend\app\konnected\community-discussions\start-new-discussion\page.tsx
78. C:\MyCode\Konnaxionv14\frontend\app\konnected\dashboard\page.tsx
79. C:\MyCode\Konnaxionv14\frontend\app\konnected\dashboard\page.tsx.bak
80. C:\MyCode\Konnaxionv14\frontend\app\konnected\layout.tsx
81. C:\MyCode\Konnaxionv14\frontend\app\konnected\learning-library\browse-resources\page.tsx
82. C:\MyCode\Konnaxionv14\frontend\app\konnected\learning-library\offline-content\page.tsx
83. C:\MyCode\Konnaxionv14\frontend\app\konnected\learning-library\recommended-resources\page.tsx
84. C:\MyCode\Konnaxionv14\frontend\app\konnected\learning-library\search-filters\page.tsx
85. C:\MyCode\Konnaxionv14\frontend\app\konnected\learning-paths\create-learning-path\page.tsx
86. C:\MyCode\Konnaxionv14\frontend\app\konnected\learning-paths\manage-existing-paths\page.tsx
87. C:\MyCode\Konnaxionv14\frontend\app\konnected\learning-paths\manage-existing-paths\page.tsx.bak
88. C:\MyCode\Konnaxionv14\frontend\app\konnected\learning-paths\my-learning-path\page.tsx
89. C:\MyCode\Konnaxionv14\frontend\app\konnected\teams-collaboration\activity-planner\page.tsx
90. C:\MyCode\Konnaxionv14\frontend\app\konnected\teams-collaboration\my-teams\page.tsx
91. C:\MyCode\Konnaxionv14\frontend\app\konnected\teams-collaboration\my-teams\page.tsx.bak
92. C:\MyCode\Konnaxionv14\frontend\app\konnected\teams-collaboration\project-workspaces\page.tsx
93. C:\MyCode\Konnaxionv14\frontend\app\konnected\teams-collaboration\team-builder\page.tsx
94. C:\MyCode\Konnaxionv14\frontend\app\konsensus\page.tsx
95. C:\MyCode\Konnaxionv14\frontend\app\kreative\collaborative-spaces\find-spaces\page.tsx
96. C:\MyCode\Konnaxionv14\frontend\app\kreative\collaborative-spaces\my-spaces\page.tsx
97. C:\MyCode\Konnaxionv14\frontend\app\kreative\collaborative-spaces\start-new-space\page.tsx
98. C:\MyCode\Konnaxionv14\frontend\app\kreative\community-showcases\featured-projects\page.tsx
99. C:\MyCode\Konnaxionv14\frontend\app\kreative\community-showcases\submit-to-showcase\page.tsx
100. C:\MyCode\Konnaxionv14\frontend\app\kreative\community-showcases\top-creators\page.tsx
101. C:\MyCode\Konnaxionv14\frontend\app\kreative\creative-hub\explore-ideas\page.tsx
102. C:\MyCode\Konnaxionv14\frontend\app\kreative\creative-hub\inspiration-gallery\page.tsx
103. C:\MyCode\Konnaxionv14\frontend\app\kreative\creative-hub\submit-creative-work\page.tsx
104. C:\MyCode\Konnaxionv14\frontend\app\kreative\dashboard\page.tsx
105. C:\MyCode\Konnaxionv14\frontend\app\kreative\idea-incubator\collaborate-on-ideas\page.tsx
106. C:\MyCode\Konnaxionv14\frontend\app\kreative\idea-incubator\create-new-idea\page.tsx
107. C:\MyCode\Konnaxionv14\frontend\app\kreative\idea-incubator\my-ideas\page.tsx
108. C:\MyCode\Konnaxionv14\frontend\app\kreative\layout.tsx
109. C:\MyCode\Konnaxionv14\frontend\app\layout.tsx
110. C:\MyCode\Konnaxionv14\frontend\app\page.tsx
111. C:\MyCode\Konnaxionv14\frontend\app\problem_files_concat.txt
112. C:\MyCode\Konnaxionv14\frontend\app\providers\AuthProvider.tsx
===== END TOC =====


===== BEGIN app/_api/admin/moderation/route.ts =====
import { NextResponse } from 'next/server'

interface ModerationItem {
  id: string
  type: string
  content: string
  reason: string
  userId: string
  createdAt: string
}

export async function GET() {
  // TODO: fetch your real moderation queue here
  const queue: ModerationItem[] = [
    {
      id: '1',
      type: 'comment',
      content: 'Offensive comment text here',
      reason: 'profanity',
      userId: 'user_123',
      createdAt: new Date().toISOString(),
    },
  ]

  return NextResponse.json<ModerationItem[]>(queue, {
    status: 200,
    headers: { 'Cache-Control': 'no-store' },
  })
}

===== END app/_api/admin/moderation/route.ts =====


===== BEGIN app/_api/admin/stats/route.ts =====
import { NextResponse } from 'next/server'

interface AdminStats {
  totalUsers: number
  activeUsers: number
  newUsers: number
}

export async function GET() {
  // TODO: hook up your real DB call here
  const stats: AdminStats = {
    totalUsers: 1234,
    activeUsers: 567,
    newUsers: 89,
  }

  return NextResponse.json<AdminStats>(stats, {
    status: 200,
    headers: { 'Cache-Control': 'no-store' },
  })
}

===== END app/_api/admin/stats/route.ts =====


===== BEGIN app/_api/health/route.ts =====
import { NextResponse } from 'next/server'

export async function GET() {
  return NextResponse.json(
    { status: 'ok', timestamp: new Date().toISOString() },
    {
      status: 200,
      headers: { 'Cache-Control': 'no-store' },
    }
  )
}

===== END app/_api/health/route.ts =====


===== BEGIN app/_api/search/route.ts =====
import { NextRequest, NextResponse } from 'next/server'

interface SearchResult {
  id: string
  title: string
  snippet: string
  path: string
}

export async function GET(request: NextRequest) {
  const url = new URL(request.url)
  const q = url.searchParams.get('q')?.trim() || ''
  if (!q) {
    return NextResponse.json({ error: 'Missing query parameter `q`' }, { status: 400 })
  }

  // TODO: replace with real search logic
  const results: SearchResult[] = [
    {
      id: 'item-1',
      title: `Result for "${q}" #1`,
      snippet: 'A brief snippet of matching content…',
      path: `/some/path/1`,
    },
  ]

  return NextResponse.json<{ results: SearchResult[] }>({ results }, {
    status: 200,
    headers: { 'Cache-Control': 'no-store' },
  })
}

===== END app/_api/search/route.ts =====


===== BEGIN app/ekoh/achievements-badges/earned-badges-display/page.tsx =====
'use client';

import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import { Card, List, Modal, Select, Row, Col, Typography, Empty, Divider } from 'antd';

const { Title, Text } = Typography;
const { Option } = Select;

interface Badge {
  id: string;
  name: string;
  icon: string;
  category: string;
  dateEarned: string;
  description: string;
}

const sampleBadges: Badge[] = [
  { id: '1', name: 'Top Contributor', icon: '/badges/top-contributor.png', category: 'Expertise', dateEarned: '2023-08-20', description: 'Awarded for exceptional contributions in discussions.' },
  { id: '2', name: 'Community Champion', icon: '/badges/community-champion.png', category: 'Community', dateEarned: '2023-07-15', description: 'Recognizes outstanding community engagement and support.' },
  { id: '3', name: 'Innovator', icon: '/badges/innovator.png', category: 'Innovation', dateEarned: '2023-06-10', description: 'Awarded for innovative ideas and solutions.' },
  { id: '4', name: 'Expert Reviewer', icon: '/badges/expert-reviewer.png', category: 'Expertise', dateEarned: '2023-05-22', description: 'Given to users providing insightful reviews.' },
  { id: '5', name: 'Active Participant', icon: '/badges/active-participant.png', category: 'Community', dateEarned: '2023-09-01', description: 'Recognizes consistent participation over time.' },
];

export default function EarnedBadgesDisplay() {
  const [filterCategory, setFilterCategory] = useState<string>('All');
  const [sortOrder, setSortOrder] = useState<string>('Newest');
  const [selectedBadge, setSelectedBadge] = useState<Badge | null>(null);
  const [modalVisible, setModalVisible] = useState<boolean>(false);

  const totalBadges = sampleBadges.length;
  const userLevel = totalBadges >= 5 ? 'Gold' : totalBadges >= 3 ? 'Silver' : 'Bronze';

  const displayedBadges = useMemo(() => {
    let badges = [...sampleBadges];
    if (filterCategory !== 'All') {
      badges = badges.filter((badge) => badge.category === filterCategory);
    }
    badges.sort((a, b) => {
      const dateA = new Date(a.dateEarned).getTime();
      const dateB = new Date(b.dateEarned).getTime();
      return sortOrder === 'Newest' ? dateB - dateA : dateA - dateB;
    });
    return badges;
  }, [filterCategory, sortOrder]);

  const showBadgeDetails = (badge: Badge) => {
    setSelectedBadge(badge);
    setModalVisible(true);
  };

  return (
    <>
      <Head>
        <title>Achievements & Badges</title>
        <meta
          name="description"
          content="View all your earned badges and achievements with filtering and detailed views."
        />
      </Head>

      <div className="container mx-auto p-5">
        <Title level={2}>Achievements & Badges</Title>
        <Divider />

        <Row gutter={16} className="mb-6">
          <Col xs={24} sm={12}>
            <Text strong>Total Badges:</Text> <Text>{totalBadges}</Text>
          </Col>
          <Col xs={24} sm={12}>
            <Text strong>Level:</Text> <Text>{userLevel}</Text>
          </Col>
        </Row>

        <Row gutter={[16, 16]} className="mb-6">
          <Col xs={24} sm={12}>
            <Text>Filter by Category:</Text>
            <Select defaultValue="All" style={{ width: '100%' }} onChange={(v) => setFilterCategory(v)}>
              <Option value="All">All</Option>
              <Option value="Expertise">Expertise</Option>
              <Option value="Community">Community</Option>
              <Option value="Innovation">Innovation</Option>
            </Select>
          </Col>
          <Col xs={24} sm={12}>
            <Text>Sort by Date Earned:</Text>
            <Select defaultValue="Newest" style={{ width: '100%' }} onChange={(v) => setSortOrder(v)}>
              <Option value="Newest">Newest</Option>
              <Option value="Oldest">Oldest</Option>
            </Select>
          </Col>
        </Row>

        {displayedBadges.length > 0 ? (
          <List
            grid={{ gutter: 16, xs: 1, sm: 2, md: 3, lg: 4, xl: 4 }}
            dataSource={displayedBadges ?? []}
            renderItem={(badge: Badge) => (
              <List.Item>
                <Card
                  hoverable
                  onClick={() => showBadgeDetails(badge)}
                  cover={
                    <img
                      alt={badge.name}
                      src={badge.icon}
                      style={{ padding: '10px', objectFit: 'contain', height: 120 }}
                    />
                  }
                >
                  <Card.Meta title={badge.name} description={badge.category} />
                </Card>
              </List.Item>
            )}
          />
        ) : (
          <Empty description="No badges earned yet." />
        )}

        <Modal
          title={selectedBadge?.name}
          open={modalVisible}
          onOk={() => setModalVisible(false)}
          onCancel={() => setModalVisible(false)}
          footer={null}
        >
          {selectedBadge && (
            <div>
              <img
                alt={selectedBadge.name}
                src={selectedBadge.icon}
                style={{ width: '100%', maxHeight: 150, objectFit: 'contain', marginBottom: 16 }}
              />
              <p>
                <strong>Description:</strong> {selectedBadge.description}
              </p>
              <p>
                <strong>Date Earned:</strong> {selectedBadge.dateEarned}
              </p>
            </div>
          )}
        </Modal>
      </div>
    </>
  );
}

===== END app/ekoh/achievements-badges/earned-badges-display/page.tsx =====


===== BEGIN app/ekoh/dashboard/page.tsx =====
'use client'

// pages/ekoh/dashboard/index.tsx
import React, { useState, useEffect } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, Statistic, Row, Col, Tabs } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import LineChart from '@/components/dashboard-components/LineChart';

const { TabPane } = Tabs;

const EkohDashboard = () => {
  // États simulant des données utilisateur
  const [ekohScore, setEkohScore] = useState<number>(80);
  const [smartVoteWeight, setSmartVoteWeight] = useState<number>(70);
  const [badgesEarned, setBadgesEarned] = useState<number>(12);

  // Données pour le graphique de tendance (Ekoh score over time)
  const [trendData, setTrendData] = useState<Array<{ time: string; score: number }>>([
    { time: '08:00', score: 70 },
    { time: '10:00', score: 72 },
    { time: '12:00', score: 75 },
    { time: '14:00', score: 78 },
    { time: '16:00', score: 80 },
    { time: '18:00', score: 82 },
    { time: '20:00', score: 80 },
  ]);

  // Notable achievements et recent contributions (données simulées)
  const notableAchievements = [
    'Reached Expert Level 5',
    'Highest vote weight: 78%',
    'Awarded "Community Champion" badge',
  ];
  const recentContributions = [
    'Voted on Economic Reform Proposal',
    'Commented on Climate Policy Debate',
    'Shared article on Smart Voting Impact',
  ];

  // Simulation d'actualisation du graphique (optionnelle)
  useEffect(() => {
    const interval = setInterval(() => {
      // Simuler une mise à jour du score en ajoutant un nouveau point et en conservant les 7 derniers points
      const newTime = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
      const newScore = 70 + Math.floor(Math.random() * 20);
      setTrendData(prev => [...prev.slice(-6), { time: newTime, score: newScore }]);
    }, 5000);
    return () => clearInterval(interval);
  }, []);

  return (
    <>
      <Head>
        <title>Ekoh Dashboard</title>
        <meta name="description" content="Overview of your reputation and influence in the Ekoh system." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de la page */}
        <h1 className="text-2xl font-bold mb-4">Ekoh Dashboard</h1>

        {/* Overview cards */}
        <Row gutter={16} className="mb-6">
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Ekoh Score" value={ekohScore} suffix="pts" />
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Smart Vote Weight" value={smartVoteWeight} suffix="%" />
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Badges Earned" value={badgesEarned} />
            </Card>
          </Col>
        </Row>

        {/* Reputation trend chart */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-2">Reputation Trend Over Time</h2>
          {/* On transforme les données pour que le composant LineChart attende {time, value} */}
          <LineChart data={trendData.map(item => ({ time: item.time, value: item.score }))} />
        </Card>

        {/* Onglets pour les vues approfondies */}
        <Card className="mb-6">
          <Tabs defaultActiveKey="overview">
            <TabPane tab="Overview" key="overview">
              <p>This section provides an overall summary of your reputation, voting influence, expertise, and badges.</p>
            </TabPane>
            <TabPane tab="Voting Influence" key="votingInfluence">
              <p>Detailed view on your Smart Vote weight and how it affects overall decisions.</p>
            </TabPane>
            <TabPane tab="Expertise" key="expertise">
              <p>Breakdown of your expertise areas and performance therein.</p>
            </TabPane>
            <TabPane tab="Badges" key="badges">
              <p>Review your earned badges and achievements in detail.</p>
            </TabPane>
          </Tabs>
        </Card>

        {/* Achievements & Recent Contributions */}
        <Row gutter={16}>
          <Col xs={24} md={12}>
            <Card title="Notable Achievements" className="mb-6">
              <ul>
                {notableAchievements.map((achievement, index) => (
                  <li key={index}>{achievement}</li>
                ))}
              </ul>
            </Card>
          </Col>
          <Col xs={24} md={12}>
            <Card title="Recent Contributions" className="mb-6">
              <ul>
                {recentContributions.map((contribution, index) => (
                  <li key={index}>{contribution}</li>
                ))}
              </ul>
            </Card>
          </Col>
        </Row>
      </div>
    </>
  );
}

export default EkohDashboard;

===== END app/ekoh/dashboard/page.tsx =====


===== BEGIN app/ekoh/expertise-areas/view-current-expertise/page.tsx =====
'use client'

// pages/ekoh/expertise-areas/view-current-expertise/index.tsx
import React from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, List, Progress, Tag, Typography } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title } = Typography;

// Exemple de données simulées pour l'expertise de l'utilisateur
interface Expertise {
  id: string;
  domain: string;
  proficiency: number; // en pourcentage
  contributions: number;
  lastUpdated: string; // format ISO ou date formatée
}

const expertiseData: Expertise[] = [
  {
    id: '1',
    domain: 'Economy',
    proficiency: 80,
    contributions: 45,
    lastUpdated: '2023-08-28',
  },
  {
    id: '2',
    domain: 'Politics',
    proficiency: 65,
    contributions: 30,
    lastUpdated: '2023-08-25',
  },
  {
    id: '3',
    domain: 'Technology',
    proficiency: 75,
    contributions: 38,
    lastUpdated: '2023-08-27',
  },
];

const ViewCurrentExpertise = () => {
  return (
    <>
      <Head>
        <title>Expertise Areas</title>
        <meta
          name="description"
          content="View your recognized expertise areas along with proficiency levels and contribution details."
        />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de la page */}
        <Title level={2}>Expertise Areas</Title>

        {/* Liste des domaines d'expertise */}
        <Card className="mb-6">
          <List
            itemLayout="vertical"
            dataSource={expertiseData ?? []}
            renderItem={(item) => (
              <List.Item key={item.id}>
                <List.Item.Meta
                  title={
                    <span>
                      {item.domain}{' '}
                      <Tag color="blue">Proficiency: {item.proficiency}%</Tag>
                    </span>
                  }
                  description={
                    <span>
                      Contributions: {item.contributions} | Last Updated: {item.lastUpdated}
                    </span>
                  }
                />
                <Progress percent={item.proficiency} status="active" />
              </List.Item>
            )}
          />
        </Card>
      </div>
    </>
  );
}

export default ViewCurrentExpertise;

===== END app/ekoh/expertise-areas/view-current-expertise/page.tsx =====


===== BEGIN app/ekoh/layout.tsx =====
import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'

export default function SegmentLayout({ children }: { children: React.ReactNode }) {
  return (
    <Suspense fallback={null}>
      <MainLayout>{children}</MainLayout>
    </Suspense>
  )
}
===== END app/ekoh/layout.tsx =====


===== BEGIN app/ekoh/overview-analytics/current-ekoh-score/page.tsx =====
'use client'

import React, { useState, useEffect } from 'react'
import Head from 'next/head'
import type { NextPage } from 'next'
import { Card, Alert, Timeline, Table } from 'antd'
import MainLayout from '@/components/layout-components/MainLayout'
import {
  PieChart as RePieChart,
  Pie,
  Cell,
  Legend,
  Tooltip as ReTooltip,
  ResponsiveContainer,
  LineChart as ReLineChart,
  Line,
  XAxis,
  YAxis,
  CartesianGrid,
} from 'recharts'

const COLORS = ['#0088FE', '#00C49F', '#FFBB28']

type Point = { date: string; score: number }

const CurrentEkohScore = () => {
  const [pieData] = useState([
    { name: 'Expertise', value: 40 },
    { name: 'Community Feedback', value: 35 },
    { name: 'Ethics', value: 25 },
  ])

  const [trendData, setTrendData] = useState<Point[]>([
    { date: '2023-08-01', score: 60 },
    { date: '2023-08-02', score: 62 },
    { date: '2023-08-03', score: 65 },
    { date: '2023-08-04', score: 67 },
    { date: '2023-08-05', score: 70 },
    { date: '2023-08-06', score: 72 },
    { date: '2023-08-07', score: 75 },
  ])

  const timelineData = [
    { key: '1', time: '2023-08-02', event: 'Achieved Expert Level 3' },
    { key: '2', time: '2023-08-04', event: 'Received high community feedback' },
    { key: '3', time: '2023-08-06', event: 'Ethics audit improved rating' },
  ]

  const tableColumns = [
    { title: 'Date', dataIndex: 'date', key: 'date' },
    { title: 'Contribution Detail', dataIndex: 'detail', key: 'detail' },
  ]

  const tableData = [
    { key: '1', date: '2023-08-02', detail: 'Expert review added +4 points' },
    { key: '2', date: '2023-08-04', detail: 'Community vote increased score by +3 points' },
    { key: '3', date: '2023-08-06', detail: 'Ethics audit contributed +2 points' },
  ]

  useEffect(() => {
    const tick = () => {
      const datePart = new Date().toLocaleDateString('en-CA') // "YYYY-MM-DD"
      const newScore = 60 + Math.floor(Math.random() * 20)

      setTrendData(prev => {
        const last = prev.slice(-7)
        const existingIndex = last.findIndex(p => p.date === datePart)

        if (existingIndex >= 0) {
          // Évite Point | undefined: pas d’indexation, on map
          return last.map((p, i) => (i === existingIndex ? { date: p.date, score: newScore } : p))
        }

        return [...prev.slice(-6), { date: datePart, score: newScore }]
      })
    }

    tick()
    const id = setInterval(tick, 5000)
    return () => clearInterval(id)
  }, [])

  return (
    <>
      <Head>
        <title>Current Ekoh Score – Overview & Analytics</title>
        <meta name="description" content="Detailed breakdown of your Ekoh score with charts, timeline, and evaluation details." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Current Ekoh Score – Overview & Analytics</h1>

        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">Score Breakdown</h2>
          <div style={{ width: '100%', height: 300 }}>
            <ResponsiveContainer>
              <RePieChart>
                <ReTooltip />
                <Legend verticalAlign="bottom" height={36} />
                <Pie data={pieData} cx="50%" cy="50%" innerRadius={60} outerRadius={100} dataKey="value" paddingAngle={5}>
                  {pieData.map((entry, index) => (
                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
                  ))}
                </Pie>
              </RePieChart>
            </ResponsiveContainer>
          </div>
        </Card>

        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">Historical Trend</h2>
          <div style={{ width: '100%', height: 250 }}>
            <ResponsiveContainer>
              <ReLineChart data={trendData}>
                <CartesianGrid strokeDasharray="3 3" />
                <XAxis dataKey="date" />
                <YAxis />
                <ReTooltip />
                <Line type="monotone" dataKey="score" stroke="#82ca9d" />
              </ReLineChart>
            </ResponsiveContainer>
          </div>
        </Card>

        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">Key Events Influencing Your Score</h2>
          <Timeline>
            {timelineData.map(item => (
              <Timeline.Item key={item.key}>
                <strong>{item.time}</strong> - {item.event}
              </Timeline.Item>
            ))}
          </Timeline>
        </Card>

        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">How Your Score is Calculated</h2>
          <Alert
            message="Score Calculation Explained"
            description="Your Ekoh score is derived from a weighted combination of your expertise level, community feedback, and ethical evaluations. This transparent approach ensures that every contribution is fairly recognized."
            type="info"
            showIcon
          />
        </Card>

        <Card>
          <h2 className="text-xl font-semibold mb-4">Recent Evaluations Impacting Your Score</h2>
          <Table columns={tableColumns} dataSource={tableData} pagination={false} />
        </Card>
      </div>
    </>
  )
}



export default CurrentEkohScore

===== END app/ekoh/overview-analytics/current-ekoh-score/page.tsx =====


===== BEGIN app/ekoh/voting-influence/current-voting-weight/page.tsx =====
'use client';

import React from 'react';
import { Card, Statistic, Row, Col, Typography, List } from 'antd';
import {
  BarChart,
  Bar,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  ResponsiveContainer,
} from 'recharts';

const { Title, Paragraph } = Typography;

// Simulated data for the comparison chart
const weightComparisonData: { category: string; weight: number }[] = [
  { category: 'Your Weight', weight: 70 },
  { category: 'Average Weight', weight: 50 },
  { category: 'Top Experts', weight: 90 },
];

// Simulated data for high-weight domains
const weightByDomain: { domain: string; weight: string }[] = [
  { domain: 'Economy', weight: '80%' },
  { domain: 'Politics', weight: '65%' },
  { domain: 'Technology', weight: '75%' },
];

export default function CurrentVotingWeightPage() {
  // Example: user's smart voting weight (percent)
  const smartVoteWeight = 70;

  return (
    <div className="container mx-auto p-5">
      {/* Page header */}
      <Title level={2}>Current Voting Weight</Title>

      {/* Prominent current weight */}
      <Card className="mb-6">
        <Row justify="center">
          <Col>
            <Statistic title="Smart Vote Weight" value={smartVoteWeight} suffix="%" />
          </Col>
        </Row>
      </Card>

      {/* Explanation */}
      <Card className="mb-6">
        <Paragraph>
          Your Smart Vote weight represents your relative influence in collective
          decisions based on your Ekoh reputation. A higher percentage means your
          vote carries more weight compared to the average user.
        </Paragraph>
      </Card>

      {/* Comparison chart */}
      <Card className="mb-6">
        <Title level={4}>Comparison with Others</Title>
        <div style={{ width: '100%', height: 300 }}>
          <ResponsiveContainer>
            <BarChart data={weightComparisonData}>
              <CartesianGrid strokeDasharray="3 3" />
              <XAxis dataKey="category" />
              <YAxis domain={[0, 100]} />
              <Tooltip />
              <Bar dataKey="weight" fill="#82ca9d" />
            </BarChart>
          </ResponsiveContainer>
        </div>
      </Card>

      {/* High-weight domains */}
      <Card className="mb-6">
        <Title level={4}>Highest Weight by Domain</Title>
        <List
          dataSource={weightByDomain}
          renderItem={(item) => (
            <List.Item>
              <strong>{item.domain}:</strong>&nbsp;{item.weight}
            </List.Item>
          )}
        />
      </Card>
    </div>
  );
}

===== END app/ekoh/voting-influence/current-voting-weight/page.tsx =====


===== BEGIN app/ethikos/admin/audit/page.tsx =====
'use client';

import React from 'react';
import { PageContainer, ProTable, type ProColumns } from '@ant-design/pro-components';
import { Tag } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchAuditLogs } from '@/services/admin';

type LogRow = {
  id: string;
  actor: string;
  action: string;
  target: string;
  severity: 'info' | 'warn' | 'critical';
  ts: string; // ISO
};

type AuditPayload = { items: LogRow[] };

export default function AuditLogs(): JSX.Element {
  usePageTitle('Admin · Audit Logs');

  const service = async (): Promise<AuditPayload> => {
    const res = await fetchAuditLogs();
    return res as AuditPayload;
  };

  // Note: ahooks' useRequest generics are <Data, Params>
  const { data, loading } = useRequest<AuditPayload, []>(service);

  const columns: ProColumns<LogRow>[] = [
    {
      title: 'Time',
      dataIndex: 'ts',
      valueType: 'dateTime' as const, // keep literal, avoid widening to string
      width: 180,
      sorter: true,
    },
    { title: 'Actor', dataIndex: 'actor', width: 120 },
    { title: 'Action', dataIndex: 'action', width: 200 },
    { title: 'Target', dataIndex: 'target', ellipsis: true },
    {
      title: 'Severity',
      dataIndex: 'severity',
      width: 120,
      filters: [
        { text: 'Info', value: 'info' },
        { text: 'Warn', value: 'warn' },
        { text: 'Critical', value: 'critical' },
      ],
      onFilter: (value, record) =>
        record.severity === (String(value) as LogRow['severity']),
      render: (_: React.ReactNode, record: LogRow) => (
        <Tag
          color={
            record.severity === 'critical'
              ? 'red'
              : record.severity === 'warn'
              ? 'orange'
              : 'blue'
          }
        >
          {record.severity}
        </Tag>
      ),
    },
  ];

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<LogRow>
        rowKey="id"
        columns={columns}
        dataSource={data?.items ?? []}
        pagination={{ pageSize: 15 }}
        search={false}
      />
    </PageContainer>
  );
}

===== END app/ethikos/admin/audit/page.tsx =====


===== BEGIN app/ethikos/admin/moderation/page.tsx =====
'use client'

import { PageContainer, ProTable } from '@ant-design/pro-components'
import type { ProColumns } from '@ant-design/pro-components'
import { Tag, Popconfirm, Button } from 'antd'
import { useRequest } from 'ahooks'
import usePageTitle from '@/hooks/usePageTitle'
import { fetchModerationQueue, actOnReport } from '@/services/admin'

type Report = {
  id: string
  content: string
  reporter: string
  type: 'Spam' | 'Harassment' | 'Misinformation'
  status: 'Pending' | 'Resolved'
}

type ModerationPayload = { items: Report[] }

export default function Moderation() {
  usePageTitle('Admin · Moderation')

  const { data, loading, refresh } = useRequest<ModerationPayload, []>(
    () => fetchModerationQueue() as Promise<ModerationPayload>
  )

  const handleModeration = async (id: string, approve: boolean) => {
    await actOnReport(id, approve)
    refresh()
  }

  const columns: ProColumns<Report>[] = [
    { title: 'Content', dataIndex: 'content', ellipsis: true },
    { title: 'Reporter', dataIndex: 'reporter', width: 120 },
    {
      title: 'Type',
      dataIndex: 'type',
      width: 140,
      render: (_, row) => <Tag color="orange">{row.type}</Tag>,
      filters: [
        { text: 'Spam', value: 'Spam' },
        { text: 'Harassment', value: 'Harassment' },
        { text: 'Misinformation', value: 'Misinformation' },
      ],
      onFilter: (val, row) => row.type === (val as Report['type']),
    },
    {
      title: 'Status',
      dataIndex: 'status',
      width: 120,
      render: (_, row) => (
        <Tag color={row.status === 'Pending' ? 'gold' : 'green'}>{row.status}</Tag>
      ),
      filters: [
        { text: 'Pending', value: 'Pending' },
        { text: 'Resolved', value: 'Resolved' },
      ],
      onFilter: (val, row) => row.status === (val as Report['status']),
    },
    {
      title: 'Actions',
      width: 180,
      render: (_, row) =>
        row.status === 'Pending' ? (
          <>
            <Popconfirm title="Remove content?" onConfirm={() => handleModeration(row.id, true)}>
              <Button size="small" danger>Remove</Button>
            </Popconfirm>
            <Popconfirm title="Dismiss report?" onConfirm={() => handleModeration(row.id, false)}>
              <Button size="small" style={{ marginLeft: 8 }}>Dismiss</Button>
            </Popconfirm>
          </>
        ) : null,
    },
  ]

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<Report>
        rowKey="id"
        columns={columns}
        dataSource={data?.items ?? []}
        pagination={{ pageSize: 10 }}
        search={false}
      />
    </PageContainer>
  )
}

===== END app/ethikos/admin/moderation/page.tsx =====


===== BEGIN app/ethikos/admin/roles/page.tsx =====
'use client'

import type { ReactNode } from 'react'
import { PageContainer, ProTable } from '@ant-design/pro-components'
import type { ProColumns } from '@ant-design/pro-components'
import { Switch, Tag } from 'antd'
import { useRequest } from 'ahooks'
import usePageTitle from '@/hooks/usePageTitle'
import { fetchRoles, toggleRole } from '@/services/admin'

type RoleRow = { id: string; name: string; userCount: number; enabled: boolean }
type RolePayload = { items: RoleRow[] }

export default function RoleManagement() {
  usePageTitle('Admin · Role Management') // sets <title> on the client :contentReference[oaicite:3]{index=3}

  // useRequest: data shape is { items: RoleRow[] }; no params → params tuple is []
  const { data, loading, refresh } = useRequest<RolePayload, []>(fetchRoles) // :contentReference[oaicite:4]{index=4}

  const columns: ProColumns<RoleRow>[] = [
    { title: 'Role', dataIndex: 'name', width: 200 },
    {
      title: 'Users',
      dataIndex: 'userCount',
      width: 100,
      render: (dom: ReactNode) => <Tag>{dom}</Tag>, // avoid implicit any
    },
    {
      title: 'Enabled',
      dataIndex: 'enabled',
      width: 120,
      render: (_: ReactNode, row: RoleRow) => (
        <Switch
          checked={row.enabled}
          onChange={async (checked) => {
            await toggleRole(row.id, checked) // PATCH /admin/roles/:id { enabled } :contentReference[oaicite:5]{index=5}
            refresh()
          }}
        />
      ),
    },
  ]

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<RoleRow>
        rowKey="id"
        columns={columns}
        dataSource={data?.items ?? []}
        pagination={false}
        search={false}
      />
    </PageContainer>
  )
}

===== END app/ethikos/admin/roles/page.tsx =====


===== BEGIN app/ethikos/decide/elite/page.tsx =====
// C:\MyCode\Konnaxionv14\frontend\app\ethikos\decide\elite\page.tsx
'use client'

import { PageContainer, ProTable } from '@ant-design/pro-components'
import type { ProColumns } from '@ant-design/pro-components'
import type { ReactNode } from 'react'
import { Progress, Statistic } from 'antd'
import { useRequest } from 'ahooks'
import dayjs from 'dayjs'
import usePageTitle from '@/hooks/usePageTitle'
import { fetchEliteBallots } from '@/services/decide'
import type { Ballot } from '@/types'

type Row = Ballot & { turnout: number }

export default function EliteBallots() {
  usePageTitle('Decide · Elite Ballots')

  // ahooks v3 expects two generics: <TData, TParams>. No params → [].
  const { data, loading } = useRequest<{ ballots: Row[] }, []>(fetchEliteBallots)

  const columns: ProColumns<Row>[] = [
    { title: 'Title', dataIndex: 'title', width: 260 },
    {
      title: 'Closes In',
      dataIndex: 'closesAt',
      width: 180,
      render: (_dom: ReactNode, row: Row) => (
        <Statistic.Countdown value={dayjs(row.closesAt).valueOf()} format="D[d] HH:mm:ss" />
      ),
    },
    {
      title: 'Turnout',
      dataIndex: 'turnout',
      width: 160,
      render: (_dom: ReactNode, row: Row) => <Progress type="circle" percent={row.turnout} />,
    },
    { title: 'Scope', dataIndex: 'scope', width: 100 },
  ]

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<Row>
        rowKey="id"
        columns={columns}
        dataSource={data?.ballots ?? []}
        pagination={{ pageSize: 8 }}
        search={false}
      />
    </PageContainer>
  )
}

===== END app/ethikos/decide/elite/page.tsx =====


===== BEGIN app/ethikos/decide/methodology/page.tsx =====
'use client'

import { PageContainer } from '@ant-design/pro-components';
import { Typography, Collapse, Steps, Alert } from 'antd';
import usePageTitle from '@/hooks/usePageTitle';

export default function Methodology() {
  usePageTitle('Decide · Methodology');

  return (
    <PageContainer ghost>
      <Typography.Title>How We Count Votes</Typography.Title>

      <Collapse
        items={[
          {
            key: 'weighting',
            label: '1 · Stake-weighted counting',
            children: (
              <Typography.Paragraph>
                Each ballot is tallied with quadratic weighting to dampen plutocratic influence…
              </Typography.Paragraph>
            ),
          },
          {
            key: 'verification',
            label: '2 · Identity verification',
            children: (
              <Typography.Paragraph>
                Voters authenticate via the Desjardins meritocratic ID layer…
              </Typography.Paragraph>
            ),
          },
        ]}
      />

      <Steps
        current={3}
        items={[
          { title: 'Propose' },
          { title: 'Deliberate' },
          { title: 'Vote' },
          { title: 'Audit' },
        ]}
        style={{ marginTop: 40 }}
      />

      <Alert
        type="info"
        message="Open data"
        description="Raw ballots are published (SHA-256 hashed) after a 72-hour cooling-off period."
        showIcon
        style={{ marginTop: 24 }}
      />
    </PageContainer>
  );
}

===== END app/ethikos/decide/methodology/page.tsx =====


===== BEGIN app/ethikos/decide/public/page.tsx =====
// app/ethikos/decide/public/page.tsx
'use client';

import React, { useCallback, useEffect, useMemo, useState } from 'react';
import axios from 'axios';
import { PageContainer, ProTable } from '@ant-design/pro-components';
import type { ProColumns } from '@ant-design/pro-components';
import { Select, Space, Input, Progress, Radio, Slider, message } from 'antd';
import type { RadioChangeEvent } from 'antd';
import usePageTitle from '@/hooks/usePageTitle';

type Format = 'SINGLE' | 'MULTIPLE' | 'SCALE';

export interface PublicTopic {
  id: string | number;
  question: string;
  category: string;
  responseformat_id: number; // 1 = binary, 2 = multiple, 3 = scale
  options?: string[];        // SINGLE/MULTIPLE
  labels?: string[];         // SCALE
  turnout?: number;          // 0..100
}

interface PagedResult<T> {
  results: T[];
  count: number;
}

export default function PublicVotePage(): JSX.Element {
  usePageTitle('Décider — Public');

  // --- UI state ---
  const [page, setPage] = useState<number>(1);
  const [searchTerm, setSearchTerm] = useState<string>('');
  const [activeCat, setActiveCat] = useState<string | undefined>(undefined);

  // --- data ---
  const [categories, setCategories] = useState<string[]>([]);
  const [topicsData, setTopicsData] = useState<PagedResult<PublicTopic> | null>(null);
  const [loading, setLoading] = useState<boolean>(false);

  // Load category filter values
  useEffect(() => {
    let mounted = true;
    (async () => {
      try {
        const catsRes = await axios.get<string[]>('/api/home/categories/');
        if (!mounted) return;
        setCategories(Array.isArray(catsRes.data) ? catsRes.data : []);
      } catch (e) {
        console.warn('Failed to load categories', e);
      }
    })();
    return () => {
      mounted = false;
    };
  }, []);

  // Fetch topics list
  const fetchTopics = useCallback(async () => {
    setLoading(true);
    try {
      const res = await axios.get<PagedResult<PublicTopic>>('/api/home/debatetopic/', {
        params: {
          page,
          q: searchTerm || undefined,
          cat: activeCat || undefined,
        },
      });
      setTopicsData(res.data);
    } catch (e) {
      message.error("Échec du chargement des sujets.");
    } finally {
      setLoading(false);
    }
  }, [activeCat, page, searchTerm]);

  useEffect(() => {
    fetchTopics();
  }, [fetchTopics]);

  // Submit a vote (adapt the endpoint as needed)
  const submitVote = useCallback(
    async (topic: PublicTopic, value: string | string[] | number) => {
      try {
        await axios.post(`/api/home/debatetopic/${topic.id}/vote`, { value });
        message.success('Vote enregistré');
        fetchTopics(); // refresh after voting
      } catch {
        message.error("Impossible d'enregistrer le vote");
      }
    },
    [fetchTopics]
  );

  /**
   * Per-topic vote UI:
   * - SCALE: Slider with labeled marks (no unsafe array indexing)
   * - MULTIPLE: Select[multiple]
   * - SINGLE / default: Radio group
   */
  const renderVoteInput = useCallback(
    (topic: PublicTopic) => {
      // 3: scale
      if (topic.responseformat_id === 3) {
        const labels = topic.labels ?? topic.options ?? [];
        const marks = labels.reduce<Record<number, React.ReactNode>>((acc, label, i) => {
          acc[i] = label;
          return acc;
        }, {});
        const max = Math.max(0, labels.length - 1);
        const onAfterChange = (value: number | [number, number]) => {
          const v = Array.isArray(value) ? value[0] : value;
          submitVote(topic, v);
        };
        return (
          <Slider
            marks={marks}
            min={0}
            max={max}
            defaultValue={Math.round(max / 2)}
            onAfterChange={onAfterChange}
          />
        );
      }

      // 2: multiple
      if (topic.responseformat_id === 2) {
        const opts = topic.options ?? topic.labels ?? [];
        const onChange = (value: string[]) => submitVote(topic, value);
        return (
          <Select
            mode="multiple"
            placeholder="Sélectionnez…"
            style={{ minWidth: 220 }}
            onChange={onChange}
            options={opts.map((o) => ({ label: o, value: o }))}
          />
        );
      }

      // 1: binary / single (default)
      const opts = topic.options ?? ['Oui', 'Non'];
      const onRadio: (e: RadioChangeEvent) => void = (e) => submitVote(topic, e.target.value as string);
      return (
        <Radio.Group onChange={onRadio}>
          {opts.map((o) => (
            <Radio key={o} value={o}>
              {o}
            </Radio>
          ))}
        </Radio.Group>
      );
    },
    [submitVote]
  );

  // Table columns (typed; ProTable v3 render signature respected)
  const columns: ProColumns<PublicTopic>[] = useMemo(
    () => [
      {
        title: 'Question',
        dataIndex: 'question',
        ellipsis: true,
        width: 360,
      },
      {
        title: 'Vote',
        key: 'vote',
        search: false,
        width: 360,
        render: (_dom, row) => renderVoteInput(row),
      },
      {
        title: 'Participation',
        dataIndex: 'turnout',
        align: 'center',
        width: 160,
        render: (_dom, row) => <Progress percent={row.turnout ?? 0} size="small" />,
      },
    ],
    [renderVoteInput]
  );

  return (
    <PageContainer
      ghost
      header={{ title: 'Décider (public)' }}
      content={
        <Space wrap style={{ marginBottom: 16 }}>
          <Select
            allowClear
            placeholder="Catégorie"
            style={{ minWidth: 200 }}
            value={activeCat}
            onChange={(v) => setActiveCat(v || undefined)}
            options={categories.map((c) => ({ label: c, value: c }))}
          />
          <Input.Search
            allowClear
            placeholder="Recherche…"
            onSearch={(v) => {
              setPage(1);
              setSearchTerm(v);
            }}
            style={{ width: 260 }}
          />
        </Space>
      }
    >
      <ProTable<PublicTopic>
        rowKey="id"
        search={false}
        options={false}
        loading={loading}
        columns={columns}
        dataSource={topicsData?.results ?? []}
        pagination={{
          current: page,
          total: topicsData?.count ?? 0,
          showSizeChanger: false,
          onChange: (p) => setPage(p),
        }}
        toolBarRender={false}
      />
    </PageContainer>
  );
}

===== END app/ethikos/decide/public/page.tsx =====


===== BEGIN app/ethikos/decide/results/page.tsx =====
'use client';

import { PageContainer, ProTable, type ProColumns } from '@ant-design/pro-components';
import { Tag } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchDecisionResults } from '@/services/decide';

type ResultRow = {
  id: string;
  title: string;
  scope: 'Elite' | 'Public';
  passed: boolean;
  closesAt: string;
  region: string;
};

export default function ResultsArchive() {
  usePageTitle('Decide · Results Archive');

  const { data, loading } = useRequest(fetchDecisionResults);

  // Note the second generic argument (`any`) so valueType isn't restricted to "text"
  const columns: ProColumns<ResultRow, any>[] = [
    { title: 'Title', dataIndex: 'title', width: 260 },
    {
      title: 'Result',
      dataIndex: 'passed',
      width: 120,
      // Avoid implicit-any by annotating both params
      render: (_: any, row: ResultRow) => (
        <Tag color={row.passed ? 'green' : 'red'}>{row.passed ? 'PASSED' : 'REJECTED'}</Tag>
      ),
      // Use boolean filter values to match the Table's onFilter type
      filters: [
        { text: 'Passed', value: true },
        { text: 'Rejected', value: false },
      ],
      // Keep the wider param type that AntD expects to avoid typing conflicts
      onFilter: (value: React.Key | boolean, row: ResultRow) => {
        const v = typeof value === 'boolean' ? value : String(value) === 'true';
        return row.passed === v;
      },
    },
    { title: 'Scope', dataIndex: 'scope', width: 120 },
    { title: 'Region', dataIndex: 'region', width: 140 },
    { title: 'Closed', dataIndex: 'closesAt', valueType: 'dateTime' },
  ];

  return (
    <PageContainer ghost loading={loading}>
      {/* Match ProTable's generics with the columns declaration */}
      <ProTable<ResultRow, any>
        rowKey="id"
        columns={columns}
        dataSource={data?.items ?? []}
        pagination={{ pageSize: 10 }}
        search={false}
      />
    </PageContainer>
  );
}

===== END app/ethikos/decide/results/page.tsx =====


===== BEGIN app/ethikos/deliberate/[topic]/page.tsx =====
// C:\MyCode\Konnaxionv14\frontend\app\ethikos\deliberate\[topic]\page.tsx
'use client';

import React from 'react';
import { PageContainer } from '@ant-design/pro-components';
import { Card, Empty, List, Typography } from 'antd';
import { Comment } from '@ant-design/compatible';
import { useParams } from 'next/navigation';
import { useRequest } from 'ahooks';
import dayjs from 'dayjs';
import relativeTime from 'dayjs/plugin/relativeTime';

import usePageTitle from '@/hooks/usePageTitle';
import { fetchTopicPreview, type TopicPreviewResponse } from '@/services/deliberate';

dayjs.extend(relativeTime);

type Preview = TopicPreviewResponse;
type Statement = Preview['latest'][number];

export default function TopicThreadPage() {
  const params = useParams<{ topic: string }>();
  const topicParam = params?.topic;
  const topicId =
    typeof topicParam === 'string'
      ? topicParam
      : Array.isArray(topicParam)
      ? topicParam[0]
      : undefined;

  usePageTitle('Deliberate · Thread');

  const { data, loading } = useRequest<Preview, []>(
    () => fetchTopicPreview(topicId!),
    {
      ready: !!topicId,
      refreshDeps: [topicId],
    },
  );

  const preview = data;

  return (
    <PageContainer ghost loading={loading}>
      {preview ? (
        <>
          <Typography.Title level={3} style={{ marginTop: 0 }}>
            {preview.title}
          </Typography.Title>
          <Typography.Paragraph type="secondary" style={{ marginBottom: 16 }}>
            {preview.category ? `${preview.category} · ` : ''}
            {preview.createdAt ? dayjs(preview.createdAt).fromNow() : null}
          </Typography.Paragraph>

          <Card title="Latest statements" bordered={false} bodyStyle={{ padding: 0 }}>
            <List<Statement>
              itemLayout="horizontal"
              dataSource={preview.latest ?? []}
              locale={{ emptyText: <Empty description="No statements" /> }}
              renderItem={(s) => (
                <li key={s.id}>
                  <Comment
                    author={s.author}
                    content={<div style={{ whiteSpace: 'pre-wrap' }}>{s.body}</div>}
                  />
                </li>
              )}
              pagination={{ pageSize: 15, hideOnSinglePage: true }}
            />
          </Card>
        </>
      ) : (
        <Empty />
      )}
    </PageContainer>
  );
}

===== END app/ethikos/deliberate/[topic]/page.tsx =====


===== BEGIN app/ethikos/deliberate/elite/page.tsx =====
// C:\MyCode\Konnaxionv14\frontend\app\ethikos\deliberate\elite\page.tsx
'use client';

import React from 'react';
import {
  PageContainer,
  ProCard,
  ProTable,
  StatisticCard,
  ModalForm,
  ProFormText,
  ProFormSelect,
  type ProColumns,
} from '@ant-design/pro-components';
import { Button, Drawer, Empty, Space, Tag, Tooltip, message as antdMessage } from 'antd';
import { PlusOutlined, ReloadOutlined, FireOutlined } from '@ant-design/icons';
import { useRequest, useInterval } from 'ahooks';
import dayjs from 'dayjs';
import relativeTime from 'dayjs/plugin/relativeTime';

import usePageTitle from '@/hooks/usePageTitle';
import { fetchEliteTopics, createEliteTopic, fetchTopicPreview } from '@/services/deliberate';
import type { Topic } from '@/types';

dayjs.extend(relativeTime);

/* ------------------------------------------------------------------ */
/*  Types                                                              */
/* ------------------------------------------------------------------ */

interface TopicRow extends Topic {
  createdAt: string;
  lastActivity: string;
  hot: boolean;         // calculé côté serveur
  stanceCount: number;  // utilisé par KPI et la colonne
}

type TopicPreview = {
  id: string;
  title: string;
  category: string;
  createdAt: string;
  latest: Array<{ id: string; author: string; body: string }>;
};

/* ------------------------------------------------------------------ */
/*  Service wrapper (type-safe)                                        */
/* ------------------------------------------------------------------ */

// Le service natif ne garantit pas `stanceCount`. On normalise ici pour
// faire correspondre exactement <{ list: TopicRow[] }, []>.
const useEliteService = () =>
  React.useCallback(async (): Promise<{ list: TopicRow[] }> => {
    const res = await fetchEliteTopics();
    const list = (res?.list ?? []).map((t: any) => ({
      ...t,
      stanceCount: typeof t.stanceCount === 'number' ? t.stanceCount : 0,
    })) as TopicRow[];
    return { list };
  }, []);

/* ------------------------------------------------------------------ */
/*  Composant principal                                                */
/* ------------------------------------------------------------------ */

export default function EliteAgora() {
  usePageTitle('Deliberate · Elite Agora');

  /* ---------- data ---------- */
  const eliteService = useEliteService();
  // useRequest attend 2 génériques <TData, TParams>. Le service n’a pas de params -> [].
  const { data, loading, refresh } = useRequest<{ list: TopicRow[] }, []>(eliteService);
  useInterval(refresh, 60_000); // polling 1 min

  /* ---------- drawer state ---------- */
  const [previewId, setPreviewId] = React.useState<string | null>(null);
  const {
    data: preview,
    loading: previewLoading,
    run: loadPreview,
  } = useRequest<TopicPreview, [string]>(fetchTopicPreview, { manual: true });

  /* ---------- open drawer ---------- */
  const openPreview = React.useCallback(
    (row: TopicRow) => {
      setPreviewId(row.id);
      loadPreview(row.id);
    },
    [loadPreview],
  );

  /* ---------- KPI header ---------- */
  const headerStats = React.useMemo(
    () => [
      { label: 'Open topics', value: data?.list.length ?? 0 },
      {
        label: 'Avg stances / topic',
        value: data?.list?.length
          ? Math.round(
              data!.list.reduce((sum: number, t: TopicRow) => sum + (t.stanceCount ?? 0), 0) /
                data!.list.length,
            )
          : 0,
      },
      { label: 'Hot topics', value: (data?.list ?? []).filter((t: TopicRow) => t.hot).length },
    ],
    [data],
  );

  /* ---------- filtres catégorie ---------- */
  const categoryFilters = React.useMemo(
    () =>
      Array.from(
        new Set((data?.list ?? []).map((t: TopicRow) => t.category).filter(Boolean)),
      ).map((c) => ({ text: String(c), value: String(c) })),
    [data?.list],
  );

  /* ---------- colonnes ---------- */
  const columns: ProColumns<TopicRow>[] = React.useMemo(
    () => [
      {
        title: 'Title',
        dataIndex: 'title',
        render: (_: any, row: TopicRow) => (
          <a onClick={() => openPreview(row)} style={{ cursor: 'pointer' }}>
            {row.title}
          </a>
        ),
      },
      {
        title: 'Category',
        dataIndex: 'category',
        filters: categoryFilters,
        onFilter: (value: React.Key | boolean, record: TopicRow) =>
          String(record.category) === String(value),
        render: (_: any, row: TopicRow) => <Tag color="geekblue">{row.category}</Tag>,
      },
      {
        title: 'Stances',
        dataIndex: 'stanceCount',
        sorter: true,
        align: 'right',
      },
      {
        title: 'Last activity',
        dataIndex: 'lastActivity',
        // Pas de valueType non standard. On rend “fromNow” explicitement.
        render: (_: any, row: TopicRow) => dayjs(row.lastActivity).fromNow(),
      },
      {
        title: '',
        dataIndex: 'hot',
        width: 60,
        render: (_: any, row: TopicRow) =>
          row.hot ? (
            <Tooltip title="Trending">
              <FireOutlined style={{ color: '#fa541c' }} />
            </Tooltip>
          ) : null,
      },
    ],
    [categoryFilters, openPreview],
  );

  /* ---------- rendu ---------- */
  return (
    <PageContainer
      ghost
      loading={loading}
      extra={
        <Space>
          <Button icon={<ReloadOutlined />} onClick={refresh} type="text" title="Refresh list" />
          <NewTopicButton onCreated={refresh} />
        </Space>
      }
    >
      {/* KPI summary */}
      <ProCard gutter={16} wrap style={{ marginBottom: 16 }}>
        {headerStats.map((k) => (
          <StatisticCard
            key={k.label}
            colSpan={{ xs: 24, sm: 8 }}
            statistic={{ title: k.label, value: k.value }}
          />
        ))}
      </ProCard>

      {/* liste */}
      <ProTable<TopicRow>
        rowKey="id"
        columns={columns}
        dataSource={data?.list}
        search={{ labelWidth: 90, filterType: 'light' }}
        pagination={{ pageSize: 10 }}
      />

      {/* preview drawer */}
      <Drawer
        width={520}
        open={!!previewId}
        onClose={() => setPreviewId(null)}
        title={preview?.title || 'Preview'}
      >
        {previewLoading ? (
          <Empty description="Loading…" />
        ) : preview ? (
          <>
            <p>
              <strong>Category:</strong> {preview.category}
            </p>
            <p>
              <strong>Opened:</strong> {dayjs(preview.createdAt).format('YYYY-MM-DD HH:mm')}
            </p>
            <h4>Latest statements</h4>
            <ul>
              {preview.latest.map((s) => (
                <li key={s.id}>
                  <em>{s.author}</em> — {s.body}
                </li>
              ))}
            </ul>
            <Button
              type="primary"
              onClick={() => window.location.assign(`/ethikos/deliberate/${preview.id}`)}
            >
              Go to thread →
            </Button>
          </>
        ) : (
          <Empty />
        )}
      </Drawer>
    </PageContainer>
  );
}

/* ------------------------------------------------------------------ */
/*  New Topic modal                                                    */
/* ------------------------------------------------------------------ */

function NewTopicButton({ onCreated }: { onCreated: () => void }) {
  const [visible, setVisible] = React.useState(false);

  const { runAsync, loading } = useRequest(createEliteTopic, {
    manual: true,
    onSuccess: () => {
      antdMessage.success('Topic created 🎉');
      setVisible(false);
      onCreated();
    },
  });

  return (
    <>
      <Button icon={<PlusOutlined />} type="primary" onClick={() => setVisible(true)}>
        New Topic
      </Button>
      <ModalForm
        title="Create new topic"
        open={visible}
        onOpenChange={setVisible}
        onFinish={async (values: { title: string; category: string }) => {
          await runAsync(values);
          return true;
        }}
        submitter={{ submitButtonProps: { loading } }}
      >
        <ProFormText name="title" label="Title" rules={[{ required: true, min: 10 }]} />
        <ProFormSelect
          name="category"
          label="Category"
          options={[
            { label: 'AI Policy', value: 'AI Policy' },
            { label: 'Biotech', value: 'Biotech' },
            { label: 'Ethics', value: 'Ethics' },
          ]}
          rules={[{ required: true }]}
        />
      </ModalForm>
    </>
  );
}

===== END app/ethikos/deliberate/elite/page.tsx =====


===== BEGIN app/ethikos/deliberate/guidelines/page.tsx =====
'use client'

import { PageContainer } from '@ant-design/pro-components';
import { Typography, Anchor, Divider } from 'antd';
import usePageTitle from '@/hooks/usePageTitle';

export default function Guidelines() {
  usePageTitle('Deliberate · Guidelines');

  return (
    <PageContainer ghost>
      <Anchor
        affix
        items={[
          { key: 'etiquette', href: '#etiquette', title: '1. Etiquette' },
          { key: 'evidence', href: '#evidence', title: '2. Evidence Rules' },
          { key: 'moderation', href: '#moderation', title: '3. Moderation & Appeals' },
        ]}
      />

      <Typography.Title id="etiquette" level={3}>
        1. Etiquette
      </Typography.Title>
      <Typography.Paragraph>
        • Be concise, civil, and on-topic. Personal attacks and profanity are removed.
      </Typography.Paragraph>

      <Divider />

      <Typography.Title id="evidence" level={3}>
        2. Evidence Rules
      </Typography.Title>
      <Typography.Paragraph>
        • Claims must cite peer-reviewed sources or official data. Unsupported assertions can be flagged.
      </Typography.Paragraph>

      <Divider />

      <Typography.Title id="moderation" level={3}>
        3. Moderation & Appeals
      </Typography.Title>
      <Typography.Paragraph>
        • First strike = comment hidden. Second strike = 24 h read-only. Appeals via “Request review” button.
      </Typography.Paragraph>
    </PageContainer>
  );
}

===== END app/ethikos/deliberate/guidelines/page.tsx =====


===== BEGIN app/ethikos/impact/feedback/page.tsx =====
'use client'

import { useState } from 'react'
import { useRequest } from 'ahooks'

import { PageContainer, ProCard } from '@ant-design/pro-components'
import { Comment } from '@ant-design/compatible'
import { Button, Empty, Input, List, Rate } from 'antd'

import usePageTitle from '@/hooks/usePageTitle'
import { fetchFeedback, submitFeedback } from '@/services/impact'

export default function FeedbackLoops() {
  usePageTitle('Impact · Feedback')

  const { data, loading, mutate } = useRequest(fetchFeedback)
  const [message, setMessage] = useState('')
  const [stars, setStars] = useState<number>(0)
  const [sending, setSending] = useState(false)

  const send = async () => {
    if (!message.trim()) return
    setSending(true)
    await submitFeedback({ body: message.trim(), rating: stars || undefined })
    setMessage('')
    setStars(0)
    await mutate()
    setSending(false)
  }

  return (
    <PageContainer ghost loading={loading}>
      <ProCard title="Add your feedback" ghost>
        <Rate onChange={setStars} value={stars} />
        <Input.TextArea
          rows={3}
          placeholder="Tell us what worked or what didn’t…"
          value={message}
          onChange={(e) => setMessage(e.target.value)}
          style={{ marginTop: 8 }}
        />
        <Button
          type="primary"
          onClick={send}
          loading={sending}
          style={{ marginTop: 8 }}
        >
          Submit
        </Button>
      </ProCard>

      <ProCard title="Community Feedback" ghost style={{ marginTop: 24 }}>
        {data?.items?.length ? (
          <List
            dataSource={data?.items ?? []}
            renderItem={(f) => (
              <li key={f.id}>
                <Comment
                  author={f.author}
                  datetime={f.createdAt}
                  content={
                    <>
                      {f.rating !== undefined && <Rate disabled value={f.rating} />}
                      <p style={{ marginTop: 4 }}>{f.body}</p>
                    </>
                  }
                />
              </li>
            )}
          />
        ) : (
          <Empty description="No feedback yet" />
        )}
      </ProCard>
    </PageContainer>
  )
}

===== END app/ethikos/impact/feedback/page.tsx =====


===== BEGIN app/ethikos/impact/outcomes/page.tsx =====
'use client';

import { PageContainer, ProCard, StatisticCard } from '@ant-design/pro-components';
import { Tabs } from 'antd';
import { Line, Bar } from '@ant-design/plots';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchImpactOutcomes } from '@/services/impact';

export default function Outcomes() {
  usePageTitle('Impact · Outcomes');

  const { data, loading } = useRequest(fetchImpactOutcomes);

  return (
    <PageContainer ghost loading={loading}>
      <ProCard gutter={16} wrap>
        {data?.kpis.map(k => (
          <StatisticCard
            key={k.label}
            statistic={{ title: k.label, value: k.value, suffix: k.delta && '%' }}
          />
        ))}
      </ProCard>

      <Tabs
        items={data?.charts.map((c, i) => ({
          key: i.toString(),
          label: c.title,
          children: (
            <ProCard ghost>
              {c.type === 'line' && <Line {...c.config} />}
              {c.type === 'bar' && <Bar {...c.config} />}
            </ProCard>
          ),
        }))}
      />
    </PageContainer>
  );
}

===== END app/ethikos/impact/outcomes/page.tsx =====


===== BEGIN app/ethikos/impact/tracker/page.tsx =====
'use client';

import { PageContainer, ProTable, type ProColumns } from '@ant-design/pro-components';
import { Select } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchImpactTracker, patchImpactStatus } from '@/services/impact';

type TrackerRow = {
  id: string;
  title: string;
  owner: string;
  status: 'Planned' | 'In-Progress' | 'Completed' | 'Blocked';
  updatedAt: string;
};

export default function ImpactTracker() {
  usePageTitle('Impact · Tracker');

  const { data, loading, mutate } = useRequest(fetchImpactTracker);

  const onStatusChange = async (id: string, status: TrackerRow['status']) => {
    await patchImpactStatus(id, status);
    mutate((d) => ({
      items: d!.items.map((r) => (r.id === id ? { ...r, status } : r)),
    }));
  };

  const columns: ProColumns<TrackerRow>[] = [
    { title: 'Title', dataIndex: 'title', width: 260 },
    { title: 'Owner', dataIndex: 'owner', width: 160 },
    {
      title: 'Status',
      dataIndex: 'status',
      width: 180,
      render: (_, row) => (
        <Select
          value={row.status}
          options={[
            { value: 'Planned', label: 'Planned' },
            { value: 'In-Progress', label: 'In-Progress' },
            { value: 'Completed', label: 'Completed' },
            { value: 'Blocked', label: 'Blocked' },
          ]}
          onChange={(val) => onStatusChange(row.id, val as TrackerRow['status'])}
          style={{ width: '100%' }}
        />
      ),
    },
    { title: 'Updated', dataIndex: 'updatedAt', valueType: 'dateTime', sorter: true },
  ];

  return (
    <PageContainer ghost loading={loading}>
      <ProTable<TrackerRow>
        rowKey="id"
        columns={columns}
        dataSource={data?.items ?? []}
        pagination={{ pageSize: 12 }}
        search={false}
      />
    </PageContainer>
  );
}

===== END app/ethikos/impact/tracker/page.tsx =====


===== BEGIN app/ethikos/layout.tsx =====
import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'

export default function SegmentLayout({ children }: { children: React.ReactNode }) {
  return (
    <Suspense fallback={null}>
      <MainLayout>{children}</MainLayout>
    </Suspense>
  )
}
===== END app/ethikos/layout.tsx =====


===== BEGIN app/ethikos/learn/changelog/page.tsx =====
'use client'

import { PageContainer } from '@ant-design/pro-components';
import { Timeline, Tag } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchChangelog } from '@/services/learn';

export default function Changelog() {
  usePageTitle('Learn · Changelog');

  const { data, loading } = useRequest(fetchChangelog);

  return (
    <PageContainer ghost loading={loading}>
      <Timeline>
        {data?.entries.map(e => (
          <Timeline.Item key={e.version} label={e.date}>
            <strong>{e.version}</strong>{' '}
            {e.tags.map(t => (
              <Tag key={t} color={t === 'NEW' ? 'green' : t === 'FIX' ? 'blue' : 'default'}>
                {t}
              </Tag>
            ))}
            <ul style={{ marginTop: 4 }}>
              {e.notes.map((n: string, i: number) => (
                <li key={i}>{n}</li>
              ))}
            </ul>
          </Timeline.Item>
        ))}
      </Timeline>
    </PageContainer>
  );
}

===== END app/ethikos/learn/changelog/page.tsx =====


===== BEGIN app/ethikos/learn/glossary/page.tsx =====
'use client'
import { PageContainer, ProTable } from '@ant-design/pro-components'
import { Input } from 'antd'
import { useState } from 'react'
import { useRequest } from 'ahooks'
import usePageTitle from '@/hooks/usePageTitle'
import { fetchGlossary } from '@/services/learn'

type Term = { id: string; term: string; definition: string }

export default function Glossary() {
  usePageTitle('Learn · Glossary')

  const { data, loading } = useRequest(fetchGlossary)
  const [query, setQuery] = useState('')

  const columns = [
    { title: 'Term', dataIndex: 'term', width: 200 },
    { title: 'Definition', dataIndex: 'definition' },
  ]

  const filtered = data?.items.filter((t: Term) =>
    t.term.toLowerCase().includes(query.toLowerCase())
  )

  return (
    <PageContainer ghost loading={loading}>
      <Input.Search
        placeholder="Search term…"
        allowClear
        style={{ marginBottom: 16, maxWidth: 320 }}
        onChange={(e) => setQuery(e.target.value)}
      />

      <ProTable<Term>
        rowKey="id"
        columns={columns}
        dataSource={filtered}
        pagination={{ pageSize: 20 }}
        search={false}
      />
    </PageContainer>
  )
}

===== END app/ethikos/learn/glossary/page.tsx =====


===== BEGIN app/ethikos/learn/guides/page.tsx =====
'use client'

import { PageContainer } from '@ant-design/pro-components';
import { Collapse, Anchor, Typography } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchGuides } from '@/services/learn';

export default function Guides() {
  usePageTitle('Learn · Guides');

  const { data, loading } = useRequest(fetchGuides);

  return (
    <PageContainer ghost loading={loading}>
      <Anchor
        affix
        items={data?.sections.map(s => ({
          key: s.id,
          href: `#${s.id}`,
          title: s.title,
        }))}
      />

      <Collapse
        accordion
        items={data?.sections.map(s => ({
          key: s.id,
          label: <Typography.Text id={s.id}>{s.title}</Typography.Text>,
          children: <Typography.Paragraph>{s.content}</Typography.Paragraph>,
        }))}
      />
    </PageContainer>
  );
}

===== END app/ethikos/learn/guides/page.tsx =====


===== BEGIN app/ethikos/pulse/health/page.tsx =====
'use client';
import { PageContainer, ProCard } from '@ant-design/pro-components';
import { Pie, Radar } from '@ant-design/plots';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchPulseHealth } from '@/services/pulse';

export default function PulseHealth() {
  usePageTitle('Pulse · Participation Health');

  const { data, loading } = useRequest(fetchPulseHealth);

  return (
    <PageContainer ghost loading={loading}>
      <ProCard gutter={16} wrap>
        <ProCard colSpan={12} title="Diversity Radar">
          <Radar {...data?.radarConfig} />
        </ProCard>

        <ProCard colSpan={12} title="Ethics Score Breakdown">
          <Pie {...data?.pieConfig} />
        </ProCard>
      </ProCard>
    </PageContainer>
  );
}

===== END app/ethikos/pulse/health/page.tsx =====


===== BEGIN app/ethikos/pulse/live/page.tsx =====
'use client'

import { PageContainer, ProCard, StatisticCard } from '@ant-design/pro-components';
import { Badge, Space } from 'antd';
import { useInterval, useRequest } from 'ahooks';
import ChartCard from '@/components/charts/ChartCard';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchPulseLiveData } from '@/services/pulse';   // ← import correct

export default function PulseLive() {
  usePageTitle('Pulse · Live Metrics');

  // custom hook (polls every 20 s)
  const { data, loading, refresh } = usePulseLive(true);

  // manual refresh safety-net
  useInterval(refresh, 20_000);

  return (
    <PageContainer ghost loading={loading}>
      <ProCard gutter={16} wrap>
        {data?.counters.map((c) => (
          <StatisticCard
            key={c.label}
            statistic={{
              title: (
                <Space>
                  {c.label}
                  <Badge status={c.trend > 0 ? 'success' : c.trend < 0 ? 'error' : 'default'} />
                </Space>
              ),
              value: c.value,
              precision: 0,
            }}
            chart={
              <ChartCard
                type="line"
                data={c.history.map(({ ts, value }) => ({ x: ts, y: value }))}
                height={50}
              />
            }
          />
        ))}
      </ProCard>
    </PageContainer>
  );
}

/* ------------------------------------------------------------------ */
/*  Local data-fetching hook                                           */
/* ------------------------------------------------------------------ */
function usePulseLive(polling = false) {
  return useRequest(fetchPulseLiveData, {
    pollingInterval: polling ? 20_000 : undefined,
  });
}

===== END app/ethikos/pulse/live/page.tsx =====


===== BEGIN app/ethikos/pulse/overview/page.tsx =====
'use client'

// pages/ethikos/pulse/overview.tsx
import {
  PageContainer,
  ProCard,
  StatisticCard,
} from '@ant-design/pro-components';
import { Badge, Button, Empty, Skeleton, Space, Tooltip } from 'antd';
import { SyncOutlined, ClockCircleOutlined } from '@ant-design/icons';
import { useRequest } from 'ahooks';
import dayjs from 'dayjs';

import ChartCard from '@/components/charts/ChartCard';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchPulseOverview } from '@/services/pulse';

/* ------------------------------------------------------------------ */
/*  Data-fetching hook                                                 */
/* ------------------------------------------------------------------ */

function usePulseOverview() {
  const req = useRequest(fetchPulseOverview, { refreshDeps: [] });
  return req;
}

/* ------------------------------------------------------------------ */
/*  Main component                                                     */
/* ------------------------------------------------------------------ */

export default function PulseOverview() {
  usePageTitle('Pulse · Overview');

  const { data, loading, error, refresh } = usePulseOverview();
  const lastUpdated = data ? dayjs(data.refreshedAt).format('HH:mm:ss') : null;

  /* ---------- loading skeleton ---------- */
  if (loading && !data) {
    return (
      <PageContainer ghost>
        <Skeleton active />
      </PageContainer>
    );
  }

  /* ---------- error state ---------- */
  if (error) {
    return (
      <PageContainer ghost>
        <Empty
          description="Failed to load metrics"
          image={Empty.PRESENTED_IMAGE_SIMPLE}
        >
          <Button icon={<SyncOutlined />} onClick={refresh}>
            Retry
          </Button>
        </Empty>
      </PageContainer>
    );
  }

  /* ---------- empty state ---------- */
  if (data && data.kpis.length === 0) {
    return (
      <PageContainer ghost>
        <Empty description="No KPI data yet" />
      </PageContainer>
    );
  }

  /* ---------- happy path ---------- */
  return (
    <PageContainer
      ghost
      extra={
        <Space>
          {lastUpdated && (
            <Badge
              count={
                <Tooltip title={`Last refreshed at ${lastUpdated}`}>
                  <ClockCircleOutlined style={{ color: '#52c41a' }} />
                </Tooltip>
              }
            />
          )}
          <Button
            icon={<SyncOutlined />}
            onClick={refresh}
            size="small"
            type="text"
          />
        </Space>
      }
    >
      <ProCard gutter={[16, 16]} wrap>
        {data!.kpis.map((kpi) => (
          <StatisticCard
            key={kpi.label}
            colSpan={{
              xs: 24,
              sm: 12,
              md: 12,
              lg: 6,
            }}
            statistic={{
              title: kpi.label,
              value: kpi.value,
              suffix: kpi.delta !== undefined ? '%' : undefined,
              description:
                kpi.delta !== undefined ? (
                  <span
                    style={{
                      color: kpi.delta >= 0 ? '#3f8600' : '#cf1322',
                    }}
                  >
                    {kpi.delta >= 0 ? '▲' : '▼'} {Math.abs(kpi.delta)}%
                  </span>
                ) : null,
            }}
            chart={
              <ChartCard
                type="area"
                height={60}
                data={kpi.history.map((h) => ({
                  x: h.date,
                  y: h.value,
                }))}
                tooltip={{
                  formatter: (datum: any) =>
                    `${dayjs(datum.x).format('MMM D')}: ${datum.y}`,
                }}
              />
            }
          />
        ))}
      </ProCard>
    </PageContainer>
  );
}

===== END app/ethikos/pulse/overview/page.tsx =====


===== BEGIN app/ethikos/pulse/trends/page.tsx =====
'use client';
import { PageContainer, ProCard } from '@ant-design/pro-components';
import { Tabs } from 'antd';
import { useRequest } from 'ahooks';
import { Line, Area, Heatmap } from '@ant-design/plots';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchPulseTrends } from '@/services/pulse';

export default function PulseTrends() {
  usePageTitle('Pulse · Trends');

  const { data, loading } = useRequest(fetchPulseTrends);

  return (
    <PageContainer ghost loading={loading}>
      <Tabs
        items={data?.charts.map((c, idx) => ({
          key: idx.toString(),
          label: c.title,
          children: (
            <ProCard ghost>
              {c.type === 'line' && <Line {...c.config} />}
              {c.type === 'area' && <Area {...c.config} />}
              {c.type === 'heatmap' && <Heatmap {...c.config} />}
            </ProCard>
          ),
        }))}
      />
    </PageContainer>
  );
}

===== END app/ethikos/pulse/trends/page.tsx =====


===== BEGIN app/ethikos/trust/badges/page.tsx =====
'use client'

import { PageContainer, ProCard } from '@ant-design/pro-components';
import { Badge, Card, Progress, Tooltip } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchUserBadges } from '@/services/trust';

export default function Badges() {
  usePageTitle('Trust · Badges');

  const { data, loading } = useRequest(fetchUserBadges);

  return (
    <PageContainer ghost loading={loading}>
      <ProCard gutter={16} wrap>
        {data?.earned?.map((b) => (
          <Badge.Ribbon text="Earned" color="green" key={b.id}>
            <Card title={b.name} style={{ width: 220, marginBottom: 16 }}>
              <p>{b.desc}</p>
            </Card>
          </Badge.Ribbon>
        ))}

        {data?.progress?.map((p) => (
          <Tooltip title={`${p.current}/${p.required}`} key={p.id}>
            <Card title={p.name} bordered={false} style={{ width: 220, marginBottom: 16 }}>
              <Progress percent={Math.round((p.current / p.required) * 100)} />
            </Card>
          </Tooltip>
        ))}
      </ProCard>
    </PageContainer>
  );
}

===== END app/ethikos/trust/badges/page.tsx =====


===== BEGIN app/ethikos/trust/credentials/page.tsx =====
'use client';

import { PageContainer } from '@ant-design/pro-components';
import { Upload, Button, Result } from 'antd';
import { InboxOutlined } from '@ant-design/icons';
import { useState } from 'react';
import usePageTitle from '@/hooks/usePageTitle';
import { uploadCredential } from '@/services/trust';

export default function Credentials() {
  usePageTitle('Trust · Credentials');

  const [done, setDone] = useState(false);

  const props = {
    name: 'file',
    multiple: false,
    customRequest: async ({ file, onSuccess, onError }: any) => {
      try {
        await uploadCredential(file as File);
        onSuccess('ok');
        setDone(true);
      } catch {
        onError();
      }
    },
  };

  return (
    <PageContainer ghost>
      {done ? (
        <Result
          status="success"
          title="Document uploaded!"
          subTitle="Your credential is pending verification."
          extra={
            <Button type="primary" onClick={() => setDone(false)}>
              Upload another
            </Button>
          }
        />
      ) : (
        <Upload.Dragger {...props} accept=".pdf,.jpg,.png">
          <p className="ant-upload-drag-icon">
            <InboxOutlined />
          </p>
          <p className="ant-upload-text">Click or drag file to this area to upload</p>
          <p className="ant-upload-hint">Supported: PDF / JPG / PNG · Max 5 MB</p>
        </Upload.Dragger>
      )}
    </PageContainer>
  );
}

===== END app/ethikos/trust/credentials/page.tsx =====


===== BEGIN app/ethikos/trust/profile/page.tsx =====
'use client'

import { PageContainer, ProCard } from '@ant-design/pro-components';
import { Avatar, Descriptions, Tag, Timeline } from 'antd';
import { useRequest } from 'ahooks';
import usePageTitle from '@/hooks/usePageTitle';
import { fetchUserProfile } from '@/services/trust';

export default function MyProfile() {
  usePageTitle('Trust · My Profile');

  const { data, loading } = useRequest(fetchUserProfile);

  return (
    <PageContainer ghost loading={loading}>
      <ProCard split="vertical">
        <ProCard colSpan="25%">
          <Avatar size={120} src={data?.avatar ?? undefined} />
          <Descriptions size="small" column={1} style={{ marginTop: 16 }}>
            <Descriptions.Item label="Name">{data?.name}</Descriptions.Item>
            <Descriptions.Item label="Joined">{data?.joined}</Descriptions.Item>
            <Descriptions.Item label="Reputation">
              <Tag color="blue">{data?.score}</Tag>
            </Descriptions.Item>
          </Descriptions>
        </ProCard>
        <ProCard title="Recent Activity" ghost>
          <Timeline>
            {data?.activity?.map((a) => (
              <Timeline.Item key={a.id}>
                {a.when} · {a.text}
              </Timeline.Item>
            ))}
          </Timeline>
        </ProCard>
      </ProCard>
    </PageContainer>
  );
}

===== END app/ethikos/trust/profile/page.tsx =====


===== BEGIN app/keenkonnect/ai-team-matching/find-teams/page.tsx =====
'use client'

// app/keenkonnect/ai-team-matching/find-teams/page.tsx
import React, { useMemo, useState } from 'react';
import { Card, List, Input, Select, Button, Drawer, Row, Col, Tag, Divider } from 'antd';

const { Search } = Input;
const { Option } = Select;

interface Team {
  id: string;
  name: string;
  description: string;
  matchReason: string;
  domain: string;
  teamSize: number;
  isOpen: boolean;
  members: string[]; // liste des membres ou noms pour affichage dans le Drawer
}

// Exemple de données simulées pour les équipes recommandées
const sampleTeams: Team[] = [
  {
    id: '1',
    name: 'AI Innovators',
    description: 'A team focused on cutting-edge AI projects and research.',
    matchReason: 'Your skills in AI match this project’s needs.',
    domain: 'Technology',
    teamSize: 5,
    isOpen: true,
    members: ['Alice', 'Bob', 'Charlie'],
  },
  {
    id: '2',
    name: 'Data Wizards',
    description:
      'Experts in data science and machine learning working on real-world challenges.',
    matchReason: 'Your expertise in data analytics is a perfect fit.',
    domain: 'Data Science',
    teamSize: 8,
    isOpen: false,
    members: ['Diana', 'Edward', 'Fiona', 'George'],
  },
  {
    id: '3',
    name: 'Robotics R&D',
    description: 'A collaborative group diving into the robotics innovations.',
    matchReason: 'Your background in robotics aligns with the team’s focus.',
    domain: 'Engineering',
    teamSize: 6,
    isOpen: true,
    members: ['Hugo', 'Ivy', 'Jack'],
  },
];

export default function FindTeamsPage() {
  // États pour la recherche et les filtres
  const [searchText, setSearchText] = useState('');
  const [selectedDomain, setSelectedDomain] = useState<string>('All');
  const [selectedTeamSize, setSelectedTeamSize] = useState<string>('All');

  // État pour le Drawer et la sélection d'équipe
  const [drawerVisible, setDrawerVisible] = useState(false);
  const [selectedTeam, setSelectedTeam] = useState<Team | null>(null);

  // Filtrage des équipes en fonction des critères
  const filteredTeams = useMemo(() => {
    return sampleTeams.filter((team) => {
      const matchesSearch =
        searchText === '' ||
        team.name.toLowerCase().includes(searchText.toLowerCase());
      const matchesDomain =
        selectedDomain === 'All' || team.domain === selectedDomain;
      const matchesTeamSize =
        selectedTeamSize === 'All' ||
        (selectedTeamSize === 'Small' && team.teamSize < 6) ||
        (selectedTeamSize === 'Medium' &&
          team.teamSize >= 6 &&
          team.teamSize <= 10) ||
        (selectedTeamSize === 'Large' && team.teamSize > 10);
      return matchesSearch && matchesDomain && matchesTeamSize;
    });
  }, [searchText, selectedDomain, selectedTeamSize]);

  // Ouvrir / fermer le Drawer avec les détails d'une équipe
  const openDrawer = (team: Team) => {
    setSelectedTeam(team);
    setDrawerVisible(true);
  };

  const closeDrawer = () => {
    setDrawerVisible(false);
    setSelectedTeam(null);
  };

  return (
    <div className="container mx-auto p-5">
      {/* En-tête */}
      <h1 className="text-2xl font-bold mb-4">Find Teams</h1>

      {/* Barre de recherche et filtres */}
      <Row gutter={[16, 16]} className="mb-4">
        <Col xs={24} sm={8}>
          <Search
            placeholder="Search teams..."
            allowClear
            onSearch={(value) => setSearchText(value)}
          />
        </Col>
        <Col xs={24} sm={8}>
          <Select
            value={selectedDomain}
            style={{ width: '100%' }}
            onChange={(value) => setSelectedDomain(value)}
          >
            <Option value="All">All Domains</Option>
            <Option value="Technology">Technology</Option>
            <Option value="Data Science">Data Science</Option>
            <Option value="Engineering">Engineering</Option>
          </Select>
        </Col>
        <Col xs={24} sm={8}>
          <Select
            value={selectedTeamSize}
            style={{ width: '100%' }}
            onChange={(value) => setSelectedTeamSize(value)}
          >
            <Option value="All">All Sizes</Option>
            <Option value="Small">Small (&lt; 6)</Option>
            <Option value="Medium">Medium (6-10)</Option>
            <Option value="Large">Large (&gt; 10)</Option>
          </Select>
        </Col>
      </Row>

      <Divider />

      {/* Liste de suggestions d'équipes */}
      <List
        grid={{ gutter: 16, xs: 1, sm: 2, md: 3 }}
        dataSource={filteredTeams}
        renderItem={(team: Team) => (
          <List.Item key={team.id}>
            <Card
              hoverable
              title={team.name}
              extra={
                team.isOpen ? (
                  <Tag color="green">Open</Tag>
                ) : (
                  <Tag color="volcano">Approval Needed</Tag>
                )
              }
            >
              <p>{team.description}</p>
              <p style={{ fontStyle: 'italic', color: '#888' }}>
                Match: {team.matchReason}
              </p>
              <Button type="primary" onClick={() => openDrawer(team)}>
                View Team
              </Button>
            </Card>
          </List.Item>
        )}
      />

      {/* Drawer pour détails de l'équipe */}
      <Drawer
        title={selectedTeam?.name}
        placement="right"
        width={400}
        onClose={closeDrawer}
        open={drawerVisible}
      >
        {selectedTeam && (
          <div>
            <p>
              <strong>Description:</strong> {selectedTeam.description}
            </p>
            <p>
              <strong>Domain:</strong> {selectedTeam.domain}
            </p>
            <p>
              <strong>Team Size:</strong> {selectedTeam.teamSize}
            </p>
            <p>
              <strong>Members:</strong> {selectedTeam.members.join(', ')}
            </p>
            <Divider />
            <Button
              type="primary"
              onClick={() => {
                // Simulation d'une demande d'adhésion
                // TODO: implémenter la logique réelle de demande.
                closeDrawer();
              }}
            >
              Request to Join
            </Button>
          </div>
        )}
      </Drawer>
    </div>
  );
}

===== END app/keenkonnect/ai-team-matching/find-teams/page.tsx =====


===== BEGIN app/keenkonnect/ai-team-matching/match-preferences/page.tsx =====
'use client';

import React from 'react';
import {
  Typography,
  Select,
  InputNumber,
  Slider,
  Switch,
  Radio,
  Checkbox,
  Button,
  Form,
  Space,
  Divider,
  Row,
  Col,
  Tabs,
  message,
} from 'antd';
import { PageContainer } from '@ant-design/pro-components';

const { Title, Paragraph, Text } = Typography;
const { TabPane } = Tabs;
const { Option } = Select;

type RateRange = [number, number];

interface PreferencesFormValues {
  profileFocus?: 'balanced' | 'explore' | 'deliver';
  collaborationStyle?: 'async' | 'sync' | 'independent';
  remoteOk?: boolean;

  projectSize?: number;
  desiredMonthlyRate?: RateRange;

  minYearsExperience?: number;
  primaryStack?: string[];
  industry?: 'technology' | 'finance' | 'healthcare' | 'education' | 'energy' | 'design';

  aiTools?: string[];
  aiHighUsage?: boolean;

  locationRadiusKm?: number;
  availableNightsWeekends?: boolean;
}

export default function MatchPreferencesPage() {
  const [form] = Form.useForm<PreferencesFormValues>();

  const onFinish = (values: PreferencesFormValues) => {
    // Ici vous pouvez déclencher un appel API ou stocker les préférences
    // console.log('Match preferences:', values);
    message.success('Préférences enregistrées.');
  };

  const onReset = () => {
    form.resetFields();
  };

  return (
    <PageContainer
      header={{
        title: 'Préférences de mise en équipe',
        breadcrumb: { items: [{ title: 'KeenKonnect' }, { title: 'AI Team Matching' }, { title: 'Match Preferences' }] },
      }}
    >
      <Form<PreferencesFormValues>
        form={form}
        layout="vertical"
        onFinish={onFinish}
        initialValues={{
          profileFocus: 'balanced',
          collaborationStyle: 'async',
          remoteOk: true,
          projectSize: 5,
          desiredMonthlyRate: [3, 7] as RateRange,
          minYearsExperience: 3,
          primaryStack: ['typescript', 'react'],
          industry: 'technology',
          aiTools: ['chatgpt'],
          aiHighUsage: true,
          locationRadiusKm: 25,
          availableNightsWeekends: false,
        }}
      >
        <Tabs defaultActiveKey="workstyle">
          {/* === Onglet : style de travail === */}
          <TabPane tab="Style de travail" key="workstyle">
            <Row gutter={16}>
              <Col xs={24} md={12}>
                <Form.Item
                  label="Orientation de profil"
                  name="profileFocus"
                  tooltip="Équilibre entre exploration et livraison"
                >
                  <Radio.Group>
                    <Radio.Button value="balanced">Équilibré</Radio.Button>
                    <Radio.Button value="explore">Explorer/Tester</Radio.Button>
                    <Radio.Button value="deliver">Livrer/Exécuter</Radio.Button>
                  </Radio.Group>
                </Form.Item>
              </Col>
              <Col xs={24} md={12}>
                <Form.Item
                  label="Style de collaboration"
                  name="collaborationStyle"
                >
                  <Radio.Group>
                    <Radio value="async">Asynchrone d’abord</Radio>
                    <Radio value="sync">Synchrone</Radio>
                    <Radio value="independent">Autonome</Radio>
                  </Radio.Group>
                </Form.Item>
              </Col>
            </Row>

            <Row gutter={16}>
              <Col xs={24} md={12}>
                <Form.Item
                  label="Télétravail accepté"
                  name="remoteOk"
                  valuePropName="checked"
                >
                  <Switch />
                </Form.Item>
              </Col>
            </Row>
          </TabPane>

          {/* === Onglet : mission & budget === */}
          <TabPane tab="Taille & budget" key="tenure">
            <Row gutter={16}>
              <Col xs={24} md={12}>
                <Form.Item
                  label="Taille de mission (personnes)"
                  name="projectSize"
                >
                  <InputNumber min={1} max={100} style={{ width: '100%' }} />
                </Form.Item>
              </Col>
              <Col xs={24} md={12}>
                <Form.Item
                  label="TJM / Budget mensuel (k€)"
                  name="desiredMonthlyRate"
                >
                  <Slider
                    range
                    min={0}
                    max={10}
                    step={0.5}
                    marks={{ 0: '0', 5: '5', 10: '10' }}
                    // Si vous êtes en antd v5, préférez : tooltip={{ open: true }}
                    tooltipVisible
                  />
                </Form.Item>
              </Col>
            </Row>
          </TabPane>

          {/* === Onglet : expérience === */}
          <TabPane tab="Expérience" key="experience">
            <Row gutter={16}>
              <Col xs={24} md={12}>
                <Form.Item
                  label="Années minimales d’expérience"
                  name="minYearsExperience"
                >
                  <InputNumber min={0} max={50} style={{ width: '100%' }} />
                </Form.Item>
              </Col>

              <Col xs={24} md={12}>
                <Form.Item
                  label="Stack principale"
                  name="primaryStack"
                >
                  <Select mode="multiple" allowClear placeholder="Choisir une stack…">
                    <Option value="typescript">TypeScript</Option>
                    <Option value="react">React</Option>
                    <Option value="node">Node.js</Option>
                    <Option value="python">Python</Option>
                    <Option value="design">Design</Option>
                  </Select>
                </Form.Item>
              </Col>
            </Row>

            <Row gutter={16}>
              <Col xs={24} md={12}>
                <Form.Item label="Secteur" name="industry">
                  <Select placeholder="Secteur d’activité">
                    <Option value="technology">Tech</Option>
                    <Option value="finance">Finance</Option>
                    <Option value="healthcare">Santé</Option>
                    <Option value="education">Éducation</Option>
                    <Option value="energy">Énergie</Option>
                    <Option value="design">Design</Option>
                  </Select>
                </Form.Item>
              </Col>
            </Row>
          </TabPane>

          {/* === Onglet : IA === */}
          <TabPane tab="IA" key="ai">
            <Row gutter={16}>
              <Col xs={24} md={12}>
                <Form.Item label="Outils IA" name="aiTools">
                  <Select mode="multiple" allowClear placeholder="Sélectionner des outils…">
                    <Option value="chatgpt">ChatGPT</Option>
                    <Option value="midjourney">Midjourney</Option>
                    <Option value="copilot">Copilot</Option>
                    <Option value="other">Autre</Option>
                  </Select>
                </Form.Item>
              </Col>
              <Col xs={24} md={12}>
                <Form.Item
                  label="Usage IA intensif"
                  name="aiHighUsage"
                  valuePropName="checked"
                >
                  <Switch />
                </Form.Item>
              </Col>
            </Row>
          </TabPane>

          {/* === Onglet : autres === */}
          <TabPane tab="Autres" key="other">
            <Row gutter={16}>
              <Col xs={24} md={12}>
                <Form.Item label="Rayon géographique (km)" name="locationRadiusKm">
                  <Slider min={0} max={200} step={5} marks={{ 0: '0', 50: '50', 100: '100', 200: '200' }} />
                </Form.Item>
              </Col>
              <Col xs={24} md={12}>
                <Form.Item
                  name="availableNightsWeekends"
                  valuePropName="checked"
                  label="Disponible soir & week-end"
                >
                  <Checkbox>Oui</Checkbox>
                </Form.Item>
              </Col>
            </Row>
          </TabPane>
        </Tabs>

        <Divider />

        <Space>
          <Button type="primary" htmlType="submit">Enregistrer</Button>
          <Button htmlType="button" onClick={onReset}>Réinitialiser</Button>
        </Space>
      </Form>

      <Divider />
      <Paragraph type="secondary">
        <Text>
          Ces préférences seront utilisées pour affiner les correspondances d’équipe IA.
        </Text>
      </Paragraph>
    </PageContainer>
  );
}

===== END app/keenkonnect/ai-team-matching/match-preferences/page.tsx =====


===== BEGIN app/keenkonnect/ai-team-matching/my-matches/page.tsx =====
// app/keenkonnect/ai-team-matching/my-matches/page.tsx
'use client';

import React, { useState } from 'react';
import { Tabs, List, Button, Badge } from 'antd';
import PageContainer from '@/components/PageContainer'; // Header + layout global (conteneur)

// Définition d'un type pour représenter un match
interface Match {
  id: string;
  name: string;
  matchScore: number;      // Pourcentage de match
  commonInterests: string; // Intérêts/points communs
  new?: boolean;           // Indique un nouveau match (pour le badge)
}

// Données locales : "Team Matches"
const teamMatches: Match[] = [
  {
    id: 'team1',
    name: 'Alpha Team',
    matchScore: 92,
    commonInterests: 'UI/UX, Backend, DevOps',
    new: true,
  },
  {
    id: 'team2',
    name: 'Beta Squad',
    matchScore: 85,
    commonInterests: 'Mobile, Frontend',
  },
];

// Données locales : "Partner Matches"
const partnerMatches: Match[] = [
  {
    id: 'partner1',
    name: 'Jean Dupont',
    matchScore: 88,
    commonInterests: 'Data Science, Machine Learning',
    new: true,
  },
  {
    id: 'partner2',
    name: 'Marie Curie',
    matchScore: 90,
    commonInterests: 'Research, AI Innovation',
  },
];

const { TabPane } = Tabs;

export default function MyMatchesPage() {
  // Onglet actif (si besoin de traitements spécifiques par onglet)
  const [activeTab, setActiveTab] = useState<string>('team');

  // Rendu d'un élément de la liste
  const renderMatchItem = (item: Match) => (
    <List.Item
      key={item.id}
      actions={[
        <Button type="primary" key="connect">Connect</Button>,
        <Button key="view">View Profile/Team</Button>,
      ]}
    >
      <List.Item.Meta
        title={
          <span>
            {item.name}
            {item.new && (
              <Badge count={'new'} style={{ backgroundColor: '#52c41a', marginLeft: 8 }} />
            )}
          </span>
        }
        description={`${item.matchScore}% de match - ${item.commonInterests}`}
      />
    </List.Item>
  );

  return (
    <PageContainer title="My Matches">
      <Tabs defaultActiveKey="team" onChange={setActiveTab}>
        <TabPane tab="Team Matches" key="team">
          <List
            itemLayout="horizontal"
            dataSource={teamMatches ?? []}
            renderItem={renderMatchItem}
          />
        </TabPane>
        <TabPane tab="Partner Matches" key="partner">
          <List
            itemLayout="horizontal"
            dataSource={partnerMatches ?? []}
            renderItem={renderMatchItem}
          />
        </TabPane>
      </Tabs>
    </PageContainer>
  );
}

===== END app/keenkonnect/ai-team-matching/my-matches/page.tsx =====


===== BEGIN app/keenkonnect/dashboard/page.tsx =====
'use client';

import React from 'react';
import { Card, List, Row, Col, Button, Divider } from 'antd';
import {
  PlusOutlined,
  TeamOutlined,
  FolderAddOutlined,
  CheckSquareOutlined,
} from '@ant-design/icons';
import usePageTitle from '@/hooks/usePageTitle';

export default function KeenKonnectDashboard() {
  usePageTitle('KeenKonnect Dashboard');

  // Données simulées pour les widgets
  const recentProjects = [
    { id: 'p1', title: 'Project Alpha', update: 'Updated timeline and task statuses.' },
    { id: 'p2', title: 'Project Beta', update: 'New member joined and project goals refined.' },
    { id: 'p3', title: 'Project Gamma', update: 'Milestone reached: Prototype completed.' },
  ];

  const repositoryUpdates = [
    { id: 'r1', title: 'Resource A', update: 'Document updated to v2.1.' },
    { id: 'r2', title: 'Resource B', update: 'New resource added to the repository.' },
  ];

  const activeWorkspaces = [
    { id: 'w1', title: 'Team Alpha Workspace', status: 'Active' },
    { id: 'w2', title: 'Collaboration Beta', status: 'In Progress' },
    { id: 'w3', title: 'Project Gamma Workspace', status: 'Active' },
  ];

  const myTasks = [
    { id: 't1', task: 'Finalize project proposal', deadline: '2023-09-15' },
    { id: 't2', task: 'Review team submissions', deadline: '2023-09-10' },
    { id: 't3', task: 'Update documentation', deadline: '2023-09-12' },
  ];

  const notifications = [
    { id: 'n1', message: 'You have a pending invitation from Team Delta.' },
    { id: 'n2', message: 'Project Alpha has a new announcement.' },
  ];

  return (
    <div className="container mx-auto p-5">
      {/* Header */}
      <h1 className="text-2xl font-bold mb-4">KeenKonnect Dashboard</h1>

      {/* Widgets section */}
      <Row gutter={[16, 16]}>
        {/* Recent Projects */}
        <Col xs={24} md={12}>
          <Card title="Recent Projects" bordered={false}>
            <List
              dataSource={recentProjects ?? []}
              renderItem={(project) => (
                <List.Item key={project.id}>
                  <List.Item.Meta title={project.title} description={project.update} />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Repository Updates */}
        <Col xs={24} md={12}>
          <Card title="Repository Updates" bordered={false}>
            <List
              dataSource={repositoryUpdates ?? []}
              renderItem={(resource) => (
                <List.Item key={resource.id}>
                  <List.Item.Meta title={resource.title} description={resource.update} />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Active Collaboration */}
        <Col xs={24} md={12}>
          <Card title="Active Collaboration" bordered={false}>
            <List
              dataSource={activeWorkspaces ?? []}
              renderItem={(workspace) => (
                <List.Item key={workspace.id}>
                  <List.Item.Meta
                    title={workspace.title}
                    description={`Status: ${workspace.status}`}
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* My Tasks */}
        <Col xs={24} md={12}>
          <Card title="My Tasks" bordered={false}>
            <List
              dataSource={myTasks ?? []}
              renderItem={(task) => (
                <List.Item key={task.id}>
                  <List.Item.Meta title={task.task} description={`Deadline: ${task.deadline}`} />
                </List.Item>
              )}
            />
          </Card>
        </Col>
      </Row>

      <Divider />

      {/* Quick Start Buttons */}
      <Row gutter={[16, 16]} className="mb-6">
        <Col>
          <Button type="primary" icon={<PlusOutlined />} size="large">
            Create New Project
          </Button>
        </Col>
        <Col>
          <Button type="default" icon={<TeamOutlined />} size="large">
            Find Team
          </Button>
        </Col>
        <Col>
          <Button type="default" icon={<FolderAddOutlined />} size="large">
            New Repository
          </Button>
        </Col>
        <Col>
          <Button type="default" icon={<CheckSquareOutlined />} size="large">
            My Tasks
          </Button>
        </Col>
      </Row>

      {/* Notifications Preview */}
      <Card title="Notifications" bordered={false}>
        {notifications.length > 0 ? (
          <List
            dataSource={notifications ?? []}
            renderItem={(notif) => (
              <List.Item key={notif.id}>
                <List.Item.Meta title={notif.message} />
              </List.Item>
            )}
          />
        ) : (
          <p>No notifications at the moment.</p>
        )}
      </Card>
    </div>
  );
}

===== END app/keenkonnect/dashboard/page.tsx =====


===== BEGIN app/keenkonnect/knowledge/browse-repository/page.tsx =====
// app/keenkonnect/knowledge/browse-repository/page.tsx
'use client';

import React, { useMemo, useState } from 'react';
import { Table, Input, Select, Button, Row, Col, Card, Divider } from 'antd';
import type { ColumnsType } from 'antd/es/table';
import { useRouter } from 'next/navigation';

type Category = 'All' | 'Robotics' | 'Healthcare' | 'Technology' | 'Environment';
type Language = 'All' | 'English' | 'French';

interface DocumentResource {
  key: string;
  title: string;
  category: Exclude<Category, 'All'>;
  language: Exclude<Language, 'All'>;
  version: string;
  lastUpdated: string; // ISO date string (yyyy-mm-dd)
}

// Données d’exemple (remplacez par vos données réelles)
const sampleResources: DocumentResource[] = [
  {
    key: '1',
    title: 'Robotics Blueprint',
    category: 'Robotics',
    language: 'English',
    version: '1.0',
    lastUpdated: '2023-09-01',
  },
  {
    key: '2',
    title: 'Healthcare Protocols',
    category: 'Healthcare',
    language: 'French',
    version: '2.1',
    lastUpdated: '2023-08-28',
  },
  {
    key: '3',
    title: 'AI Research Paper',
    category: 'Technology',
    language: 'English',
    version: '1.2',
    lastUpdated: '2023-09-03',
  },
  {
    key: '4',
    title: 'Sustainable Energy Report',
    category: 'Environment',
    language: 'English',
    version: '3.0',
    lastUpdated: '2023-08-20',
  },
];

export default function BrowseRepositoryPage(): JSX.Element {
  const router = useRouter();

  const [searchText, setSearchText] = useState<string>('');
  const [selectedCategory, setSelectedCategory] = useState<Category>('All');
  const [selectedLanguage, setSelectedLanguage] = useState<Language>('All');

  // Filtrage mémoire des ressources
  const filteredResources = useMemo(() => {
    return sampleResources.filter((resource) => {
      const matchesSearch = resource.title
        .toLowerCase()
        .includes(searchText.toLowerCase());

      const matchesCategory =
        selectedCategory === 'All' || resource.category === selectedCategory;

      const matchesLanguage =
        selectedLanguage === 'All' || resource.language === selectedLanguage;

      return matchesSearch && matchesCategory && matchesLanguage;
    });
  }, [searchText, selectedCategory, selectedLanguage]);

  const columns: ColumnsType<DocumentResource> = [
    { title: 'Title', dataIndex: 'title', key: 'title' },
    { title: 'Category', dataIndex: 'category', key: 'category' },
    { title: 'Language', dataIndex: 'language', key: 'language' },
    { title: 'Version', dataIndex: 'version', key: 'version' },
    { title: 'Last Updated', dataIndex: 'lastUpdated', key: 'lastUpdated' },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: unknown, record: DocumentResource) => (
        <Button
          onClick={() =>
            router.push(
              `/keenkonnect/knowledge/document/${encodeURIComponent(record.key)}`
            )
          }
        >
          View
        </Button>
      ),
    },
  ];

  return (
    <Card>
      <h1 style={{ marginBottom: 0 }}>Browse Knowledge Repository</h1>
      <Divider style={{ marginTop: 12 }} />

      <Row gutter={[16, 16]}>
        <Col xs={24} md={8}>
          <Input.Search
            placeholder="Search documents"
            allowClear
            value={searchText}
            onChange={(e) => setSearchText(e.target.value)}
            onSearch={(v) => setSearchText(v)}
          />
        </Col>

        <Col xs={24} md={8}>
          <Select<Category>
            value={selectedCategory}
            onChange={(v) => setSelectedCategory(v)}
            style={{ width: '100%' }}
            options={[
              { label: 'All Categories', value: 'All' },
              { label: 'Robotics', value: 'Robotics' },
              { label: 'Healthcare', value: 'Healthcare' },
              { label: 'Technology', value: 'Technology' },
              { label: 'Environment', value: 'Environment' },
            ]}
          />
        </Col>

        <Col xs={24} md={8}>
          <Select<Language>
            value={selectedLanguage}
            onChange={(v) => setSelectedLanguage(v)}
            style={{ width: '100%' }}
            options={[
              { label: 'All Languages', value: 'All' },
              { label: 'English', value: 'English' },
              { label: 'French', value: 'French' },
            ]}
          />
        </Col>
      </Row>

      <Divider />

      <div style={{ display: 'flex', justifyContent: 'flex-end', marginBottom: 12 }}>
        <Button
          type="primary"
          onClick={() => router.push('/keenkonnect/knowledge/upload-new-document')}
        >
          Upload New Document
        </Button>
      </div>

      <Table<DocumentResource>
        rowKey="key"
        columns={columns}
        dataSource={filteredResources}
        pagination={{ pageSize: 10 }}
      />
    </Card>
  );
}

===== END app/keenkonnect/knowledge/browse-repository/page.tsx =====


===== BEGIN app/keenkonnect/knowledge/document-management/page.tsx =====
'use client'

/**
 * KeenKonnect · Knowledge · Document Management
 *
 * Static, typed demo page showing:
 * - document content
 * - editable panel
 * - metadata
 * - version history
 * - comments thread
 *
 * Layout is handled by app/keenkonnect/layout.tsx (MainLayout),
 * so this page only renders its own content.
 */

import React, { useState } from 'react'
import Head from 'next/head'
import {
  Row,
  Col,
  Card,
  Button,
  Input,
  Timeline,
  Divider,
  List,
  Avatar,
  message as antdMessage,
} from 'antd'
import { SaveOutlined, UploadOutlined, EditOutlined } from '@ant-design/icons'
import { Comment } from '@ant-design/compatible'

const { TextArea } = Input

type VersionItem = {
  key: string
  time: string
  event: string
}

type CommentItem = {
  author: string
  avatar: string
  content: React.ReactNode
  datetime: string
}

const documentMetadata = {
  title: 'Innovative Research Document',
  createdAt: '2023-08-01',
  lastModified: '2023-09-05',
  version: '2.0',
  language: 'English',
}

const versionHistory: VersionItem[] = [
  { key: '1', time: '2023-08-05', event: 'Version 1.0 created by Alice' },
  { key: '2', time: '2023-08-20', event: 'Version 1.5 updated by Bob' },
  { key: '3', time: '2023-09-05', event: 'Version 2.0 published by Alice' },
]

const commentsData: CommentItem[] = [
  {
    author: 'John',
    avatar: '/avatars/john.png',
    content: <p>Great improvements in this version!</p>,
    datetime: '2023-09-06 09:15',
  },
  {
    author: 'Emma',
    avatar: '/avatars/emma.png',
    content: <p>I suggest adding more details in the methodology section.</p>,
    datetime: '2023-09-06 10:20',
  },
]

export default function DocumentManagementPage(): JSX.Element {
  const userCanEdit = true

  const [documentContent, setDocumentContent] = useState<string>(
    'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum pretium, risus at fermentum cursus, purus lacus scelerisque dolor, nec dictum augue mi ut ligula. Sed vitae nisl vel metus tincidunt interdum.',
  )

  const handleSaveChanges = () => {
    // Simulate an API call
    // In real usage, replace with your mutation:
    // await api.patch('/knowledge/documents/:id', { content: documentContent })
    // eslint-disable-next-line no-console
    console.log('Saving changes:', documentContent)
    antdMessage.success('Changes saved successfully.')
  }

  const handlePublishNewVersion = () => {
    // Simulate publish
    // eslint-disable-next-line no-console
    console.log('Publishing new version…')
    antdMessage.success('New version published successfully.')
  }

  return (
    <>
      <Head>
        <title>Document Management</title>
        <meta
          name="description"
          content="Manage and edit your knowledge documents, view version history, and collaborate with reviewers."
        />
      </Head>

      <div className="container mx-auto p-5">
        {/* Page Header */}
        <h1 className="text-2xl font-bold mb-4">Document Management</h1>

        <Row gutter={16}>
          {/* Left Panel: Content Viewer */}
          <Col xs={24} md={14}>
            <Card title="Document Content" style={{ height: '100%', overflowY: 'auto' }}>
              <div style={{ padding: 20 }}>
                <p>{documentContent}</p>
              </div>
            </Card>
          </Col>

          {/* Right Panel: Editor, Metadata, Version History & Comments */}
          <Col xs={24} md={10}>
            {/* Editor Panel (if editable) */}
            <Card
              title={userCanEdit ? 'Edit Document' : 'Document Details'}
              extra={
                userCanEdit ? (
                  <Button icon={<EditOutlined />} onClick={() => {}}>
                    Edit
                  </Button>
                ) : null
              }
              className="mb-4"
            >
              {userCanEdit ? (
                <>
                  <TextArea
                    rows={10}
                    value={documentContent}
                    onChange={(e) => setDocumentContent(e.target.value)}
                  />
                  <Divider />
                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                    <Button
                      type="primary"
                      icon={<SaveOutlined />}
                      onClick={handleSaveChanges}
                    >
                      Save Changes
                    </Button>
                    <Button
                      type="default"
                      icon={<UploadOutlined />}
                      onClick={handlePublishNewVersion}
                    >
                      Publish New Version
                    </Button>
                  </div>
                </>
              ) : (
                <p>{documentContent}</p>
              )}
            </Card>

            {/* Metadata Sidebar */}
            <Card title="Document Metadata" className="mb-4">
              <p>
                <strong>Title:</strong> {documentMetadata.title}
              </p>
              <p>
                <strong>Created At:</strong> {documentMetadata.createdAt}
              </p>
              <p>
                <strong>Last Modified:</strong> {documentMetadata.lastModified}
              </p>
              <p>
                <strong>Version:</strong> {documentMetadata.version}
              </p>
              <p>
                <strong>Language:</strong> {documentMetadata.language}
              </p>
            </Card>

            {/* Version History */}
            <Card title="Version History" className="mb-4">
              <Timeline>
                {versionHistory.map((version) => (
                  <Timeline.Item key={version.key}>
                    <strong>{version.time}</strong> - {version.event}
                  </Timeline.Item>
                ))}
              </Timeline>
              <Button type="link">Compare / Restore Versions</Button>
            </Card>

            {/* Comments / Collaboration Thread */}
            <Card title="Comments" className="mb-4">
              <List
                itemLayout="horizontal"
                dataSource={commentsData}
                renderItem={(comment) => (
                  <Comment
                    author={comment.author}
                    avatar={<Avatar src={comment.avatar} />}
                    content={comment.content}
                    datetime={comment.datetime}
                  />
                )}
              />
            </Card>
          </Col>
        </Row>
      </div>
    </>
  )
}

===== END app/keenkonnect/knowledge/document-management/page.tsx =====


===== BEGIN app/keenkonnect/knowledge/document-management/page.tsx.bak =====
'use client'

import React, { Suspense, useEffect, useState } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Card, Row, Col, List, Spin, Button } from 'antd'
import { EditOutlined } from '@ant-design/icons'
import api from '@/api'

export default function PageWrapper() {
  return (
    <Suspense fallback={<Spin style={{ marginTop: 40 }} />}>
      <MainLayout>
        <Content />
      </MainLayout>
    </Suspense>
  )
}

function Content() {
  const [loading, setLoading] = useState(true)
  const [docs, setDocs] = useState<any[]>([])

  useEffect(() => {
    const load = async () => {
      try {
        const res = await api.get('/knowledge/documents')
        setDocs(res ?? [])
      } catch (err) {
        console.error('Document management load error:', err)
      } finally {
        setLoading(false)
      }
    }
    load()
  }, [])

  if (loading) {
    return (
      <div style={{ padding: 40, textAlign: 'center' }}>
        <Spin size="large" />
      </div>
    )
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Document Management</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Document Management
      </h1>

      <Row gutter={[24, 24]}>
        {docs.map((doc) => (
          <Col xs={24} md={12} key={doc.id}>
            <Card
              title={doc.title}
              extra={<Button icon={<EditOutlined />}>Edit</Button>}
            >
              <p>{doc.description}</p>
              <p style={{ color: '#888' }}>
                Category: {doc.category || 'N/A'}
              </p>
              <p style={{ color: '#888' }}>
                Updated: {doc.updatedAt || 'N/A'}
              </p>
            </Card>
          </Col>
        ))}
      </Row>
    </>
  )
}

===== END app/keenkonnect/knowledge/document-management/page.tsx.bak =====


===== BEGIN app/keenkonnect/knowledge/search-filter-documents/page.tsx =====
// C:\MyCode\Konnaxionv14\frontend\app\keenkonnect\knowledge\search-filter-documents\page.tsx

'use client'

import React, { useMemo, useState } from 'react'
import { Form, Input, Select, DatePicker, Button, Table, Row, Col, Card } from 'antd'
import type { ColumnsType } from 'antd/es/table'
import dayjs from 'dayjs'

const { RangePicker } = DatePicker

interface DocumentResource {
  key: string
  title: string
  snippet: string
  author: string
  tags: string[]
  language: string
  version: string
  lastUpdated: string // ISO date
  relevanceScore: number
}

type DateRange = [dayjs.Dayjs | null, dayjs.Dayjs | null] | null

// Demo data
const sampleDocuments: DocumentResource[] = [
  {
    key: '1',
    title: 'Robotics Blueprint',
    snippet: 'Detailed blueprint for advanced robotics design...',
    author: 'Alice',
    tags: ['Robotics', 'Engineering'],
    language: 'English',
    version: '1.0',
    lastUpdated: '2023-09-01',
    relevanceScore: 85,
  },
  {
    key: '2',
    title: 'Healthcare Protocols',
    snippet: 'Updated protocols for modern healthcare systems...',
    author: 'Bob',
    tags: ['Healthcare', 'Medicine'],
    language: 'French',
    version: '2.1',
    lastUpdated: '2023-08-28',
    relevanceScore: 78,
  },
  {
    key: '3',
    title: 'AI Research Paper',
    snippet: 'A research paper discussing the latest trends in AI...',
    author: 'Charlie',
    tags: ['Technology', 'AI'],
    language: 'English',
    version: '1.2',
    lastUpdated: '2023-09-03',
    relevanceScore: 90,
  },
  {
    key: '4',
    title: 'Sustainable Energy Report',
    snippet: 'Comprehensive report on sustainable energy solutions...',
    author: 'Diana',
    tags: ['Energy', 'Environment'],
    language: 'English',
    version: '3.0',
    lastUpdated: '2023-08-20',
    relevanceScore: 80,
  },
]

export default function SearchFilterDocuments() {
  const [form] = Form.useForm()

  const [keyword, setKeyword] = useState<string>('')
  const [authorFilter, setAuthorFilter] = useState<string[]>([])
  const [tagFilter, setTagFilter] = useState<string[]>([])
  const [dateRange, setDateRange] = useState<DateRange>(null)
  const [sortCriteria, setSortCriteria] = useState<'relevance' | 'date' | 'popularity'>('relevance')

  const filteredDocuments = useMemo(() => {
    return sampleDocuments.filter((doc) => {
      const matchesKeyword =
        !keyword ||
        doc.title.toLowerCase().includes(keyword.toLowerCase()) ||
        doc.snippet.toLowerCase().includes(keyword.toLowerCase())

      const matchesAuthor = authorFilter.length === 0 || authorFilter.includes(doc.author)

      const matchesTags = tagFilter.length === 0 || tagFilter.every((t) => doc.tags.includes(t))

      let matchesDate = true
      if (dateRange && dateRange[0] && dateRange[1]) {
        const docDate = dayjs(doc.lastUpdated)
        matchesDate = docDate.isAfter(dateRange[0]) && docDate.isBefore(dateRange[1])
      }

      return matchesKeyword && matchesAuthor && matchesTags && matchesDate
    })
  }, [keyword, authorFilter, tagFilter, dateRange])

  const sortedDocuments = useMemo(() => {
    const docs = [...filteredDocuments]
    if (sortCriteria === 'relevance') {
      docs.sort((a, b) => b.relevanceScore - a.relevanceScore)
    } else if (sortCriteria === 'date') {
      docs.sort((a, b) => new Date(b.lastUpdated).getTime() - new Date(a.lastUpdated).getTime())
    } else if (sortCriteria === 'popularity') {
      // placeholder: implement when a popularity metric exists
    }
    return docs
  }, [filteredDocuments, sortCriteria])

  const columns: ColumnsType<DocumentResource> = [
    { title: 'Title', dataIndex: 'title', key: 'title' },
    { title: 'Snippet', dataIndex: 'snippet', key: 'snippet' },
    { title: 'Author', dataIndex: 'author', key: 'author' },
    { title: 'Language', dataIndex: 'language', key: 'language' },
    { title: 'Version', dataIndex: 'version', key: 'version' },
    { title: 'Last Updated', dataIndex: 'lastUpdated', key: 'lastUpdated' },
    { title: 'Relevance', dataIndex: 'relevanceScore', key: 'relevanceScore' },
  ]

  return (
    <div className="container mx-auto p-5">
      <h1 className="text-2xl font-bold mb-4">Search &amp; Filter Documents</h1>

      <Card className="mb-6">
        <Form form={form} layout="vertical">
          <Row gutter={[16, 16]}>
            <Col xs={24} sm={12}>
              <Form.Item label="Keywords">
                <Input.Search
                  placeholder="Enter keywords"
                  allowClear
                  onSearch={(v) => setKeyword(v)}
                />
              </Form.Item>
            </Col>

            <Col xs={24} sm={12}>
              <Form.Item label="Authors">
                <Select
                  mode="multiple"
                  placeholder="Select authors"
                  value={authorFilter}
                  onChange={setAuthorFilter}
                  options={['Alice', 'Bob', 'Charlie', 'Diana'].map((a) => ({
                    value: a,
                    label: a,
                  }))}
                />
              </Form.Item>
            </Col>

            <Col xs={24} sm={12}>
              <Form.Item label="Tags">
                <Select
                  mode="multiple"
                  placeholder="Select tags"
                  value={tagFilter}
                  onChange={setTagFilter}
                  options={['Robotics', 'Healthcare', 'Technology', 'Energy', 'Environment'].map(
                    (t) => ({ value: t, label: t }),
                  )}
                />
              </Form.Item>
            </Col>

            <Col xs={24} sm={12}>
              <Form.Item label="Date Range">
                <RangePicker onChange={(dates) => setDateRange(dates)} />
              </Form.Item>
            </Col>

            <Col xs={24} sm={12}>
              <Form.Item label="Sort By">
                <Select
                  value={sortCriteria}
                  onChange={(v) => setSortCriteria(v)}
                  options={[
                    { value: 'relevance', label: 'Relevance' },
                    { value: 'date', label: 'Date' },
                    { value: 'popularity', label: 'Popularity' },
                  ]}
                />
              </Form.Item>
            </Col>

            <Col xs={24} sm={12}>
              <Form.Item>
                <Button type="primary" onClick={() => form.submit()}>
                  Apply Filters
                </Button>
              </Form.Item>
            </Col>
          </Row>
        </Form>
      </Card>

      <Card>
        <Table<DocumentResource>
          rowKey="key"
          columns={columns}
          dataSource={sortedDocuments}
          pagination={{ pageSize: 5 }}
        />
      </Card>
    </div>
  )
}

===== END app/keenkonnect/knowledge/search-filter-documents/page.tsx =====


===== BEGIN app/keenkonnect/knowledge/upload-new-document/page.tsx =====
'use client'

import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import {
  Form,
  Input,
  Upload,
  Button,
  Select,
  DatePicker,
  Card,
  message,
} from 'antd'
import type { UploadFile } from 'antd/es/upload/interface'
import api from '@/api'
import { UploadOutlined } from '@ant-design/icons'

export default function PageWrapper() {
  return (
    <Suspense fallback={null}>
      <>
        <Content />
      </>
    </Suspense>
  )
}

function Content() {
  const [form] = Form.useForm()

  const submitDoc = async (values: any) => {
    try {
      await api.post('/knowledge/documents/upload', values)
      message.success('Document uploaded!')
      form.resetFields()
    } catch (err) {
      console.error('Document upload error:', err)
      message.error('Failed to upload document.')
    }
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Upload New Document</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Upload New Document
      </h1>

      <Card>
        <Form
          form={form}
          layout="vertical"
          onFinish={submitDoc}
          initialValues={{ visibility: 'public' }}
        >
          <Form.Item
            label="Title"
            name="title"
            rules={[{ required: true }]}
          >
            <Input placeholder="Document title" />
          </Form.Item>

          <Form.Item label="Category" name="category">
            <Select
              placeholder="Select category"
              options={[
                { label: 'Reports', value: 'reports' },
                { label: 'Guides', value: 'guides' },
                { label: 'Research', value: 'research' },
              ]}
            />
          </Form.Item>

          <Form.Item label="Effective Date" name="effectiveDate">
            <DatePicker style={{ width: '100%' }} />
          </Form.Item>

          <Form.Item label="Visibility" name="visibility">
            <Select
              options={[
                { label: 'Public', value: 'public' },
                { label: 'Team Only', value: 'team' },
              ]}
            />
          </Form.Item>

          <Form.Item label="Document File" name="file">
            <Upload beforeUpload={() => false}>
              <Button icon={<UploadOutlined />}>Select File</Button>
            </Upload>
          </Form.Item>

          <Form.Item>
            <Button type="primary" htmlType="submit" style={{ marginTop: 12 }}>
              Upload Document
            </Button>
          </Form.Item>
        </Form>
      </Card>
    </>
  )
}

===== END app/keenkonnect/knowledge/upload-new-document/page.tsx =====


===== BEGIN app/keenkonnect/knowledge/upload-new-document/page.tsx.bak =====
'use client'

import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import {
  Form,
  Input,
  Upload,
  Button,
  Select,
  DatePicker,
  Card,
  message,
} from 'antd'
import type { UploadFile } from 'antd/es/upload/interface'
import api from '@/api'
import { UploadOutlined } from '@ant-design/icons'

export default function PageWrapper() {
  return (
    <Suspense fallback={null}>
      <MainLayout>
        <Content />
      </MainLayout>
    </Suspense>
  )
}

function Content() {
  const [form] = Form.useForm()

  const submitDoc = async (values: any) => {
    try {
      await api.post('/knowledge/documents/upload', values)
      message.success('Document uploaded!')
      form.resetFields()
    } catch (err) {
      console.error('Document upload error:', err)
      message.error('Failed to upload document.')
    }
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Upload New Document</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Upload New Document
      </h1>

      <Card>
        <Form
          form={form}
          layout="vertical"
          onFinish={submitDoc}
          initialValues={{ visibility: 'public' }}
        >
          <Form.Item
            label="Title"
            name="title"
            rules={[{ required: true }]}
          >
            <Input placeholder="Document title" />
          </Form.Item>

          <Form.Item label="Category" name="category">
            <Select
              placeholder="Select category"
              options={[
                { label: 'Reports', value: 'reports' },
                { label: 'Guides', value: 'guides' },
                { label: 'Research', value: 'research' },
              ]}
            />
          </Form.Item>

          <Form.Item label="Effective Date" name="effectiveDate">
            <DatePicker style={{ width: '100%' }} />
          </Form.Item>

          <Form.Item label="Visibility" name="visibility">
            <Select
              options={[
                { label: 'Public', value: 'public' },
                { label: 'Team Only', value: 'team' },
              ]}
            />
          </Form.Item>

          <Form.Item label="Document File" name="file">
            <Upload beforeUpload={() => false}>
              <Button icon={<UploadOutlined />}>Select File</Button>
            </Upload>
          </Form.Item>

          <Form.Item>
            <Button type="primary" htmlType="submit" style={{ marginTop: 12 }}>
              Upload Document
            </Button>
          </Form.Item>
        </Form>
      </Card>
    </>
  )
}

===== END app/keenkonnect/knowledge/upload-new-document/page.tsx.bak =====


===== BEGIN app/keenkonnect/layout.tsx =====
// app/keenkonnect/layout.tsx
import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'

export default function SegmentLayout({ children }: { children: React.ReactNode }) {
  return (
    <Suspense fallback={null}>
      <MainLayout>{children}</MainLayout>
    </Suspense>
  )
}

===== END app/keenkonnect/layout.tsx =====


===== BEGIN app/keenkonnect/projects/browse-projects/page.tsx =====
// app/keenkonnect/projects/browse-projects/page.tsx
'use client';

import React, { useMemo, useState } from 'react';
import { List, Card, Input, Select, Button, Drawer, Row, Col, Divider, Pagination, Tag } from 'antd';
import { PlusOutlined } from '@ant-design/icons';
import { useRouter } from 'next/navigation';

const { Search } = Input;
const { Option } = Select;

interface Project {
  id: string;
  name: string;
  description: string;
  owner: string;
  technologies: string[];
  domain: string;
  members: number;
  createdAt: string;
}

// Sample data (replace with API data when ready)
const sampleProjects: Project[] = [
  {
    id: '1',
    name: 'Project Alpha',
    description: 'An innovative project in renewable energy.',
    owner: 'Alice',
    technologies: ['React', 'Node.js'],
    domain: 'Energy',
    members: 8,
    createdAt: '2023-09-01',
  },
  {
    id: '2',
    name: 'Project Beta',
    description: 'A collaborative initiative for modern education.',
    owner: 'Bob',
    technologies: ['Next.js', 'Tailwind CSS'],
    domain: 'Education',
    members: 12,
    createdAt: '2023-09-02',
  },
  {
    id: '3',
    name: 'Project Gamma',
    description: 'Developing a disruptive fintech solution.',
    owner: 'Charlie',
    technologies: ['Angular', 'Firebase'],
    domain: 'Finance',
    members: 10,
    createdAt: '2023-08-28',
  },
  {
    id: '4',
    name: 'Project Delta',
    description: 'A marketing project aimed to improve brand engagement.',
    owner: 'Diana',
    technologies: ['Vue.js', 'SCSS'],
    domain: 'Marketing',
    members: 15,
    createdAt: '2023-09-03',
  },
  {
    id: '5',
    name: 'Project Epsilon',
    description: 'Design-focused project for innovative product development.',
    owner: 'Edward',
    technologies: ['Figma', 'Illustrator'],
    domain: 'Design',
    members: 5,
    createdAt: '2023-08-25',
  },
];

export default function BrowseProjectsPage() {
  const router = useRouter();

  const [drawerVisible, setDrawerVisible] = useState(false);
  const [selectedProject, setSelectedProject] = useState<Project | null>(null);

  // Filters & sort
  const [searchText, setSearchText] = useState('');
  const [selectedDomain, setSelectedDomain] = useState('All');
  const [selectedTechnology, setSelectedTechnology] = useState('All');
  const [sortCriteria, setSortCriteria] = useState<'newest' | 'mostMembers'>('newest');

  // Pagination
  const [currentPage, setCurrentPage] = useState(1);
  const pageSize = 5;

  // Filtered list
  const filteredProjects = useMemo(() => {
    return sampleProjects.filter((project) => {
      const matchesSearch =
        project.name.toLowerCase().includes(searchText.toLowerCase()) ||
        project.description.toLowerCase().includes(searchText.toLowerCase());
      const matchesDomain = selectedDomain === 'All' || project.domain === selectedDomain;
      const matchesTechnology =
        selectedTechnology === 'All' || project.technologies.includes(selectedTechnology);
      return matchesSearch && matchesDomain && matchesTechnology;
    });
  }, [searchText, selectedDomain, selectedTechnology]);

  // Sorted list
  const sortedProjects = useMemo(() => {
    return [...filteredProjects].sort((a, b) => {
      if (sortCriteria === 'newest') {
        return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();
      }
      if (sortCriteria === 'mostMembers') {
        return b.members - a.members;
      }
      return 0;
    });
  }, [filteredProjects, sortCriteria]);

  // Pagination slice
  const paginatedProjects = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize;
    return sortedProjects.slice(startIndex, startIndex + pageSize);
  }, [sortedProjects, currentPage]);

  // Drawer handlers
  const openDrawer = (project: Project) => {
    setSelectedProject(project);
    setDrawerVisible(true);
  };

  const closeDrawer = () => {
    setDrawerVisible(false);
    setSelectedProject(null);
  };

  return (
    <div className="container mx-auto p-5">
      {/* Header */}
      <h1 className="text-2xl font-bold mb-4">Browse Projects</h1>

      {/* Search & Filters */}
      <Row gutter={[16, 16]} className="mb-4">
        <Col xs={24} sm={12}>
          <Search
            placeholder="Search projects..."
            allowClear
            onSearch={(value) => {
              setSearchText(value);
              setCurrentPage(1);
            }}
          />
        </Col>
        <Col xs={24} sm={6}>
          <Select
            value={selectedDomain}
            style={{ width: '100%' }}
            onChange={(value) => {
              setSelectedDomain(value);
              setCurrentPage(1);
            }}
          >
            <Option value="All">All Domains</Option>
            <Option value="Energy">Energy</Option>
            <Option value="Education">Education</Option>
            <Option value="Finance">Finance</Option>
            <Option value="Marketing">Marketing</Option>
            <Option value="Design">Design</Option>
          </Select>
        </Col>
        <Col xs={24} sm={6}>
          <Select
            value={selectedTechnology}
            style={{ width: '100%' }}
            onChange={(value) => {
              setSelectedTechnology(value);
              setCurrentPage(1);
            }}
          >
            <Option value="All">All Technologies</Option>
            <Option value="React">React</Option>
            <Option value="Next.js">Next.js</Option>
            <Option value="Angular">Angular</Option>
            <Option value="Node.js">Node.js</Option>
            <Option value="Firebase">Firebase</Option>
            <Option value="Tailwind CSS">Tailwind CSS</Option>
            <Option value="Vue.js">Vue.js</Option>
          </Select>
        </Col>
      </Row>

      {/* Sort & Create */}
      <Row justify="space-between" align="middle" className="mb-4">
        <Col>
          <Select value={sortCriteria} onChange={(value) => setSortCriteria(value)}>
            <Option value="newest">Sort by Newest</Option>
            <Option value="mostMembers">Sort by Most Members</Option>
          </Select>
        </Col>
        <Col>
          <Button
            type="primary"
            icon={<PlusOutlined />}
            onClick={() => router.push('/keenkonnect/projects/create-new-project')}
          >
            Create New Project
          </Button>
        </Col>
      </Row>

      <Divider />

      {/* Projects */}
      <List
        grid={{ gutter: 16, xs: 1, sm: 2, md: 2, lg: 3, xl: 3 }}
        dataSource={paginatedProjects}
        renderItem={(project: Project) => (
          <List.Item key={project.id}>
            <Card
              hoverable
              title={project.name}
              extra={<span>{project.owner}</span>}
              actions={[
                <Button key="details" type="link" onClick={() => openDrawer(project)}>
                  View Details
                </Button>,
                <Button
                  key="join"
                  type="link"
                  onClick={() =>
                    router.push(`/keenkonnect/projects/request-join?id=${project.id}`)
                  }
                >
                  Request to Join
                </Button>,
              ]}
            >
              <p>{project.description}</p>
              <div>
                {project.technologies.map((tech, idx) => (
                  <Tag key={idx}>{tech}</Tag>
                ))}
              </div>
            </Card>
          </List.Item>
        )}
      />

      {/* Pagination */}
      <Row justify="center" className="mt-4">
        <Pagination
          current={currentPage}
          pageSize={pageSize}
          total={sortedProjects.length}
          onChange={(page) => setCurrentPage(page)}
          showSizeChanger={false}
        />
      </Row>

      {/* Drawer */}
      <Drawer
        title={selectedProject?.name}
        placement="right"
        onClose={closeDrawer}
        open={drawerVisible}
        width={400}
      >
        {selectedProject && (
          <div>
            <p>
              <strong>Owner:</strong> {selectedProject.owner}
            </p>
            <p>
              <strong>Description:</strong> {selectedProject.description}
            </p>
            <p>
              <strong>Domain:</strong> {selectedProject.domain}
            </p>
            <p>
              <strong>Technologies:</strong> {selectedProject.technologies.join(', ')}
            </p>
            <p>
              <strong>Members:</strong> {selectedProject.members}
            </p>
            <p>
              <strong>Created At:</strong> {selectedProject.createdAt}
            </p>
            <Divider />
            <Button
              type="primary"
              onClick={() =>
                router.push(`/keenkonnect/projects/request-join?id=${selectedProject.id}`)
              }
            >
              Request to Join
            </Button>
          </div>
        )}
      </Drawer>
    </div>
  );
}

===== END app/keenkonnect/projects/browse-projects/page.tsx =====


===== BEGIN app/keenkonnect/projects/create-new-project/page.tsx =====
'use client'

import React, { Suspense, useState } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Form, Input, Steps, Button, message, Upload, Select } from 'antd'
import type { UploadFile } from 'antd/es/upload/interface'
import api from '@/api'

const { Step } = Steps

export default function PageWrapper() {
  return (
    <Suspense fallback={null}>
      <>
        <Content />
      </>
    </Suspense>
  )
}

function Content() {
  const [form] = Form.useForm()
  const [currentStep, setCurrentStep] = useState(0)

  const steps = [
    { title: 'Basic Info' },
    { title: 'Team & Settings' },
    { title: 'Attachments' },
  ]

  const next = () => setCurrentStep((c) => c + 1)
  const prev = () => setCurrentStep((c) => c - 1)

  const renderStepContent = (step: number) => {
    switch (step) {
      case 0:
        return (
          <>
            <Form.Item
              label="Project Name"
              name="name"
              rules={[{ required: true }]}
            >
              <Input placeholder="Enter project name" />
            </Form.Item>

            <Form.Item label="Description" name="description">
              <Input.TextArea rows={4} />
            </Form.Item>
          </>
        )
      case 1:
        return (
          <>
            <Form.Item
              label="Team"
              name="team"
              rules={[{ required: true }]}
            >
              <Select
                placeholder="Select team"
                options={[
                  { label: 'Team Alpha', value: 'alpha' },
                  { label: 'Team Beta', value: 'beta' },
                ]}
              />
            </Form.Item>
          </>
        )
      case 2:
        return (
          <>
            <Form.Item label="Attachments" name="attachments">
              <Upload beforeUpload={() => false} multiple>
                <Button>Select Files</Button>
              </Upload>
            </Form.Item>
          </>
        )
    }
  }

  const onFinish = async (values: any) => {
    try {
      await api.post('/projects/create', values)
      message.success('Project created successfully!')
      form.resetFields()
      setCurrentStep(0)
    } catch (err) {
      console.error('Create project error:', err)
      message.error('Failed to create project.')
    }
  }

  return (
    <>
      <Head>
        <title>Create New Project – KeenKonnect</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Create New Project
      </h1>

      <Steps current={currentStep} style={{ marginBottom: 24 }}>
        {steps.map((step, i) => (
          <Step key={i} title={step.title} />
        ))}
      </Steps>

      <Form form={form} layout="vertical" onFinish={onFinish}>
        {renderStepContent(currentStep)}

        <div style={{ marginTop: 24 }}>
          {currentStep > 0 && (
            <Button style={{ marginRight: 8 }} onClick={prev}>
              Back
            </Button>
          )}

          {currentStep < steps.length - 1 ? (
            <Button type="primary" onClick={next}>
              Next
            </Button>
          ) : (
            <Button type="primary" htmlType="submit">
              Submit
            </Button>
          )}
        </div>
      </Form>
    </>
  )
}

===== END app/keenkonnect/projects/create-new-project/page.tsx =====


===== BEGIN app/keenkonnect/projects/create-new-project/page.tsx.bak =====
'use client'

import React, { Suspense, useState } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Form, Input, Steps, Button, message, Upload, Select } from 'antd'
import type { UploadFile } from 'antd/es/upload/interface'
import api from '@/api'

const { Step } = Steps

export default function PageWrapper() {
  return (
    <Suspense fallback={null}>
      <MainLayout>
        <Content />
      </MainLayout>
    </Suspense>
  )
}

function Content() {
  const [form] = Form.useForm()
  const [currentStep, setCurrentStep] = useState(0)

  const steps = [
    { title: 'Basic Info' },
    { title: 'Team & Settings' },
    { title: 'Attachments' },
  ]

  const next = () => setCurrentStep((c) => c + 1)
  const prev = () => setCurrentStep((c) => c - 1)

  const renderStepContent = (step: number) => {
    switch (step) {
      case 0:
        return (
          <>
            <Form.Item
              label="Project Name"
              name="name"
              rules={[{ required: true }]}
            >
              <Input placeholder="Enter project name" />
            </Form.Item>

            <Form.Item label="Description" name="description">
              <Input.TextArea rows={4} />
            </Form.Item>
          </>
        )
      case 1:
        return (
          <>
            <Form.Item
              label="Team"
              name="team"
              rules={[{ required: true }]}
            >
              <Select
                placeholder="Select team"
                options={[
                  { label: 'Team Alpha', value: 'alpha' },
                  { label: 'Team Beta', value: 'beta' },
                ]}
              />
            </Form.Item>
          </>
        )
      case 2:
        return (
          <>
            <Form.Item label="Attachments" name="attachments">
              <Upload beforeUpload={() => false} multiple>
                <Button>Select Files</Button>
              </Upload>
            </Form.Item>
          </>
        )
    }
  }

  const onFinish = async (values: any) => {
    try {
      await api.post('/projects/create', values)
      message.success('Project created successfully!')
      form.resetFields()
      setCurrentStep(0)
    } catch (err) {
      console.error('Create project error:', err)
      message.error('Failed to create project.')
    }
  }

  return (
    <>
      <Head>
        <title>Create New Project – KeenKonnect</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Create New Project
      </h1>

      <Steps current={currentStep} style={{ marginBottom: 24 }}>
        {steps.map((step, i) => (
          <Step key={i} title={step.title} />
        ))}
      </Steps>

      <Form form={form} layout="vertical" onFinish={onFinish}>
        {renderStepContent(currentStep)}

        <div style={{ marginTop: 24 }}>
          {currentStep > 0 && (
            <Button style={{ marginRight: 8 }} onClick={prev}>
              Back
            </Button>
          )}

          {currentStep < steps.length - 1 ? (
            <Button type="primary" onClick={next}>
              Next
            </Button>
          ) : (
            <Button type="primary" htmlType="submit">
              Submit
            </Button>
          )}
        </div>
      </Form>
    </>
  )
}

===== END app/keenkonnect/projects/create-new-project/page.tsx.bak =====


===== BEGIN app/keenkonnect/projects/my-projects/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import { Table, Card, Button, Row, Col, Select, Typography, Divider, Space, Tag } from 'antd';
import { EyeOutlined, EditOutlined, RocketOutlined, PlusOutlined } from '@ant-design/icons';
import type { ColumnsType } from 'antd/es/table';
import { useRouter } from 'next/navigation';

const { Title, Text } = Typography;

type ProjectStatus = 'draft' | 'active' | 'archived';

interface Project {
  id: string;
  name: string;
  owner: string;
  members: number;
  status: ProjectStatus;
  createdAt: string; // ISO date string
}

export default function MyProjectsPage(): JSX.Element {
  const router = useRouter();

  // TODO: remplacez par vos données réelles (fetch/SWR, etc.)
  const [projects] = useState<Project[]>([
    { id: 'p-1', name: 'Sustainable Plastics', owner: 'Alice', members: 8, status: 'active', createdAt: '2025-08-01' },
    { id: 'p-2', name: 'AI Team Matching', owner: 'Bob', members: 5, status: 'draft', createdAt: '2025-09-15' },
    { id: 'p-3', name: 'Energy Dashboard', owner: 'Clara', members: 12, status: 'archived', createdAt: '2025-02-10' },
  ]);

  const [statusFilter, setStatusFilter] = useState<ProjectStatus | 'all'>('all');

  const filtered: Project[] = useMemo(() => {
    if (statusFilter === 'all') return projects;
    return projects.filter((p) => p.status === statusFilter);
  }, [projects, statusFilter]);

  const handleView = (id: string): void => {
    router.push(`/keenkonnect/projects/${id}`);
  };

  const handleEdit = (id: string): void => {
    router.push(`/keenkonnect/projects/${id}/edit`);
  };

  const handleLaunch = (id: string): void => {
    router.push(`/keenkonnect/projects/${id}/launch`);
  };

  const columns: ColumnsType<Project> = [
    {
      title: 'Name',
      dataIndex: 'name',
      key: 'name',
      render: (value: string, record: Project): React.ReactNode => (
        <Space>
          <Text strong>{value}</Text>
          <Tag>{record.members} members</Tag>
        </Space>
      ),
    },
    {
      title: 'Owner',
      dataIndex: 'owner',
      key: 'owner',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
      render: (value: ProjectStatus): React.ReactNode => <Tag>{value}</Tag>,
    },
    {
      title: 'Created',
      dataIndex: 'createdAt',
      key: 'createdAt',
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: unknown, record: Project): React.ReactNode => (
        <Space>
          <Button icon={<EyeOutlined />} onClick={() => handleView(record.id)}>
            View
          </Button>
          <Button icon={<EditOutlined />} onClick={() => handleEdit(record.id)}>
            Edit
          </Button>
          <Button type="primary" icon={<RocketOutlined />} onClick={() => handleLaunch(record.id)}>
            Launch
          </Button>
        </Space>
      ),
    },
  ];

  return (
    <div>
      <Row justify="space-between" align="middle">
        <Col>
          <Title level={2}>My Projects</Title>
        </Col>
        <Col>
          <Button
            type="primary"
            icon={<PlusOutlined />}
            onClick={() => router.push('/keenkonnect/projects/create-new-project')}
          >
            Create New Project
          </Button>
        </Col>
      </Row>

      <Divider />

      <Card bordered={false}>
        <Row gutter={[16, 16]} align="middle" style={{ marginBottom: 16 }}>
          <Col>
            <Text>Status:</Text>
          </Col>
          <Col>
            <Select<ProjectStatus | 'all'>
              value={statusFilter}
              onChange={(v: ProjectStatus | 'all') => setStatusFilter(v)}
              style={{ width: 180 }}
            >
              <Select.Option value="all">All</Select.Option>
              <Select.Option value="draft">Draft</Select.Option>
              <Select.Option value="active">Active</Select.Option>
              <Select.Option value="archived">Archived</Select.Option>
            </Select>
          </Col>
        </Row>

        <Table<Project>
          rowKey={(record: Project) => record.id}
          dataSource={filtered}
          columns={columns}
          pagination={{ pageSize: 10 }}
        />
      </Card>
    </div>
  );
}

===== END app/keenkonnect/projects/my-projects/page.tsx =====


===== BEGIN app/keenkonnect/projects/project-workspace/page.tsx =====
'use client'

import React, { Suspense, useEffect, useState } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Card, Row, Col, Spin, List } from 'antd'
import api from '@/api'

export default function PageWrapper() {
  return (
    <Suspense fallback={<Spin style={{ marginTop: 40 }} />}>
      <>
        <Content />
      </>
    </Suspense>
  )
}

function Content() {
  const [loading, setLoading] = useState(true)
  const [workspace, setWorkspace] = useState<any>(null)

  useEffect(() => {
    const load = async () => {
      try {
        const res = await api.get('/projects/workspace')
        setWorkspace(res)
      } catch (err) {
        console.error('Workspace load error:', err)
      } finally {
        setLoading(false)
      }
    }
    load()
  }, [])

  if (loading) {
    return (
      <div style={{ padding: 40, textAlign: 'center' }}>
        <Spin size="large" />
      </div>
    )
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Project Workspace</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Project Workspace
      </h1>

      <Row gutter={[24, 24]}>
        <Col xs={24} md={16}>
          <Card title="Tasks">
            <List
              dataSource={workspace?.tasks ?? []}
              renderItem={(item: any) => (
                <List.Item>
                  <div>{item.title}</div>
                </List.Item>
              )}
            />
          </Card>
        </Col>

        <Col xs={24} md={8}>
          <Card title="Team Members">
            <List
              dataSource={workspace?.members ?? []}
              renderItem={(item: any) => (
                <List.Item>
                  <div>{item.name}</div>
                </List.Item>
              )}
            />
          </Card>
        </Col>
      </Row>
    </>
  )
}

===== END app/keenkonnect/projects/project-workspace/page.tsx =====


===== BEGIN app/keenkonnect/projects/project-workspace/page.tsx.bak =====
'use client'

import React, { Suspense, useEffect, useState } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Card, Row, Col, Spin, List } from 'antd'
import api from '@/api'

export default function PageWrapper() {
  return (
    <Suspense fallback={<Spin style={{ marginTop: 40 }} />}>
      <MainLayout>
        <Content />
      </MainLayout>
    </Suspense>
  )
}

function Content() {
  const [loading, setLoading] = useState(true)
  const [workspace, setWorkspace] = useState<any>(null)

  useEffect(() => {
    const load = async () => {
      try {
        const res = await api.get('/projects/workspace')
        setWorkspace(res)
      } catch (err) {
        console.error('Workspace load error:', err)
      } finally {
        setLoading(false)
      }
    }
    load()
  }, [])

  if (loading) {
    return (
      <div style={{ padding: 40, textAlign: 'center' }}>
        <Spin size="large" />
      </div>
    )
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Project Workspace</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Project Workspace
      </h1>

      <Row gutter={[24, 24]}>
        <Col xs={24} md={16}>
          <Card title="Tasks">
            <List
              dataSource={workspace?.tasks ?? []}
              renderItem={(item: any) => (
                <List.Item>
                  <div>{item.title}</div>
                </List.Item>
              )}
            />
          </Card>
        </Col>

        <Col xs={24} md={8}>
          <Card title="Team Members">
            <List
              dataSource={workspace?.members ?? []}
              renderItem={(item: any) => (
                <List.Item>
                  <div>{item.name}</div>
                </List.Item>
              )}
            />
          </Card>
        </Col>
      </Row>
    </>
  )
}

===== END app/keenkonnect/projects/project-workspace/page.tsx.bak =====


===== BEGIN app/keenkonnect/sustainability-impact/submit-impact-reports/page.tsx =====
'use client'

import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Form, Input, DatePicker, Select, Upload, Button, Card, message } from 'antd'
import type { UploadFile } from 'antd/es/upload/interface'
import api from '@/api'
import dayjs from 'dayjs'
import { UploadOutlined } from '@ant-design/icons'

export default function PageWrapper() {
  return (
    <Suspense fallback={null}>
      <>
        <Content />
      </>
    </Suspense>
  )
}

function Content() {
  const [form] = Form.useForm()

  const submitReport = async (values: any) => {
    try {
      await api.post('/impact/sustainability/report', {
        ...values,
        date: values.date.format('YYYY-MM-DD'),
      })
      message.success('Impact report submitted successfully!')
      form.resetFields()
    } catch (err) {
      console.error('Submit impact report error:', err)
      message.error('Failed to submit report')
    }
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Submit Impact Report</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Submit Impact Report
      </h1>

      <Card>
        <Form
          form={form}
          layout="vertical"
          onFinish={submitReport}
          initialValues={{
            date: dayjs(),
          }}
        >
          <Form.Item label="Project" name="project" rules={[{ required: true }]}>
            <Select
              placeholder="Select the project"
              options={[
                { label: 'Project A', value: 'project-a' },
                { label: 'Project B', value: 'project-b' },
              ]}
            />
          </Form.Item>

          <Form.Item label="Date" name="date" rules={[{ required: true }]}>
            <DatePicker style={{ width: '100%' }} />
          </Form.Item>

          <Form.Item label="Category" name="category" rules={[{ required: true }]}>
            <Select
              placeholder="Impact category"
              options={[
                { label: 'Environment', value: 'environment' },
                { label: 'Social', value: 'social' },
                { label: 'Governance', value: 'governance' },
              ]}
            />
          </Form.Item>

          <Form.Item
            label="Description"
            name="description"
            rules={[{ required: true }]}
          >
            <Input.TextArea rows={4} placeholder="Describe the impact..." />
          </Form.Item>

          <Form.Item label="Attachments" name="attachments">
            <Upload multiple beforeUpload={() => false}>
              <Button icon={<UploadOutlined />}>Upload Files</Button>
            </Upload>
          </Form.Item>

          <Form.Item>
            <Button type="primary" htmlType="submit" style={{ marginTop: 12 }}>
              Submit Report
            </Button>
          </Form.Item>
        </Form>
      </Card>
    </>
  )
}

===== END app/keenkonnect/sustainability-impact/submit-impact-reports/page.tsx =====


===== BEGIN app/keenkonnect/sustainability-impact/submit-impact-reports/page.tsx.bak =====
'use client'

import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Form, Input, DatePicker, Select, Upload, Button, Card, message } from 'antd'
import type { UploadFile } from 'antd/es/upload/interface'
import api from '@/api'
import dayjs from 'dayjs'
import { UploadOutlined } from '@ant-design/icons'

export default function PageWrapper() {
  return (
    <Suspense fallback={null}>
      <MainLayout>
        <Content />
      </MainLayout>
    </Suspense>
  )
}

function Content() {
  const [form] = Form.useForm()

  const submitReport = async (values: any) => {
    try {
      await api.post('/impact/sustainability/report', {
        ...values,
        date: values.date.format('YYYY-MM-DD'),
      })
      message.success('Impact report submitted successfully!')
      form.resetFields()
    } catch (err) {
      console.error('Submit impact report error:', err)
      message.error('Failed to submit report')
    }
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Submit Impact Report</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Submit Impact Report
      </h1>

      <Card>
        <Form
          form={form}
          layout="vertical"
          onFinish={submitReport}
          initialValues={{
            date: dayjs(),
          }}
        >
          <Form.Item label="Project" name="project" rules={[{ required: true }]}>
            <Select
              placeholder="Select the project"
              options={[
                { label: 'Project A', value: 'project-a' },
                { label: 'Project B', value: 'project-b' },
              ]}
            />
          </Form.Item>

          <Form.Item label="Date" name="date" rules={[{ required: true }]}>
            <DatePicker style={{ width: '100%' }} />
          </Form.Item>

          <Form.Item label="Category" name="category" rules={[{ required: true }]}>
            <Select
              placeholder="Impact category"
              options={[
                { label: 'Environment', value: 'environment' },
                { label: 'Social', value: 'social' },
                { label: 'Governance', value: 'governance' },
              ]}
            />
          </Form.Item>

          <Form.Item
            label="Description"
            name="description"
            rules={[{ required: true }]}
          >
            <Input.TextArea rows={4} placeholder="Describe the impact..." />
          </Form.Item>

          <Form.Item label="Attachments" name="attachments">
            <Upload multiple beforeUpload={() => false}>
              <Button icon={<UploadOutlined />}>Upload Files</Button>
            </Upload>
          </Form.Item>

          <Form.Item>
            <Button type="primary" htmlType="submit" style={{ marginTop: 12 }}>
              Submit Report
            </Button>
          </Form.Item>
        </Form>
      </Card>
    </>
  )
}

===== END app/keenkonnect/sustainability-impact/submit-impact-reports/page.tsx.bak =====


===== BEGIN app/keenkonnect/sustainability-impact/sustainability-dashboard/page.tsx =====
'use client'

import React, { Suspense, useEffect, useState } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Row, Col, Card, Spin } from 'antd'
import {
  PieChart,
  Pie,
  Cell,
  Tooltip as ReTooltip,
  ResponsiveContainer,
} from 'recharts'
import api from '@/api'

export default function PageWrapper() {
  return (
    <Suspense fallback={<Spin style={{ marginTop: 40 }} />}>
      <>
        <Content />
      </>
    </Suspense>
  )
}

function Content() {
  const [loading, setLoading] = useState(true)
  const [stats, setStats] = useState<any>(null)

  useEffect(() => {
    const load = async () => {
      try {
        const res = await api.get('/impact/sustainability/dashboard')
        setStats(res ?? {})
      } catch (err) {
        console.error('Sustainability dashboard load error:', err)
      } finally {
        setLoading(false)
      }
    }

    load()
  }, [])

  if (loading) {
    return (
      <div style={{ padding: 50, textAlign: 'center' }}>
        <Spin size="large" />
      </div>
    )
  }

  const COLORS = ['#4e91ff', '#34c759', '#ff9f0a', '#ff375f', '#af52de']

  return (
    <>
      <Head>
        <title>KeenKonnect – Sustainability Dashboard</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Sustainability Dashboard
      </h1>

      <Row gutter={[24, 24]}>
        <Col xs={24} md={12}>
          <Card title="Total Impact Reports">
            <div style={{ fontSize: 32, fontWeight: 700 }}>
              {stats?.total_reports ?? 0}
            </div>
          </Card>
        </Col>

        <Col xs={24} md={12}>
          <Card title="Impact Category Distribution">
            <ResponsiveContainer width="100%" height={280}>
              <PieChart>
                <Pie
                  data={stats?.distribution ?? []}
                  dataKey="value"
                  nameKey="name"
                  outerRadius={110}
                >
                  {(stats?.distribution ?? []).map((_: any, i: number) => (
                    <Cell key={i} fill={COLORS[i % COLORS.length]} />
                  ))}
                </Pie>
                <ReTooltip />
              </PieChart>
            </ResponsiveContainer>
          </Card>
        </Col>
      </Row>
    </>
  )
}

===== END app/keenkonnect/sustainability-impact/sustainability-dashboard/page.tsx =====


===== BEGIN app/keenkonnect/sustainability-impact/sustainability-dashboard/page.tsx.bak =====
'use client'

import React, { Suspense, useEffect, useState } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Row, Col, Card, Spin } from 'antd'
import {
  PieChart,
  Pie,
  Cell,
  Tooltip as ReTooltip,
  ResponsiveContainer,
} from 'recharts'
import api from '@/api'

export default function PageWrapper() {
  return (
    <Suspense fallback={<Spin style={{ marginTop: 40 }} />}>
      <MainLayout>
        <Content />
      </MainLayout>
    </Suspense>
  )
}

function Content() {
  const [loading, setLoading] = useState(true)
  const [stats, setStats] = useState<any>(null)

  useEffect(() => {
    const load = async () => {
      try {
        const res = await api.get('/impact/sustainability/dashboard')
        setStats(res ?? {})
      } catch (err) {
        console.error('Sustainability dashboard load error:', err)
      } finally {
        setLoading(false)
      }
    }

    load()
  }, [])

  if (loading) {
    return (
      <div style={{ padding: 50, textAlign: 'center' }}>
        <Spin size="large" />
      </div>
    )
  }

  const COLORS = ['#4e91ff', '#34c759', '#ff9f0a', '#ff375f', '#af52de']

  return (
    <>
      <Head>
        <title>KeenKonnect – Sustainability Dashboard</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Sustainability Dashboard
      </h1>

      <Row gutter={[24, 24]}>
        <Col xs={24} md={12}>
          <Card title="Total Impact Reports">
            <div style={{ fontSize: 32, fontWeight: 700 }}>
              {stats?.total_reports ?? 0}
            </div>
          </Card>
        </Col>

        <Col xs={24} md={12}>
          <Card title="Impact Category Distribution">
            <ResponsiveContainer width="100%" height={280}>
              <PieChart>
                <Pie
                  data={stats?.distribution ?? []}
                  dataKey="value"
                  nameKey="name"
                  outerRadius={110}
                >
                  {(stats?.distribution ?? []).map((_: any, i: number) => (
                    <Cell key={i} fill={COLORS[i % COLORS.length]} />
                  ))}
                </Pie>
                <ReTooltip />
              </PieChart>
            </ResponsiveContainer>
          </Card>
        </Col>
      </Row>
    </>
  )
}

===== END app/keenkonnect/sustainability-impact/sustainability-dashboard/page.tsx.bak =====


===== BEGIN app/keenkonnect/sustainability-impact/track-project-impact/page.tsx =====
'use client'

import React, { Suspense, useState, useEffect, useMemo } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Row, Col, Card, DatePicker, Select, Spin } from 'antd'
import { PieChart, Pie, Cell, Tooltip as ReTooltip, ResponsiveContainer } from 'recharts'
import api from '@/api'
import dayjs from 'dayjs'

const { RangePicker } = DatePicker

export default function PageWrapper() {
  return (
    <Suspense fallback={<Spin style={{ marginTop: 40 }} />}>
      <>
        <Content />
      </>
    </Suspense>
  )
}

function Content() {
  const [loading, setLoading] = useState(true)
  const [filters, setFilters] = useState({
    from: dayjs().subtract(7, 'days').format('YYYY-MM-DD'),
    to: dayjs().format('YYYY-MM-DD'),
    team: undefined as string | undefined,
  })

  const [impactData, setImpactData] = useState<any[]>([])

  useEffect(() => {
    const load = async () => {
      try {
        const res = await api.get('/impact/sustainability/track', {
          params: {
            fromDate: filters.from,
            toDate: filters.to,
            team: filters.team,
          },
        })
        setImpactData(res || [])
      } catch (err) {
        console.error('Track impact load error:', err)
      } finally {
        setLoading(false)
      }
    }

    load()
  }, [filters])

  const COLORS = ['#3f87ff', '#34c759', '#ff9f0a', '#ff375f', '#af52de']

  const chartData = useMemo(() => {
    if (!impactData || !impactData.length) return []
    return impactData.map((item: any) => ({
      name: item.category,
      value: item.value,
    }))
  }, [impactData])

  if (loading) {
    return (
      <div style={{ textAlign: 'center', padding: 40 }}>
        <Spin size="large" />
      </div>
    )
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Track Project Impact</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Track Project Impact
      </h1>

      <Card style={{ marginBottom: 24 }}>
        <Row gutter={24}>
          <Col xs={24} md={12}>
            <RangePicker
              defaultValue={[dayjs(filters.from), dayjs(filters.to)]}
              style={{ width: '100%' }}
              onChange={(range) => {
                if (!range) return
                setFilters((f) => ({
                  ...f,
                  from: range[0].format('YYYY-MM-DD'),
                  to: range[1].format('YYYY-MM-DD'),
                }))
              }}
            />
          </Col>

          <Col xs={24} md={12}>
            <Select
              placeholder="Filter by team"
              style={{ width: '100%' }}
              allowClear
              onChange={(v) => setFilters((f) => ({ ...f, team: v || undefined }))}
              options={[
                { label: 'Team A', value: 'team-a' },
                { label: 'Team B', value: 'team-b' },
                { label: 'Team C', value: 'team-c' },
              ]}
            />
          </Col>
        </Row>
      </Card>

      <Card>
        <ResponsiveContainer width="100%" height={340}>
          <PieChart>
            <Pie
              data={chartData}
              dataKey="value"
              nameKey="name"
              cx="50%"
              cy="50%"
              outerRadius={110}
            >
              {chartData.map((_: any, i: number) => (
                <Cell key={i} fill={COLORS[i % COLORS.length]} />
              ))}
            </Pie>
            <ReTooltip />
          </PieChart>
        </ResponsiveContainer>
      </Card>
    </>
  )
}

===== END app/keenkonnect/sustainability-impact/track-project-impact/page.tsx =====


===== BEGIN app/keenkonnect/sustainability-impact/track-project-impact/page.tsx.bak =====
'use client'

import React, { Suspense, useState, useEffect, useMemo } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import { Row, Col, Card, DatePicker, Select, Spin } from 'antd'
import { PieChart, Pie, Cell, Tooltip as ReTooltip, ResponsiveContainer } from 'recharts'
import api from '@/api'
import dayjs from 'dayjs'

const { RangePicker } = DatePicker

export default function PageWrapper() {
  return (
    <Suspense fallback={<Spin style={{ marginTop: 40 }} />}>
      <MainLayout>
        <Content />
      </MainLayout>
    </Suspense>
  )
}

function Content() {
  const [loading, setLoading] = useState(true)
  const [filters, setFilters] = useState({
    from: dayjs().subtract(7, 'days').format('YYYY-MM-DD'),
    to: dayjs().format('YYYY-MM-DD'),
    team: undefined as string | undefined,
  })

  const [impactData, setImpactData] = useState<any[]>([])

  useEffect(() => {
    const load = async () => {
      try {
        const res = await api.get('/impact/sustainability/track', {
          params: {
            fromDate: filters.from,
            toDate: filters.to,
            team: filters.team,
          },
        })
        setImpactData(res || [])
      } catch (err) {
        console.error('Track impact load error:', err)
      } finally {
        setLoading(false)
      }
    }

    load()
  }, [filters])

  const COLORS = ['#3f87ff', '#34c759', '#ff9f0a', '#ff375f', '#af52de']

  const chartData = useMemo(() => {
    if (!impactData || !impactData.length) return []
    return impactData.map((item: any) => ({
      name: item.category,
      value: item.value,
    }))
  }, [impactData])

  if (loading) {
    return (
      <div style={{ textAlign: 'center', padding: 40 }}>
        <Spin size="large" />
      </div>
    )
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Track Project Impact</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Track Project Impact
      </h1>

      <Card style={{ marginBottom: 24 }}>
        <Row gutter={24}>
          <Col xs={24} md={12}>
            <RangePicker
              defaultValue={[dayjs(filters.from), dayjs(filters.to)]}
              style={{ width: '100%' }}
              onChange={(range) => {
                if (!range) return
                setFilters((f) => ({
                  ...f,
                  from: range[0].format('YYYY-MM-DD'),
                  to: range[1].format('YYYY-MM-DD'),
                }))
              }}
            />
          </Col>

          <Col xs={24} md={12}>
            <Select
              placeholder="Filter by team"
              style={{ width: '100%' }}
              allowClear
              onChange={(v) => setFilters((f) => ({ ...f, team: v || undefined }))}
              options={[
                { label: 'Team A', value: 'team-a' },
                { label: 'Team B', value: 'team-b' },
                { label: 'Team C', value: 'team-c' },
              ]}
            />
          </Col>
        </Row>
      </Card>

      <Card>
        <ResponsiveContainer width="100%" height={340}>
          <PieChart>
            <Pie
              data={chartData}
              dataKey="value"
              nameKey="name"
              cx="50%"
              cy="50%"
              outerRadius={110}
            >
              {chartData.map((_: any, i: number) => (
                <Cell key={i} fill={COLORS[i % COLORS.length]} />
              ))}
            </Pie>
            <ReTooltip />
          </PieChart>
        </ResponsiveContainer>
      </Card>
    </>
  )
}

===== END app/keenkonnect/sustainability-impact/track-project-impact/page.tsx.bak =====


===== BEGIN app/keenkonnect/user-reputation/account-preferences/page.tsx =====
﻿'use client'

import React, { useState } from "react";
import {
  Tabs,
  Form,
  Input,
  Button,
  Upload,
  Modal,
  Switch,
  Radio,
  message as antdMessage,
} from "antd";
import { UploadOutlined } from "@ant-design/icons";
import PageContainer from "@/components/PageContainer";

const { TabPane } = Tabs;

export default function AccountPreferencesPage() {
  const [isModalVisible, setIsModalVisible] = useState(false);

  // Modal handlers
  const showDeleteModal = () => {
    setIsModalVisible(true);
  };

  const handleDeleteCancel = () => {
    setIsModalVisible(false);
  };

  const handleDeleteConfirm = () => {
    // Appel API éventuel pour suppression de compte
    antdMessage.success("Account deletion requested.");
    setIsModalVisible(false);
  };

  // Form handlers
  const onFinishProfile = (values: any) => {
    console.log("Profile Info:", values);
    antdMessage.success("Profile info saved.");
  };

  const onFinishSecurity = (values: any) => {
    console.log("Security Info:", values);
    antdMessage.success("Security info saved.");
  };

  const onFinishNotifications = (values: any) => {
    console.log("Notifications Settings:", values);
    antdMessage.success("Notifications settings saved.");
  };

  const onFinishPrivacy = (values: any) => {
    console.log("Privacy Settings:", values);
    antdMessage.success("Privacy settings saved.");
  };

  return (
    <PageContainer title="Account & Preferences">
      <Tabs defaultActiveKey="profile">
        {/* ===== Profile Info ===== */}
        <TabPane tab="Profile Info" key="profile">
          <Form
            layout="vertical"
            onFinish={onFinishProfile}
            initialValues={{ name: "John Doe", email: "john.doe@example.com" }}
          >
            <Form.Item
              label="Name"
              name="name"
              rules={[{ required: true, message: "Please enter your name" }]}
            >
              <Input />
            </Form.Item>
            <Form.Item label="Email" name="email">
              <Input readOnly />
            </Form.Item>
            <Form.Item label="Profile Picture" name="avatar">
              <Upload name="avatar" listType="picture" showUploadList={false}>
                <Button icon={<UploadOutlined />}>Click to Upload</Button>
              </Upload>
            </Form.Item>
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Profile
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Security ===== */}
        <TabPane tab="Security" key="security">
          <Form layout="vertical" onFinish={onFinishSecurity}>
            <Form.Item
              label="Current Password"
              name="currentPassword"
              rules={[{ required: true, message: "Please enter your current password" }]}
            >
              <Input.Password />
            </Form.Item>
            <Form.Item
              label="New Password"
              name="newPassword"
              rules={[{ required: true, message: "Please enter your new password" }]}
            >
              <Input.Password />
            </Form.Item>
            <Form.Item
              label="Confirm New Password"
              name="confirmNewPassword"
              dependencies={["newPassword"]}
              rules={[
                { required: true, message: "Please confirm your new password" },
                ({ getFieldValue }) => ({
                  validator(_, value) {
                    if (!value || getFieldValue("newPassword") === value) {
                      return Promise.resolve();
                    }
                    return Promise.reject(new Error("The two passwords do not match!"));
                  },
                }),
              ]}
            >
              <Input.Password />
            </Form.Item>
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Security Settings
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Notifications ===== */}
        <TabPane tab="Notifications" key="notifications">
          <Form
            layout="vertical"
            onFinish={onFinishNotifications}
            initialValues={{ teamInvites: true, emailUpdates: false }}
          >
            <Form.Item label="Team Invites" name="teamInvites" valuePropName="checked">
              <Switch />
            </Form.Item>
            <Form.Item label="Email Updates" name="emailUpdates" valuePropName="checked">
              <Switch />
            </Form.Item>
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Notification Settings
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Privacy ===== */}
        <TabPane tab="Privacy" key="privacy">
          <Form
            layout="vertical"
            onFinish={onFinishPrivacy}
            initialValues={{ visibility: "public" }}
          >
            <Form.Item label="Profile Visibility" name="visibility">
              <Radio.Group>
                <Radio value="public">Public</Radio>
                <Radio value="private">Private</Radio>
              </Radio.Group>
            </Form.Item>
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Privacy Settings
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Danger Zone ===== */}
        <TabPane tab="Danger Zone" key="danger">
          <div
            style={{
              padding: "16px",
              background: "#fff",
              border: "1px solid #f0f0f0",
              borderRadius: "4px",
            }}
          >
            <p style={{ color: "red", fontWeight: "bold" }}>
              Warning: Deleting your account is irreversible. Please proceed with caution.
            </p>
            <Button type="primary" danger onClick={showDeleteModal}>
              Delete Account
            </Button>
            <Modal
              title="Confirm Account Deletion"
              open={isModalVisible}
              onOk={handleDeleteConfirm}
              onCancel={handleDeleteCancel}
              okText="Delete"
              okButtonProps={{ danger: true }}
            >
              <p>Are you sure you want to delete your account? This action cannot be undone.</p>
            </Modal>
          </div>
        </TabPane>
      </Tabs>
    </PageContainer>
  );
}

===== END app/keenkonnect/user-reputation/account-preferences/page.tsx =====


===== BEGIN app/keenkonnect/user-reputation/account-preferences/page.tsx.bak =====
'use client'

// File: /pages/keenkonnect/user-reputation/account-preferences.tsx
import React, { useState } from "react";
import { NextPage } from "next";
import { Tabs,
  Form,
  Input,
  Button,
  Upload,
  Modal,
  Switch,
  Radio,
  message as antdMessage
 } from 'antd';
import { UploadOutlined } from "@ant-design/icons";
import PageContainer from "@/components/PageContainer";
// Ajout de l'import de MainLayout pour appliquer le layout global
import MainLayout from "@/components/layout-components/MainLayout";

const { TabPane } = Tabs;

const AccountPreferencesPage: NextPage = () => {
  // État pour gérer la visibilité du Modal de suppression de compte
  const [isModalVisible, setIsModalVisible] = useState(false);

  // Gestion des événements liés au Modal de suppression
  const showDeleteModal = () => {
    setIsModalVisible(true);
  const handleDeleteCancel = () => {
    setIsModalVisible(false);
  const handleDeleteConfirm = () => {
    // Ici, vous appellerez éventuellement une API pour la suppression de compte
    antdMessage.success("Account deletion requested.");
    setIsModalVisible(false);

  // Gestion des soumissions de formulaire pour chaque section
  const onFinishProfile = (values: any) => {
    console.log("Profile Info:", values);
    antdMessage.success("Profile info saved.");

  const onFinishSecurity = (values: any) => {
    console.log("Security Info:", values);
    antdMessage.success("Security info saved.");

  const onFinishNotifications = (values: any) => {
    console.log("Notifications Settings:", values);
    antdMessage.success("Notifications settings saved.");

  const onFinishPrivacy = (values: any) => {
    console.log("Privacy Settings:", values);
    antdMessage.success("Privacy settings saved.");

  return (
    <PageContainer title="Account & Preferences">
      <Tabs defaultActiveKey="profile">
        {/* ===== Section Profile Info ===== */}
        <TabPane tab="Profile Info" key="profile">
          <Form
            layout="vertical"
            onFinish={onFinishProfile}
            initialValues={{
              name: "John Doe",
              email: "john.doe@example.com",
            }}
          >
            <Form.Item
              label="Name"
              name="name"
              rules={[{ required: true, message: "Please enter your name" }]}
            >
              <Input />
            </Form.Item>
            <Form.Item label="Email" name="email">
              <Input readOnly />
            </Form.Item>
            <Form.Item label="Profile Picture" name="avatar">
              <Upload name="avatar" listType="picture" showUploadList={false}>
                <Button icon={<UploadOutlined />}>Click to Upload</Button>
              </Upload>
            </Form.Item>
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Profile
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Section Security ===== */}
        <TabPane tab="Security" key="security">
          <Form layout="vertical" onFinish={onFinishSecurity}>
            <Form.Item
              label="Current Password"
              name="currentPassword"
              rules={[{ required: true, message: "Please enter your current password" }]}
            >
              <Input.Password />
            </Form.Item>
            <Form.Item
              label="New Password"
              name="newPassword"
              rules={[{ required: true, message: "Please enter your new password" }]}
            >
              <Input.Password />
            </Form.Item>
            <Form.Item
              label="Confirm New Password"
              name="confirmNewPassword"
              dependencies={["newPassword"]}
              rules={[
                { required: true, message: "Please confirm your new password" },
                ({ getFieldValue }) => ({
                  validator(_, value) {
                    if (!value || getFieldValue("newPassword") === value) {
                      return Promise.resolve();
                    }
                    return Promise.reject("The two passwords do not match!");
                  },
                }),
              ]}
            >
              <Input.Password />
            </Form.Item>
            {/* Vous pouvez ajouter ici des paramètres 2FA si nécessaire */}
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Security Settings
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Section Notifications ===== */}
        <TabPane tab="Notifications" key="notifications">
          <Form
            layout="vertical"
            onFinish={onFinishNotifications}
            initialValues={{ teamInvites: true, emailUpdates: false }}
          >
            <Form.Item
              label="Team Invites"
              name="teamInvites"
              valuePropName="checked"
            >
              <Switch />
            </Form.Item>
            <Form.Item
              label="Email Updates"
              name="emailUpdates"
              valuePropName="checked"
            >
              <Switch />
            </Form.Item>
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Notification Settings
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Section Privacy ===== */}
        <TabPane tab="Privacy" key="privacy">
          <Form
            layout="vertical"
            onFinish={onFinishPrivacy}
            initialValues={{ visibility: "public" }}
          >
            <Form.Item label="Profile Visibility" name="visibility">
              <Radio.Group>
                <Radio value="public">Public</Radio>
                <Radio value="private">Private</Radio>
              </Radio.Group>
            </Form.Item>
            <Form.Item>
              <Button type="primary" htmlType="submit">
                Save Privacy Settings
              </Button>
            </Form.Item>
          </Form>
        </TabPane>

        {/* ===== Section Danger Zone ===== */}
        <TabPane tab="Danger Zone" key="danger">
          <div
            style={{
              padding: "16px",
              background: "#fff",
              border: "1px solid #f0f0f0",
              borderRadius: "4px",
            }}
          >
            <p style={{ color: "red", fontWeight: "bold" }}>
              Warning: Deleting your account is irreversible. Please proceed with caution.
            </p>
            <Button type="primary" danger onClick={showDeleteModal}>
              Delete Account
            </Button>
            <Modal
              title="Confirm Account Deletion"
              open={isModalVisible}
              onOk={handleDeleteConfirm}
              onCancel={handleDeleteCancel}
              okText="Delete"
              okButtonProps={{ danger: true }}
            >
              <p>Are you sure you want to delete your account? This action cannot be undone.</p>
            </Modal>
          </div>
        </TabPane>
      </Tabs>
    </PageContainer>
  );

// Correction : envelopper la page dans MainLayout via la fonction getLayout

  return <MainLayout>{page}</MainLayout>;

export default AccountPreferencesPage;
}}}}}}}}

===== END app/keenkonnect/user-reputation/account-preferences/page.tsx.bak =====


===== BEGIN app/keenkonnect/user-reputation/manage-expertise-areas/page.tsx =====
﻿'use client';

import React from 'react';
import { Form, Checkbox, Select, Button, Alert, Divider } from 'antd';
import PageContainer from '@/components/PageContainer';

type FormValues = {
  currentExpertise: string[];
  newExpertise?: string[];
  newFields?: string[];
  visibility: 'public' | 'team-only' | 'private';
};

const expertiseOptions: string[] = [
  'Frontend Development',
  'UI/UX Design',
  'Data Science',
  'DevOps',
  'Mobile Development',
  'QA',
  'Project Management',
];

const currentExpertiseInitial: string[] = ['Frontend Development', 'UI/UX Design'];

const selectableFields: string[] = ['React', 'TypeScript', 'Figma', 'GraphQL', 'Node.js'];

const visibilityLevels = [
  { label: 'Public', value: 'public' as const },
  { label: 'Team only', value: 'team-only' as const },
  { label: 'Private', value: 'private' as const },
];

export default function Page(): JSX.Element {
  const [form] = Form.useForm<FormValues>();

  const onFinish = (values: FormValues) => {
    console.log('Manage Expertise Areas - submit:', values);
  };

  return (
    <PageContainer title="Manage Expertise Areas">
      <Divider orientation="left">Your current expertise</Divider>

      <Form
        form={form}
        layout="vertical"
        initialValues={{
          currentExpertise: currentExpertiseInitial,
          visibility: 'team-only',
          newFields: [],
        }}
        onFinish={onFinish}
      >
        <Form.Item
          name="currentExpertise"
          label="Current expertise"
          rules={[{ required: true, message: 'Please select at least one expertise.' }]}
        >
          <Checkbox.Group options={expertiseOptions} />
        </Form.Item>

        <Form.Item name="newFields" label="Select new fields (optional)">
          <Select
            mode="multiple"
            allowClear
            placeholder="Select fields…"
            options={selectableFields.map((f) => ({ label: f, value: f }))}
          />
        </Form.Item>

        <Form.Item
          name="visibility"
          label="Visibility"
          rules={[{ required: true, message: 'Please choose a visibility level.' }]}
        >
          <Select placeholder="Choose visibility…" options={visibilityLevels} />
        </Form.Item>

        <Alert
          message="Note: Adding an expertise may require validation through contributions."
          type="info"
          showIcon
          style={{ marginBottom: 16 }}
        />

        <Form.Item>
          <Button type="primary" htmlType="submit">
            Save Changes
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
}

===== END app/keenkonnect/user-reputation/manage-expertise-areas/page.tsx =====


===== BEGIN app/keenkonnect/user-reputation/view-reputation-ekoh/page.tsx =====
'use client';

import React from 'react';
import { Card, Statistic, Row, Col, List, Typography, Divider } from 'antd';
import PageContainer from '@/components/PageContainer';

const { Title, Text } = Typography;

interface Expertise {
  id: string;
  name: string;
  weight: string;
}

interface Achievement {
  id: string;
  title: string;
  description: string;
}

export default function ViewReputationEkoh(): JSX.Element {
  const reputation = {
    ekohScore: 1234,
    smartVoteWeight: 75, // percentage
  };

  const expertiseAreas: Expertise[] = [
    { id: '1', name: 'Frontend Development', weight: '30%' },
    { id: '2', name: 'Backend Development', weight: '25%' },
    { id: '3', name: 'UI/UX Design', weight: '20%' },
    { id: '4', name: 'Data Science', weight: '15%' },
    { id: '5', name: 'DevOps', weight: '10%' },
  ];

  const achievements: Achievement[] = [
    {
      id: 'a1',
      title: 'Top Contributor',
      description: 'Awarded for significant expertise contributions to the community.',
    },
    {
      id: 'a2',
      title: 'Innovation Leader',
      description: 'Recognized for innovative solutions and creative problem-solving.',
    },
  ];

  return (
    <PageContainer title="View Reputation (Ekoh)">
      {/* Score summary */}
      <Row gutter={[16, 16]}>
        <Col xs={24} sm={12}>
          <Card>
            <Statistic title="Ekoh Score" value={reputation.ekohScore} />
          </Card>
        </Col>
        <Col xs={24} sm={12}>
          <Card>
            <Statistic title="Smart Vote Weight" value={reputation.smartVoteWeight} suffix="%" />
          </Card>
        </Col>
      </Row>

      <Divider />

      {/* Charts placeholders */}
      <Row gutter={[16, 16]}>
        <Col xs={24} sm={12}>
          <Card title="Expertise Contributions">
            <div
              style={{
                height: 200,
                textAlign: 'center',
                lineHeight: '200px',
                background: '#f0f2f5',
              }}
            >
              Pie Chart Placeholder
            </div>
          </Card>
        </Col>
        <Col xs={24} sm={12}>
          <Card title="Score Trend">
            <div
              style={{
                height: 200,
                textAlign: 'center',
                lineHeight: '200px',
                background: '#f0f2f5',
              }}
            >
              Trend Line Chart Placeholder
            </div>
          </Card>
        </Col>
      </Row>

      <Divider />

      {/* Expertise list */}
      <Title level={4}>Expertise Areas &amp; Weights</Title>
      <List
        itemLayout="horizontal"
        dataSource={expertiseAreas}
        renderItem={(item) => (
          <List.Item key={item.id}>
            <List.Item.Meta title={item.name} description={`Weight: ${item.weight}`} />
          </List.Item>
        )}
      />

      <Divider />

      {/* Achievements */}
      <Title level={4}>Achievements &amp; Badges</Title>
      <List
        grid={{ gutter: 16, column: 2 }}
        dataSource={achievements}
        renderItem={(item) => (
          <List.Item key={item.id}>
            <Card title={item.title}>
              <Text>{item.description}</Text>
            </Card>
          </List.Item>
        )}
      />
    </PageContainer>
  );
}

===== END app/keenkonnect/user-reputation/view-reputation-ekoh/page.tsx =====


===== BEGIN app/keenkonnect/workspaces/browse-available-workspaces/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import { List, Card, Input, Select, Button, Row, Col, Pagination, Divider, Tag, Typography } from 'antd';
import { useRouter } from 'next/navigation';

const { Search } = Input;
const { Text } = Typography;

interface Workspace {
  id: string;
  name: string;
  owner: string;
  purpose: string;
  tools: string[];
  currentUsers: number;
  lastActive: string;
  isJoinable: boolean;
}

const sampleWorkspaces: Workspace[] = [
  {
    id: '1',
    name: 'Data Science Hub',
    owner: 'Alice',
    purpose: 'Collaborative workspace for data analysis and machine learning projects.',
    tools: ['Data Science Notebook', 'Python'],
    currentUsers: 10,
    lastActive: '2023-09-06 10:00',
    isJoinable: true,
  },
  {
    id: '2',
    name: 'VR Collaboration Space',
    owner: 'Bob',
    purpose: 'Virtual reality space for immersive teamwork.',
    tools: ['VR', '3D Modeling'],
    currentUsers: 5,
    lastActive: '2023-09-06 09:30',
    isJoinable: false,
  },
  {
    id: '3',
    name: 'Programming Lab',
    owner: 'Charlie',
    purpose: 'Workspace for coding projects and software development.',
    tools: ['Programming', 'Collaboration Tools'],
    currentUsers: 8,
    lastActive: '2023-09-06 11:15',
    isJoinable: true,
  },
  {
    id: '4',
    name: 'Design Studio',
    owner: 'Diana',
    purpose: 'Creative space for design brainstorming and UI/UX work.',
    tools: ['Design Tools', 'Whiteboard'],
    currentUsers: 3,
    lastActive: '2023-09-06 08:45',
    isJoinable: true,
  },
  {
    id: '5',
    name: 'Innovators Room',
    owner: 'Edward',
    purpose: 'Workspace for innovative projects and ideation.',
    tools: ['Brainstorming', 'Prototyping'],
    currentUsers: 12,
    lastActive: '2023-09-06 10:30',
    isJoinable: false,
  },
];

export default function BrowseAvailableWorkspaces(): JSX.Element {
  const router = useRouter();

  const [searchText, setSearchText] = useState('');
  const [selectedTool, setSelectedTool] = useState<string>('All');
  const [currentPage, setCurrentPage] = useState(1);
  const pageSize = 4;

  const filteredWorkspaces = useMemo(() => {
    return sampleWorkspaces.filter((workspace) => {
      const matchesSearch = workspace.name.toLowerCase().includes(searchText.toLowerCase());
      const matchesTool = selectedTool === 'All' || workspace.tools.includes(selectedTool);
      return matchesSearch && matchesTool;
    });
  }, [searchText, selectedTool]);

  const paginatedWorkspaces = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize;
    return filteredWorkspaces.slice(startIndex, startIndex + pageSize);
  }, [filteredWorkspaces, currentPage]);

  const handleJoinAction = (workspace: Workspace) => {
    if (workspace.isJoinable) {
      router.push(`/keenkonnect/workspaces/join?id=${workspace.id}`);
    } else {
      router.push(`/keenkonnect/workspaces/request-access?id=${workspace.id}`);
    }
  };

  return (
    <div className="container mx-auto p-5">
      <h1 className="text-2xl font-bold mb-4">Browse Available Workspaces</h1>

      <Row gutter={[16, 16]} className="mb-4">
        <Col xs={24} sm={12}>
          <Search
            placeholder="Search workspaces..."
            allowClear
            onSearch={(value) => {
              setSearchText(value);
              setCurrentPage(1);
            }}
          />
        </Col>
        <Col xs={24} sm={12}>
          <Select
            value={selectedTool}
            style={{ width: '100%' }}
            onChange={(value: string) => {
              setSelectedTool(value);
              setCurrentPage(1);
            }}
            options={[
              { value: 'All', label: 'All Tools' },
              { value: 'Data Science Notebook', label: 'Data Science Notebook' },
              { value: 'VR', label: 'VR' },
              { value: 'Programming', label: 'Programming' },
              { value: 'Design Tools', label: 'Design Tools' },
              { value: '3D Modeling', label: '3D Modeling' },
              { value: 'Whiteboard', label: 'Whiteboard' },
              { value: 'Brainstorming', label: 'Brainstorming' },
              { value: 'Prototyping', label: 'Prototyping' },
            ]}
          />
        </Col>
      </Row>

      <Divider />

      <List
        grid={{ gutter: 16, xs: 1, sm: 2, md: 3, lg: 3 }}
        dataSource={paginatedWorkspaces}
        renderItem={(workspace: Workspace) => (
          <List.Item key={workspace.id}>
            <Card
              hoverable
              title={workspace.name}
              extra={<Text type="secondary">{workspace.owner}</Text>}
              actions={[
                <Button key="join" type="primary" onClick={() => handleJoinAction(workspace)}>
                  {workspace.isJoinable ? 'Join' : 'Request Access'}
                </Button>,
              ]}
            >
              <p>{workspace.purpose}</p>
              <div style={{ marginBottom: 8 }}>
                {workspace.tools.map((tool) => (
                  <Tag key={tool}>{tool}</Tag>
                ))}
              </div>
              <Divider />
              <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                <Tag color="blue">{workspace.currentUsers} Users</Tag>
                <Tag color="volcano">Last Active: {workspace.lastActive}</Tag>
              </div>
            </Card>
          </List.Item>
        )}
      />

      <Row justify="center" className="mt-4">
        <Pagination
          current={currentPage}
          pageSize={pageSize}
          total={filteredWorkspaces.length}
          onChange={(page) => setCurrentPage(page)}
        />
      </Row>
    </div>
  );
}

===== END app/keenkonnect/workspaces/browse-available-workspaces/page.tsx =====


===== BEGIN app/keenkonnect/workspaces/launch-new-workspace/page.tsx =====
'use client'

import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import {
  Form,
  Input,
  Button,
  Select,
  DatePicker,
  Card,
  message,
} from 'antd'
import api from '@/api'
import dayjs from 'dayjs'

export default function PageWrapper() {
  return (
    <Suspense fallback={null}>
      <>
        <Content />
      </>
    </Suspense>
  )
}

function Content() {
  const [form] = Form.useForm()

  const launchWorkspace = async (values: any) => {
    try {
      await api.post('/workspaces/launch', {
        ...values,
        startDate: values.startDate?.format('YYYY-MM-DD'),
      })
      message.success('Workspace launched successfully!')
      form.resetFields()
    } catch (err) {
      console.error('Launch workspace error:', err)
      message.error('Failed to launch workspace.')
    }
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Launch New Workspace</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Launch New Workspace
      </h1>

      <Card>
        <Form
          form={form}
          layout="vertical"
          onFinish={launchWorkspace}
          initialValues={{ startDate: dayjs() }}
        >
          <Form.Item
            label="Workspace Name"
            name="name"
            rules={[{ required: true }]}
          >
            <Input placeholder="Enter workspace name" />
          </Form.Item>

          <Form.Item
            label="Team"
            name="team"
            rules={[{ required: true }]}
          >
            <Select
              placeholder="Select team"
              options={[
                { label: 'Team Alpha', value: 'alpha' },
                { label: 'Team Beta', value: 'beta' },
              ]}
            />
          </Form.Item>

          <Form.Item label="Start Date" name="startDate">
            <DatePicker style={{ width: '100%' }} />
          </Form.Item>

          <Form.Item label="Description" name="description">
            <Input.TextArea rows={4} />
          </Form.Item>

          <Form.Item>
            <Button type="primary" htmlType="submit" style={{ marginTop: 12 }}>
              Launch Workspace
            </Button>
          </Form.Item>
        </Form>
      </Card>
    </>
  )
}

===== END app/keenkonnect/workspaces/launch-new-workspace/page.tsx =====


===== BEGIN app/keenkonnect/workspaces/launch-new-workspace/page.tsx.bak =====
'use client'

import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'
import Head from 'next/head'
import {
  Form,
  Input,
  Button,
  Select,
  DatePicker,
  Card,
  message,
} from 'antd'
import api from '@/api'
import dayjs from 'dayjs'

export default function PageWrapper() {
  return (
    <Suspense fallback={null}>
      <MainLayout>
        <Content />
      </MainLayout>
    </Suspense>
  )
}

function Content() {
  const [form] = Form.useForm()

  const launchWorkspace = async (values: any) => {
    try {
      await api.post('/workspaces/launch', {
        ...values,
        startDate: values.startDate?.format('YYYY-MM-DD'),
      })
      message.success('Workspace launched successfully!')
      form.resetFields()
    } catch (err) {
      console.error('Launch workspace error:', err)
      message.error('Failed to launch workspace.')
    }
  }

  return (
    <>
      <Head>
        <title>KeenKonnect – Launch New Workspace</title>
      </Head>

      <h1 style={{ fontSize: 24, fontWeight: 600, marginBottom: 24 }}>
        Launch New Workspace
      </h1>

      <Card>
        <Form
          form={form}
          layout="vertical"
          onFinish={launchWorkspace}
          initialValues={{ startDate: dayjs() }}
        >
          <Form.Item
            label="Workspace Name"
            name="name"
            rules={[{ required: true }]}
          >
            <Input placeholder="Enter workspace name" />
          </Form.Item>

          <Form.Item
            label="Team"
            name="team"
            rules={[{ required: true }]}
          >
            <Select
              placeholder="Select team"
              options={[
                { label: 'Team Alpha', value: 'alpha' },
                { label: 'Team Beta', value: 'beta' },
              ]}
            />
          </Form.Item>

          <Form.Item label="Start Date" name="startDate">
            <DatePicker style={{ width: '100%' }} />
          </Form.Item>

          <Form.Item label="Description" name="description">
            <Input.TextArea rows={4} />
          </Form.Item>

          <Form.Item>
            <Button type="primary" htmlType="submit" style={{ marginTop: 12 }}>
              Launch Workspace
            </Button>
          </Form.Item>
        </Form>
      </Card>
    </>
  )
}

===== END app/keenkonnect/workspaces/launch-new-workspace/page.tsx.bak =====


===== BEGIN app/keenkonnect/workspaces/my-workspaces/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import { Card, List, Button, Badge, Row, Col, Select, Divider, Typography } from 'antd';
import { useRouter } from 'next/navigation';

const { Title, Text } = Typography;

interface Workspace {
  id: string;
  name: string;
  project: string;
  status: 'active' | 'inactive';
  description: string;
  environment: string; // e.g. "Python environment", "Design whiteboard"
}

const sampleWorkspaces: Workspace[] = [
  {
    id: '1',
    name: 'Workspace Alpha',
    project: 'Project Alpha',
    status: 'active',
    description: 'Interactive Python coding environment for data analysis.',
    environment: 'Python environment',
  },
  {
    id: '2',
    name: 'Workspace Beta',
    project: 'Project Beta',
    status: 'inactive',
    description: 'Digital whiteboard for design brainstorming.',
    environment: 'Design whiteboard',
  },
  {
    id: '3',
    name: 'Workspace Gamma',
    project: 'Project Alpha',
    status: 'active',
    description: 'Collaborative space for real-time coding and testing.',
    environment: 'Development environment',
  },
  {
    id: '4',
    name: 'Workspace Delta',
    project: 'Project Delta',
    status: 'inactive',
    description: 'Project planning and management space.',
    environment: 'Planning Board',
  },
];

export default function MyWorkspaces() {
  const router = useRouter();

  // Filter by project
  const [selectedProject, setSelectedProject] = useState<string>('All');

  const filteredWorkspaces = useMemo(() => {
    if (selectedProject === 'All') return sampleWorkspaces;
    return sampleWorkspaces.filter((ws) => ws.project === selectedProject);
  }, [selectedProject]);

  const activeCount = useMemo(
    () => sampleWorkspaces.filter((ws) => ws.status === 'active').length,
    []
  );

  const projectOptions = useMemo(() => {
    const projects = Array.from(new Set(sampleWorkspaces.map((ws) => ws.project)));
    return ['All', ...projects];
  }, []);

  const handleWorkspaceAction = (ws: Workspace) => {
    // Use the real route that exists in your app
    router.push(`/keenkonnect/workspaces/launch-new-workspace?id=${ws.id}`);
  };

  const handleManageSettings = (ws: Workspace) => {
    // Reuse the same page and flag "manage" to avoid 404s until a settings page exists
    router.push(`/keenkonnect/workspaces/launch-new-workspace?id=${ws.id}&manage=1`);
  };

  return (
    <div className="container mx-auto p-5">
      <Title level={2}>My Workspaces</Title>
      <Divider />

      <Row gutter={[16, 16]} className="mb-4">
        <Col>
          <Text strong>Total Active Workspaces: {activeCount}</Text>
        </Col>
      </Row>

      <Row gutter={[16, 16]} className="mb-4">
        <Col xs={24} sm={12}>
          <Text>Filter by Project:</Text>
          <Select
            value={selectedProject}
            onChange={(value) => setSelectedProject(value)}
            style={{ width: '100%' }}
            options={projectOptions.map((p) => ({ label: p, value: p }))}
          />
        </Col>
      </Row>

      <Divider />

      <List
        grid={{ gutter: 16, xs: 1, sm: 2, md: 2, lg: 3, xl: 3 }}
        dataSource={filteredWorkspaces}
        renderItem={(workspace: Workspace) => (
          <List.Item key={workspace.id}>
            <Card
              hoverable
              title={workspace.name}
              extra={
                workspace.status === 'active' ? (
                  <Badge status="success" text="Active" />
                ) : (
                  <Badge status="default" text="Inactive" />
                )
              }
            >
              <p>
                <strong>Project:</strong> {workspace.project}
              </p>
              <p>
                <strong>Description:</strong> {workspace.description}
              </p>
              <p>
                <strong>Environment:</strong> {workspace.environment}
              </p>
              <div style={{ marginTop: 12, display: 'flex', justifyContent: 'space-between' }}>
                <Button type="primary" onClick={() => handleWorkspaceAction(workspace)}>
                  {workspace.status === 'active' ? 'Join Now' : 'Launch'}
                </Button>
                <Button onClick={() => handleManageSettings(workspace)}>Manage Settings</Button>
              </div>
            </Card>
          </List.Item>
        )}
      />
    </div>
  );
}

===== END app/keenkonnect/workspaces/my-workspaces/page.tsx =====


===== BEGIN app/konnected/certifications/certification-programs/page.tsx =====
﻿'use client';

import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Row,
  Col,
  Card,
  Input,
  Select,
  Button,
  Drawer,
  Typography,
  Pagination,
} from 'antd';
import { FileSearchOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { Text } = Typography;
const { Option } = Select;

interface CertificationProgram {
  id: string;
  title: string;
  description: string;
  category: string;
  levels: number;
  upcomingExamDates: string;
}

const dummyPrograms: CertificationProgram[] = [
  {
    id: '1',
    title: 'Full-Stack Web Development',
    description: 'Learn both frontend and backend technologies.',
    category: 'Technical',
    levels: 3,
    upcomingExamDates: '2023-11-05, 2023-12-10',
  },
  {
    id: '2',
    title: 'Digital Marketing Professional',
    description: 'Master online marketing and social media strategies.',
    category: 'Vocational',
    levels: 2,
    upcomingExamDates: '2023-10-20',
  },
  {
    id: '3',
    title: 'Data Science Certification',
    description: 'Learn data analysis, machine learning and visualization.',
    category: 'Technical',
    levels: 4,
    upcomingExamDates: '2023-11-15, 2023-12-20',
  },
];

const CertificationPrograms: NextPage = () => {
  const [searchKeyword, setSearchKeyword] = useState<string>('');
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [drawerVisible, setDrawerVisible] = useState<boolean>(false);
  const [selectedProgram, setSelectedProgram] = useState<CertificationProgram | null>(null);
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 6;

  // Filtrage
  const filteredPrograms = dummyPrograms.filter((program) => {
    const matchesKeyword =
      program.title.toLowerCase().includes(searchKeyword.toLowerCase()) ||
      program.description.toLowerCase().includes(searchKeyword.toLowerCase());
    const matchesCategory = selectedCategory === 'All' || program.category === selectedCategory;
    return matchesKeyword && matchesCategory;
  });

  // Pagination
  const paginatedPrograms = filteredPrograms.slice(
    (currentPage - 1) * pageSize,
    currentPage * pageSize
  );

  // Ouverture du Drawer
  const openDrawer = (program: CertificationProgram) => {
    setSelectedProgram(program);
    setDrawerVisible(true);
  };

  // Fermeture du Drawer
  const closeDrawer = () => {
    setDrawerVisible(false);
    setSelectedProgram(null);
  };

  return (
    <PageContainer title="Certification Programs">
      <Row gutter={[16, 16]} style={{ marginBottom: 24 }}>
        <Col xs={24} sm={12}>
          <Input
            placeholder="Search programs..."
            value={searchKeyword}
            onChange={(e) => {
              setSearchKeyword(e.target.value);
              setCurrentPage(1);
            }}
            prefix={<FileSearchOutlined />}
          />
        </Col>
        <Col xs={24} sm={12}>
          <Select
            style={{ width: '100%' }}
            placeholder="Filter by category"
            value={selectedCategory}
            onChange={(value) => {
              setSelectedCategory(value);
              setCurrentPage(1);
            }}
          >
            <Option value="All">All</Option>
            <Option value="Technical">Technical</Option>
            <Option value="Vocational">Vocational</Option>
          </Select>
        </Col>
      </Row>

      <Row gutter={[16, 16]}>
        {paginatedPrograms.map((program) => (
          <Col xs={24} sm={12} md={8} key={program.id}>
            <Card
              title={program.title}
              extra={
                <Button type="link" onClick={() => openDrawer(program)}>
                  Learn More
                </Button>
              }
            >
              <Text>{program.description}</Text>
              <br />
              <Text strong>Levels:</Text> {program.levels}
              <br />
              <Text strong>Upcoming Exams:</Text> {program.upcomingExamDates}
              <br />
              <Button type="primary" style={{ marginTop: 8 }}>
                Register
              </Button>
            </Card>
          </Col>
        ))}
      </Row>

      {filteredPrograms.length > pageSize && (
        <Row justify="center" style={{ marginTop: 24 }}>
          <Pagination
            current={currentPage}
            pageSize={pageSize}
            total={filteredPrograms.length}
            onChange={(page) => setCurrentPage(page)}
          />
        </Row>
      )}

      <Drawer
        title={selectedProgram?.title}
        placement="right"
        onClose={closeDrawer}
        open={drawerVisible}
      >
        {selectedProgram && (
          <>
            <p>
              <strong>Description: </strong>
              {selectedProgram.description}
            </p>
            <p>
              <strong>Category: </strong>
              {selectedProgram.category}
            </p>
            <p>
              <strong>Levels: </strong>
              {selectedProgram.levels}
            </p>
            <p>
              <strong>Upcoming Exam Dates: </strong>
              {selectedProgram.upcomingExamDates}
            </p>
            <Button type="primary" style={{ marginTop: 16 }}>
              Register Now
            </Button>
          </>
        )}
      </Drawer>
    </PageContainer>
  );
};

export default CertificationPrograms;

===== END app/konnected/certifications/certification-programs/page.tsx =====


===== BEGIN app/konnected/certifications/certification-programs/page.tsx.bak =====
'use client'

// File: /pages/konnected/certifications/certification-programs.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Row,
  Col,
  Card,
  Input,
  Select,
  Button,
  Drawer,
  Typography,
  Pagination
} from 'antd';
import { FileSearchOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Option } = Select;

interface CertificationProgram {
  id: string;
  title: string;
  description: string;
  category: string;
  levels: number;
  upcomingExamDates: string;
  // Vous pouvez ajouter d’autres propriétés comme l’URL d’une image/icone
}

const dummyPrograms: CertificationProgram[] = [
  {
    id: '1',
    title: 'Full-Stack Web Development',
    description: 'Learn both frontend and backend technologies.',
    category: 'Technical',
    levels: 3,
    upcomingExamDates: '2023-11-05, 2023-12-10',
  },
  {
    id: '2',
    title: 'Digital Marketing Professional',
    description: 'Master online marketing and social media strategies.',
    category: 'Vocational',
    levels: 2,
    upcomingExamDates: '2023-10-20',
  },
  {
    id: '3',
    title: 'Data Science Certification',
    description: 'Learn data analysis, machine learning and visualization.',
    category: 'Technical',
    levels: 4,
    upcomingExamDates: '2023-11-15, 2023-12-20',
  },
  // Ajoutez d’autres programmes selon vos besoins...
];

const CertificationPrograms: NextPage = () => {
  const [searchKeyword, setSearchKeyword] = useState<string>('');
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [drawerVisible, setDrawerVisible] = useState<boolean>(false);
  const [selectedProgram, setSelectedProgram] = useState<CertificationProgram | null>(null);
  // Pour la pagination (si nécessaire)
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 6;

  // Filtrage des programmes selon le mot-clé et la catégorie
  const filteredPrograms = dummyPrograms.filter((program) => {
    const matchesKeyword =
      program.title.toLowerCase().includes(searchKeyword.toLowerCase()) ||
      program.description.toLowerCase().includes(searchKeyword.toLowerCase());
    const matchesCategory =
      selectedCategory === 'All' || program.category === selectedCategory;
    return matchesKeyword && matchesCategory;
  });

  // Gestion de la pagination
  const paginatedPrograms = filteredPrograms.slice(
    (currentPage - 1) * pageSize,
    currentPage * pageSize
  );

  // Ouverture du Drawer de détails
  const openDrawer = (program: CertificationProgram) => {
    setSelectedProgram(program);
    setDrawerVisible(true);

  // Fermeture du Drawer
  const closeDrawer = () => {
    setDrawerVisible(false);
    setSelectedProgram(null);

  return (
    <PageContainer title="Certification Programs">
      <Row gutter={[16, 16]} style={{ marginBottom: 24 }}>
        <Col xs={24} sm={12}>
          <Input
            placeholder="Search programs..."
            value={searchKeyword}
            onChange={(e) => {
              setSearchKeyword(e.target.value);
              setCurrentPage(1);
            }}
            prefix={<FileSearchOutlined />}
          />
        </Col>
        <Col xs={24} sm={12}>
          <Select
            style={{ width: '100%' }}
            placeholder="Filter by category"
            value={selectedCategory}
            onChange={(value) => {
              setSelectedCategory(value);
              setCurrentPage(1);
            }}
          >
            <Option value="All">All</Option>
            <Option value="Technical">Technical</Option>
            <Option value="Vocational">Vocational</Option>
            {/* Ajoutez d’autres catégories si nécessaire */}
          </Select>
        </Col>
      </Row>
      <Row gutter={[16, 16]}>
        {paginatedPrograms.map((program) => (
          <Col xs={24} sm={12} md={8} key={program.id}>
            <Card
              title={program.title}
              extra={
                <Button type="link" onClick={() => openDrawer(program)}>
                  Learn More
                </Button>
              }
            >
              <Text>{program.description}</Text>
              <br />
              <Text strong>Levels:</Text> {program.levels}
              <br />
              <Text strong>Upcoming Exams:</Text> {program.upcomingExamDates}
              <br />
              <Button type="primary" style={{ marginTop: 8 }}>
                Register
              </Button>
            </Card>
          </Col>
        ))}
      </Row>
      {filteredPrograms.length > pageSize && (
        <Row justify="center" style={{ marginTop: 24 }}>
          <Pagination
            current={currentPage}
            pageSize={pageSize}
            total={filteredPrograms.length}
            onChange={(page) => setCurrentPage(page)}
          />
        </Row>
      )}
      {/* Drawer de détails du programme */}
      <Drawer
        title={selectedProgram?.title}
        placement="right"
        onClose={closeDrawer}
        open={drawerVisible}
      >
        {selectedProgram && (
          <>
            <p>
              <strong>Description: </strong>
              {selectedProgram.description}
            </p>
            <p>
              <strong>Category: </strong>
              {selectedProgram.category}
            </p>
            <p>
              <strong>Levels: </strong>
              {selectedProgram.levels}
            </p>
            <p>
              <strong>Upcoming Exam Dates: </strong>
              {selectedProgram.upcomingExamDates}
            </p>
            <p>
              <strong>Syllabus:</strong>
              <br />
              {/* Cette section pourra inclure le détail du programme */}
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod
              libero nec nulla facilisis.
            </p>
            <Button type="primary" style={{ marginTop: 16 }}>
              Register Now
            </Button>
          </>
        )}
      </Drawer>
    </PageContainer>
  );

// Correction : envelopper la page dans MainLayout via getLayout

  return <MainLayout>{page}</MainLayout>;

export default CertificationPrograms;
}}}

===== END app/konnected/certifications/certification-programs/page.tsx.bak =====


===== BEGIN app/konnected/certifications/exam-dashboard-results/page.tsx =====
// app/konnected/certifications/exam-dashboard-results/page.tsx
'use client';

import React, { useState } from 'react';
import type { TableProps } from 'antd';
import {
  Card,
  Statistic,
  Table,
  Drawer,
  Button,
  Typography,
  Row,
  Col,
  List,
  Alert,
} from 'antd';
import { EyeOutlined, FilePdfOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { Text } = Typography;

type ExamOutcome = 'Pass' | 'Fail';

interface ExamResult {
  id: string;
  examName: string;
  dateTaken: string;
  score: number;
  result: ExamOutcome;
  details: string;
}

const upcomingExam:
  | { examName: string; examDate: string; status: string }
  | null = {
  examName: 'Certification Exam Level 1',
  examDate: '2023-10-10 10:00',
  status: 'Registered',
};

const examResultsData: ExamResult[] = [
  {
    id: '1',
    examName: 'Certification Exam Level 1',
    dateTaken: '2023-08-10',
    score: 78,
    result: 'Pass',
    details:
      'Score global de 78%. Excellente performance en théorie, à améliorer en pratique.',
  },
  {
    id: '2',
    examName: 'Certification Exam Level 1',
    dateTaken: '2023-07-05',
    score: 65,
    result: 'Fail',
    details:
      'Score global de 65%. Points faibles identifiés en gestion des situations critiques.',
  },
];

const certificationsEarned: { id: string; title: string; pdfLink: string }[] = [
  { id: 'cert1', title: 'Certification Exam Level 1', pdfLink: '#' },
  { id: 'cert2', title: 'Advanced Certification Exam', pdfLink: '#' },
];

export default function ExamDashboardResultsPage() {
  const [drawerOpen, setDrawerOpen] = useState(false);
  const [selectedExam, setSelectedExam] = useState<ExamResult | null>(null);

  const columns: TableProps<ExamResult>['columns'] = [
    { title: 'Exam Name', dataIndex: 'examName', key: 'examName' },
    { title: 'Date Taken', dataIndex: 'dateTaken', key: 'dateTaken' },
    {
      title: 'Score',
      dataIndex: 'score',
      key: 'score',
      render: (score: number) => `${score}%`,
    },
    {
      title: 'Result',
      dataIndex: 'result',
      key: 'result',
      render: (result: ExamOutcome) => (
        <Text strong style={{ color: result === 'Pass' ? 'green' : 'red' }}>
          {result}
        </Text>
      ),
    },
    {
      title: 'Action',
      key: 'action',
      render: (_: unknown, record: ExamResult) => (
        <Button
          type="link"
          icon={<EyeOutlined />}
          onClick={() => {
            setSelectedExam(record);
            setDrawerOpen(true);
          }}
        >
          View Details
        </Button>
      ),
    },
  ];

  const latest = examResultsData[0];

  return (
    <PageContainer title="Exam Dashboard & Results">
      {upcomingExam && (
        <Card title="Upcoming Exam" style={{ marginBottom: 24 }}>
          <Row gutter={[16, 16]}>
            <Col xs={24} md={8}>
              <Text strong>Exam:</Text> {upcomingExam.examName}
            </Col>
            <Col xs={24} md={8}>
              <Text strong>Date:</Text> {upcomingExam.examDate}
            </Col>
            <Col xs={24} md={8}>
              <Text strong>Status:</Text> {upcomingExam.status}
            </Col>
          </Row>
        </Card>
      )}

      {latest && (
        <Card title="Latest Exam Result" style={{ marginBottom: 24 }}>
          <Row gutter={16}>
            <Col xs={24} md={12}>
              <Statistic title="Score Achieved" value={latest.score} suffix="%" />
            </Col>
            <Col xs={24} md={12}>
              <Statistic
                title="Result"
                value={latest.result}
                valueStyle={{
                  color: latest.result === 'Pass' ? '#3f8600' : '#cf1322',
                }}
              />
            </Col>
          </Row>
        </Card>
      )}

      <Card title="Exam History" style={{ marginBottom: 24 }}>
        <Table<ExamResult>
          columns={columns}
          dataSource={examResultsData}
          rowKey="id"
          pagination={{ pageSize: 5 }}
        />
      </Card>

      <Card title="Certificates Earned" style={{ marginBottom: 24 }}>
        <List
          dataSource={certificationsEarned}
          renderItem={(item) => (
            <List.Item
              actions={[
                <Button key="dl" icon={<FilePdfOutlined />} type="link" href={item.pdfLink}>
                  Download
                </Button>,
              ]}
            >
              <List.Item.Meta
                title={item.title}
                description={`Certificate ID: ${item.id}`}
              />
            </List.Item>
          )}
        />
      </Card>

      <Card>
        <Alert
          message="Next Steps: Explore further certification programs to advance your career."
          type="info"
          showIcon
        />
        <div style={{ marginTop: 16 }}>
          <Button type="primary" href="/konnected/certifications/certification-programs">
            Certification Programs
          </Button>
        </div>
      </Card>

      <Drawer
        title="Exam Details"
        placement="right"
        onClose={() => setDrawerOpen(false)}
        open={drawerOpen}
      >
        {selectedExam && (
          <>
            <p>
              <strong>Exam Name:</strong> {selectedExam.examName}
            </p>
            <p>
              <strong>Date Taken:</strong> {selectedExam.dateTaken}
            </p>
            <p>
              <strong>Score:</strong> {selectedExam.score}%
            </p>
            <p>
              <strong>Result:</strong>{' '}
              <Text
                strong
                style={{ color: selectedExam.result === 'Pass' ? 'green' : 'red' }}
              >
                {selectedExam.result}
              </Text>
            </p>
            <p>
              <strong>Details:</strong>
            </p>
            <p>{selectedExam.details}</p>
          </>
        )}
      </Drawer>
    </PageContainer>
  );
}

===== END app/konnected/certifications/exam-dashboard-results/page.tsx =====


===== BEGIN app/konnected/certifications/exam-preparation/page.tsx =====
﻿// app/konnected/certifications/exam-preparation/page.tsx
'use client';

import React from 'react';
import {
  Card,
  List,
  Button,
  Steps,
  Progress,
  Alert,
  Typography,
  Row,
  Col,
} from 'antd';
import { CheckCircleTwoTone, ArrowRightOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { Title, Text } = Typography;
const { Step } = Steps;

interface Module {
  id: string;
  title: string;
  completed: boolean;
  progress: number;
}

const studyModules: Module[] = [
  { id: 'module1', title: 'Introduction to Certification Concepts', completed: true, progress: 100 },
  { id: 'module2', title: 'Advanced Topics and Best Practices', completed: false, progress: 50 },
  { id: 'module3', title: 'Practical Applications and Case Studies', completed: false, progress: 20 },
  { id: 'module4', title: 'Exam Strategies and Tips', completed: false, progress: 0 },
];

const studyPlanSteps = [
  'Read and review study materials',
  'Complete interactive practice exercises',
  'Attempt a practice quiz',
  'Review feedback and focus on weaknesses',
];

export default function ExamPreparationPage() {
  const overallProgress =
    studyModules.reduce((acc, mod) => acc + mod.progress, 0) / studyModules.length;

  const handleStartQuiz = () => {
    console.log('Starting practice exam...');
  };

  return (
    <PageContainer title="Exam Preparation">
      <Row gutter={[24, 24]}>
        {/* Study Modules Overview */}
        <Col xs={24} md={12}>
          <Card title="Study Modules Overview">
            <List
              itemLayout="horizontal"
              dataSource={studyModules ?? []}
              renderItem={(module: Module) => (
                <List.Item
                  actions={[
                    <Button type="link" key="view" icon={<ArrowRightOutlined />}>
                      View Content
                    </Button>,
                  ]}
                >
                  <List.Item.Meta
                    title={
                      <span>
                        {module.title}{' '}
                        {module.completed && <CheckCircleTwoTone twoToneColor="#52c41a" />}
                      </span>
                    }
                    description={
                      <Text type="secondary">
                        {module.completed ? 'Completed' : `In progress: ${module.progress}%`}
                      </Text>
                    }
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Overall Progress + Plan */}
        <Col xs={24} md={12}>
          <Card title="Your Preparation Progress">
            <Text>Your overall progress:</Text>
            <Progress percent={Math.round(overallProgress)} status="active" />
            <br />
            <br />
            <Title level={5}>Recommended Study Plan</Title>
            <Steps direction="vertical" size="small" current={0}>
              {studyPlanSteps.map((step, index) => (
                <Step key={index} title={step} />
              ))}
            </Steps>
            <br />
            <Button type="primary" onClick={handleStartQuiz}>
              Start Practice Exam
            </Button>
          </Card>
        </Col>

        {/* Tips */}
        <Col xs={24}>
          <Alert
            message="Exam Tips: Remember to pace yourself, review your weak areas, and take breaks during your study sessions."
            type="info"
            showIcon
          />
        </Col>
      </Row>
    </PageContainer>
  );
}

===== END app/konnected/certifications/exam-preparation/page.tsx =====


===== BEGIN app/konnected/certifications/exam-preparation/page.tsx.bak =====
// File: /pages/konnected/certifications/exam-preparation.tsx
import React from 'react';
import { NextPage } from 'next';
import {
  Card,
  List,
  Button,
  Steps,
  Progress,
  Alert,
  Typography,
  Row,
  Col,
} from 'antd';
import { CheckCircleTwoTone, ArrowRightOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
// Ajout de l'import de MainLayout pour envelopper la page avec le layout global
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;
const { Step } = Steps;

// Exemple de données pour les modules d'étude
interface Module {
  id: string;
  title: string;
  completed: boolean;
  progress: number; // Pourcentage de complétion (0 à 100)
}

const studyModules: Module[] = [
  {
    id: 'module1',
    title: 'Introduction to Certification Concepts',
    completed: true,
    progress: 100,
  },
  {
    id: 'module2',
    title: 'Advanced Topics and Best Practices',
    completed: false,
    progress: 50,
  },
  {
    id: 'module3',
    title: 'Practical Applications and Case Studies',
    completed: false,
    progress: 20,
  },
  {
    id: 'module4',
    title: 'Exam Strategies and Tips',
    completed: false,
    progress: 0,
  },
];

// Exemple de données pour les étapes recommandées du plan d'étude
const studyPlanSteps = [
  'Read and review study materials',
  'Complete interactive practice exercises',
  'Attempt a practice quiz',
  'Review feedback and focus on weaknesses',
];

const ExamPreparationPage: NextPage = () => {
  // Calcul de la progression globale (par exemple, moyenne des modules)
  const overallProgress =
    studyModules.reduce((acc, mod) => acc + mod.progress, 0) / studyModules.length;

  // Gestion du clic sur le bouton de lancement du quiz
  const handleStartQuiz = () => {
    // Ici, vous pouvez rediriger vers un nouvel écran de quiz ou ouvrir un modal.
    // Pour cet exemple, nous affichons simplement un message de log.
    console.log('Starting practice exam...');

  return (
    <PageContainer title="Exam Preparation">
      <Row gutter={[24, 24]}>
        {/* Section Aperçu des Modules d'Étude */}
        <Col xs={24} md={12}>
          <Card title="Study Modules Overview">
            <List
              itemLayout="horizontal"
              dataSource={studyModules ?? []}
              renderItem={(module: Module) => (
                <List.Item
                  actions={[
                    <Button type="link" key="view" icon={<ArrowRightOutlined />}>
                      View Content
                    </Button>,
                  ]}
                >
                  <List.Item.Meta
                    title={
                      <span>
                        {module.title}{" "}
                        {module.completed && (
                          <CheckCircleTwoTone twoToneColor="#52c41a" />
                        )}
                      </span>
                    }
                    description={
                      <Text type="secondary">
                        {module.completed
                          ? "Completed"
                          : `In progress: ${module.progress}%`}
                      </Text>
                    }
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Section Progression Globale et Plan d'Étude */}
        <Col xs={24} md={12}>
          <Card title="Your Preparation Progress">
            <Text>Your overall progress:</Text>
            <Progress percent={Math.round(overallProgress)} status="active" />
            <br />
            <br />
            <Title level={5}>Recommended Study Plan</Title>
            <Steps direction="vertical" size="small" current={0}>
              {studyPlanSteps.map((step, index) => (
                <Step key={index} title={step} />
              ))}
            </Steps>
            <br />
            <Button type="primary" onClick={handleStartQuiz}>
              Start Practice Exam
            </Button>
          </Card>
        </Col>

        {/* Section Conseils et Informations */}
        <Col xs={24}>
          <Alert
            message="Exam Tips: Remember to pace yourself, review your weak areas, and take breaks during your study sessions."
            type="info"
            showIcon
          />
        </Col>
      </Row>
    </PageContainer>
  );

// Correction : envelopper la page dans MainLayout via getLayout

  return <MainLayout>{page}</MainLayout>;

export default ExamPreparationPage;
}}

===== END app/konnected/certifications/exam-preparation/page.tsx.bak =====


===== BEGIN app/konnected/certifications/exam-registration/page.tsx =====
﻿'use client'

// File: /app/konnected/certifications/exam-registration/page.tsx
import React, { useState } from 'react';
import type { NextPage } from 'next';
import {
  Form,
  Input,
  Button,
  Steps,
  Select,
  Radio,
  Checkbox,
  Result,
  message as antdMessage,
} from 'antd';
import PageContainer from '@/components/PageContainer';

const { Step } = Steps;
const { Option } = Select;

const ExamRegistration: NextPage = () => {
  const [currentStep, setCurrentStep] = useState<number>(0);
  const [form] = Form.useForm();
  const [registrationData, setRegistrationData] = useState<any>({});
  const [registrationCompleted, setRegistrationCompleted] = useState<boolean>(false);

  const steps = [
    { title: 'Choose Exam' },
    { title: 'Schedule Details' },
    { title: 'Confirmation' },
  ];

  // Étape suivante
  const next = () => {
    form
      .validateFields()
      .then((values) => {
        setRegistrationData({ ...registrationData, ...values });
        setCurrentStep((s) => s + 1);
      })
      .catch((info) => {
        console.log('Validation Failed:', info);
      });
  };

  // Étape précédente
  const prev = () => {
    setCurrentStep((s) => s - 1);
  };

  // Soumission finale
  const onSubmit = () => {
    antdMessage.success('Registration complete!');
    setRegistrationCompleted(true);
  };

  // Contenu par étape
  const renderStepContent = () => {
    switch (currentStep) {
      case 0:
        return (
          <>
            <Form.Item
              label="Select Exam"
              name="examChoice"
              rules={[{ required: true, message: 'Please select an exam' }]}
            >
              <Select placeholder="Choose an exam">
                <Option value="exam1">Certification Exam Level 1</Option>
                <Option value="exam2">Certification Exam Level 2</Option>
                <Option value="exam3">Certification Exam Advanced</Option>
              </Select>
            </Form.Item>
          </>
        );
      case 1:
        return (
          <>
            <Form.Item
              label="Preferred Exam Session"
              name="examSession"
              rules={[{ required: true, message: 'Please select an exam session' }]}
            >
              <Radio.Group>
                <Radio value="session1">Monday, October 2, 2023 - Online</Radio>
                <Radio value="session2">Wednesday, October 4, 2023 - Online</Radio>
                <Radio value="session3">Friday, October 6, 2023 - In-Person</Radio>
              </Radio.Group>
            </Form.Item>
            <Form.Item
              label="Full Name"
              name="fullName"
              rules={[{ required: true, message: 'Please enter your full name' }]}
            >
              <Input placeholder="Enter your full name" />
            </Form.Item>
            <Form.Item
              name="agreeTerms"
              valuePropName="checked"
              rules={[
                {
                  validator: (_, value) =>
                    value ? Promise.resolve() : Promise.reject('You must agree to the terms'),
                },
              ]}
            >
              <Checkbox>I agree to the Terms and Conditions</Checkbox>
            </Form.Item>
          </>
        );
      case 2:
        return (
          <>
            <p>
              <strong>Exam Choice:</strong> {registrationData.examChoice}
            </p>
            <p>
              <strong>Exam Session:</strong> {registrationData.examSession}
            </p>
            <p>
              <strong>Full Name:</strong> {registrationData.fullName}
            </p>
          </>
        );
      default:
        return null;
    }
  };

  // Résultat post-soumission
  if (registrationCompleted) {
    return (
      <PageContainer title="Exam Registration">
        <Result
          status="success"
          title="Registration Successful!"
          subTitle={`You have successfully registered for ${registrationData.examChoice}. Further details have been sent to your email.`}
          extra={[
            <Button type="primary" key="explore">
              Explore Certifications
            </Button>,
          ]}
        />
      </PageContainer>
    );
  }

  // Rendu principal
  return (
    <PageContainer title="Exam Registration">
      <Steps current={currentStep} style={{ marginBottom: 24 }}>
        {steps.map((item) => (
          <Step key={item.title} title={item.title} />
        ))}
      </Steps>

      <Form form={form} layout="vertical">
        {renderStepContent()}
        <div style={{ marginTop: 24 }}>
          {currentStep > 0 && (
            <Button style={{ marginRight: 8 }} onClick={prev}>
              Back
            </Button>
          )}
          {currentStep < steps.length - 1 && (
            <Button type="primary" onClick={next}>
              Next
            </Button>
          )}
          {currentStep === steps.length - 1 && (
            <Button type="primary" onClick={onSubmit}>
              Submit Registration
            </Button>
          )}
        </div>
      </Form>
    </PageContainer>
  );
};

export default ExamRegistration;

===== END app/konnected/certifications/exam-registration/page.tsx =====


===== BEGIN app/konnected/certifications/exam-registration/page.tsx.bak =====
'use client'

// File: /pages/konnected/certifications/exam-registration.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import { Form,
  Input,
  Button,
  Steps,
  Select,
  Radio,
  Checkbox,
  Result,
  message as antdMessage,
 } from 'antd';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Step } = Steps;
const { Option } = Select;

const ExamRegistration: NextPage = () => {
  // State pour gérer l'étape courante de l'inscription
  const [currentStep, setCurrentStep] = useState<number>(0);
  // Instance du formulaire
  const [form] = Form.useForm();
  // State pour stocker les données saisies
  const [registrationData, setRegistrationData] = useState<any>({});
  // State pour indiquer que l'inscription est terminée
  const [registrationCompleted, setRegistrationCompleted] = useState<boolean>(false);

  // Définition des titres d'étape
  const steps = [
    { title: 'Choose Exam' },
    { title: 'Schedule Details' },
    { title: 'Confirmation' },
  ];

  // Passage à l'étape suivante après validation des champs
  const next = () => {
    form
      .validateFields()
      .then((values) => {
        // Enregistrer les valeurs dans le state global d'inscription
        setRegistrationData({ ...registrationData, ...values });
        setCurrentStep(currentStep + 1);
      })
      .catch((info) => {
        console.log('Validation Failed:', info);
      });

  // Retour à l'étape précédente
  const prev = () => {
    setCurrentStep(currentStep - 1);

  // Traitement final de la soumission
  const onSubmit = () => {
    // Ici, vous pouvez intégrer un appel API ou une logique de paiement.
    antdMessage.success('Registration complete!');
    setRegistrationCompleted(true);

  // Rendu conditionnel du contenu selon l'étape courante
  const renderStepContent = () => {
    switch (currentStep) {
      case 0:
        return (
          <>
            <Form.Item
              label="Select Exam"
              name="examChoice"
              rules={[{ required: true, message: 'Please select an exam' }]}
            >
              <Select placeholder="Choose an exam">
                <Option value="exam1">Certification Exam Level 1</Option>
                <Option value="exam2">Certification Exam Level 2</Option>
                <Option value="exam3">Certification Exam Advanced</Option>
              </Select>
            </Form.Item>
          </>
        );
      case 1:
        return (
          <>
            <Form.Item
              label="Preferred Exam Session"
              name="examSession"
              rules={[{ required: true, message: 'Please select an exam session' }]}
            >
              <Radio.Group>
                <Radio value="session1">Monday, October 2, 2023 - Online</Radio>
                <Radio value="session2">Wednesday, October 4, 2023 - Online</Radio>
                <Radio value="session3">Friday, October 6, 2023 - In-Person</Radio>
              </Radio.Group>
            </Form.Item>
            <Form.Item
              label="Full Name"
              name="fullName"
              rules={[{ required: true, message: 'Please enter your full name' }]}
            >
              <Input placeholder="Enter your full name" />
            </Form.Item>
            <Form.Item
              name="agreeTerms"
              valuePropName="checked"
              rules={[
                {
                  validator: (_, value) =>
                    value ? Promise.resolve() : Promise.reject('You must agree to the terms'),
                },
              ]}
            >
              <Checkbox>I agree to the Terms and Conditions</Checkbox>
            </Form.Item>
          </>
        );
      case 2:
        return (
          <>
            <p>
              <strong>Exam Choice:</strong> {registrationData.examChoice}
            </p>
            <p>
              <strong>Exam Session:</strong> {registrationData.examSession}
            </p>
            <p>
              <strong>Full Name:</strong> {registrationData.fullName}
            </p>
          </>
        );
      default:
        return null;
    }

  // Une fois l'inscription terminée, afficher une page de résultat
  if (registrationCompleted) {
    return (
      <PageContainer title="Exam Registration">
        <Result
          status="success"
          title="Registration Successful!"
          subTitle={`You have successfully registered for ${registrationData.examChoice}. Further details have been sent to your email.`}
          extra={[
            <Button type="primary" key="explore">
              Explore Certifications
            </Button>,
          ]}
        />
      </PageContainer>
    );
  }

  return (
    <PageContainer title="Exam Registration">
      <Steps current={currentStep} style={{ marginBottom: 24 }}>
        {steps.map((item) => (
          <Step key={item.title} title={item.title} />
        ))}
      </Steps>
      <Form form={form} layout="vertical">
        {renderStepContent()}
        <div style={{ marginTop: 24 }}>
          {currentStep > 0 && (
            <Button style={{ marginRight: 8 }} onClick={prev}>
              Back
            </Button>
          )}
          {currentStep < steps.length - 1 && (
            <Button type="primary" onClick={next}>
              Next
            </Button>
          )}
          {currentStep === steps.length - 1 && (
            <Button type="primary" onClick={onSubmit}>
              Submit Registration
            </Button>
          )}
        </div>
      </Form>
    </PageContainer>
  );

// Correction: envelopper la page dans MainLayout via getLayout

  return <MainLayout>{page}</MainLayout>;

export default ExamRegistration;
}}}}}

===== END app/konnected/certifications/exam-registration/page.tsx.bak =====


===== BEGIN app/konnected/community-discussions/active-threads/page.tsx =====
﻿'use client'

import React, { useMemo, useState } from 'react'
import { List, Card, Input, Select, Space, Typography, Pagination } from 'antd'
import { SearchOutlined, QuestionCircleOutlined, MessageTwoTone } from '@ant-design/icons'
import { useRouter } from 'next/navigation'
import PageContainer from '@/components/PageContainer'
import MainLayout from '@/components/layout-components/MainLayout'

const { Title, Text } = Typography

interface Thread {
  id: string
  title: string
  snippet: string
  author: string
  repliesCount: number
  lastActivity: string // ISO-like string for simplicity
  category: 'Math' | 'Science' | 'General'
  threadType: 'question' | 'discussion'
}

// Dummy data for threads
const dummyThreads: Thread[] = [
  {
    id: 't1',
    title: 'How to solve quadratic equations?',
    snippet: "I’m struggling with solving quadratic equations. Can anyone explain...",
    author: 'Alice',
    repliesCount: 15,
    lastActivity: '2025-12-01 14:30',
    category: 'Math',
    threadType: 'question',
  },
  {
    id: 't2',
    title: 'The impact of climate change on ecosystems',
    snippet: 'Let’s discuss how various ecosystems are being affected by the recent...',
    author: 'Bob',
    repliesCount: 8,
    lastActivity: '2025-12-01 10:15',
    category: 'Science',
    threadType: 'discussion',
  },
  {
    id: 't3',
    title: 'Study tips for final exams',
    snippet: 'I’d like to share some study tips and ask for suggestions for better...',
    author: 'Carol',
    repliesCount: 22,
    lastActivity: '2025-11-30 18:45',
    category: 'General',
    threadType: 'discussion',
  },
  {
    id: 't4',
    title: 'What is the derivative of sin(x)?',
    snippet: 'I know the derivative is cos(x), but how can I remember this easily?',
    author: 'David',
    repliesCount: 10,
    lastActivity: '2025-12-01 16:00',
    category: 'Math',
    threadType: 'question',
  },
]

type CategoryFilter = 'All' | Thread['category']

const CATEGORY_OPTIONS = [
  { value: 'All', label: 'All Categories' },
  { value: 'Math', label: 'Math' },
  { value: 'Science', label: 'Science' },
  { value: 'General', label: 'General' },
] as const

const SORT_OPTIONS = [
  { value: 'recent', label: 'Sort by Recent Activity' },
  { value: 'replies', label: 'Sort by Most Replies' },
] as const

export default function ActiveThreadsPage(): JSX.Element {
  const router = useRouter()

  const [searchQuery, setSearchQuery] = useState<string>('')
  const [selectedCategory, setSelectedCategory] = useState<CategoryFilter>('All')
  const [sortOption, setSortOption] = useState<'recent' | 'replies'>('recent')
  const [currentPage, setCurrentPage] = useState<number>(1)
  const pageSize = 5

  // Filter and sort
  const filteredThreads = useMemo(() => {
    let threads = [...dummyThreads]

    if (selectedCategory !== 'All') {
      threads = threads.filter((t) => t.category === selectedCategory)
    }

    if (searchQuery) {
      const q = searchQuery.toLowerCase()
      threads = threads.filter(
        (t) => t.title.toLowerCase().includes(q) || t.snippet.toLowerCase().includes(q),
      )
    }

    if (sortOption === 'recent') {
      threads = threads
        .slice()
        .sort((a, b) => new Date(b.lastActivity).getTime() - new Date(a.lastActivity).getTime())
    } else {
      threads = threads.slice().sort((a, b) => b.repliesCount - a.repliesCount)
    }

    return threads
  }, [searchQuery, selectedCategory, sortOption])

  // Pagination slice
  const paginatedThreads = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize
    return filteredThreads.slice(startIndex, startIndex + pageSize)
  }, [filteredThreads, currentPage])

  // Navigate to thread details
  const openThread = (thread: Thread) => {
    router.push(`/konnected/community-discussions/thread/${thread.id}`)
  }

  return (
    <>
      <PageContainer title="Active Threads">
        <Space style={{ marginBottom: 24 }} size="large" wrap>
          <Input
            placeholder="Search threads..."
            prefix={<SearchOutlined />}
            value={searchQuery}
            onChange={(e) => {
              setSearchQuery(e.target.value)
              setCurrentPage(1)
            }}
            style={{ width: 300 }}
          />

          <Select
            value={selectedCategory}
            onChange={(value) => {
              setSelectedCategory(value as CategoryFilter)
              setCurrentPage(1)
            }}
            options={CATEGORY_OPTIONS as any}
            style={{ width: 180 }}
          />

          <Select
            value={sortOption}
            onChange={(value) => {
              setSortOption(value as 'recent' | 'replies')
              setCurrentPage(1)
            }}
            options={SORT_OPTIONS as any}
            style={{ width: 220 }}
          />
        </Space>

        <List
          grid={{ gutter: 16, column: 1 }}
          dataSource={paginatedThreads}
          renderItem={(thread: Thread) => (
            <List.Item onClick={() => openThread(thread)} style={{ cursor: 'pointer' }}>
              <Card hoverable>
                <Space direction="vertical" style={{ width: '100%' }}>
                  <Space>
                    {thread.threadType === 'question' ? (
                      <QuestionCircleOutlined style={{ fontSize: 18, color: '#1890ff' }} />
                    ) : (
                      <MessageTwoTone twoToneColor="#52c41a" style={{ fontSize: 18 }} />
                    )}
                    <Title level={4} style={{ margin: 0 }}>
                      {thread.title}
                    </Title>
                  </Space>

                  <Text>{thread.snippet}</Text>

                  <Space>
                    <Text strong>Author:</Text> {thread.author}
                    <Text strong>Replies:</Text> {thread.repliesCount}
                    <Text strong>Last Activity:</Text> {thread.lastActivity}
                  </Space>
                </Space>
              </Card>
            </List.Item>
          )}
        />

        <div style={{ textAlign: 'center', marginTop: 24 }}>
          <Pagination
            current={currentPage}
            pageSize={pageSize}
            total={filteredThreads.length}
            onChange={(page) => setCurrentPage(page)}
          />
        </div>
      </PageContainer>
    </>
  )
}

===== END app/konnected/community-discussions/active-threads/page.tsx =====


===== BEGIN app/konnected/community-discussions/active-threads/page.tsx.bak =====
﻿'use client'

import React, { useMemo, useState } from 'react'
import { List, Card, Input, Select, Space, Typography, Pagination } from 'antd'
import { SearchOutlined, QuestionCircleOutlined, MessageTwoTone } from '@ant-design/icons'
import { useRouter } from 'next/navigation'
import PageContainer from '@/components/PageContainer'
import MainLayout from '@/components/layout-components/MainLayout'

const { Title, Text } = Typography

interface Thread {
  id: string
  title: string
  snippet: string
  author: string
  repliesCount: number
  lastActivity: string // ISO-like string for simplicity
  category: 'Math' | 'Science' | 'General'
  threadType: 'question' | 'discussion'
}

// Dummy data for threads
const dummyThreads: Thread[] = [
  {
    id: 't1',
    title: 'How to solve quadratic equations?',
    snippet: "I’m struggling with solving quadratic equations. Can anyone explain...",
    author: 'Alice',
    repliesCount: 15,
    lastActivity: '2025-12-01 14:30',
    category: 'Math',
    threadType: 'question',
  },
  {
    id: 't2',
    title: 'The impact of climate change on ecosystems',
    snippet: 'Let’s discuss how various ecosystems are being affected by the recent...',
    author: 'Bob',
    repliesCount: 8,
    lastActivity: '2025-12-01 10:15',
    category: 'Science',
    threadType: 'discussion',
  },
  {
    id: 't3',
    title: 'Study tips for final exams',
    snippet: 'I’d like to share some study tips and ask for suggestions for better...',
    author: 'Carol',
    repliesCount: 22,
    lastActivity: '2025-11-30 18:45',
    category: 'General',
    threadType: 'discussion',
  },
  {
    id: 't4',
    title: 'What is the derivative of sin(x)?',
    snippet: 'I know the derivative is cos(x), but how can I remember this easily?',
    author: 'David',
    repliesCount: 10,
    lastActivity: '2025-12-01 16:00',
    category: 'Math',
    threadType: 'question',
  },
]

type CategoryFilter = 'All' | Thread['category']

const CATEGORY_OPTIONS = [
  { value: 'All', label: 'All Categories' },
  { value: 'Math', label: 'Math' },
  { value: 'Science', label: 'Science' },
  { value: 'General', label: 'General' },
] as const

const SORT_OPTIONS = [
  { value: 'recent', label: 'Sort by Recent Activity' },
  { value: 'replies', label: 'Sort by Most Replies' },
] as const

export default function ActiveThreadsPage(): JSX.Element {
  const router = useRouter()

  const [searchQuery, setSearchQuery] = useState<string>('')
  const [selectedCategory, setSelectedCategory] = useState<CategoryFilter>('All')
  const [sortOption, setSortOption] = useState<'recent' | 'replies'>('recent')
  const [currentPage, setCurrentPage] = useState<number>(1)
  const pageSize = 5

  // Filter and sort
  const filteredThreads = useMemo(() => {
    let threads = [...dummyThreads]

    if (selectedCategory !== 'All') {
      threads = threads.filter((t) => t.category === selectedCategory)
    }

    if (searchQuery) {
      const q = searchQuery.toLowerCase()
      threads = threads.filter(
        (t) => t.title.toLowerCase().includes(q) || t.snippet.toLowerCase().includes(q),
      )
    }

    if (sortOption === 'recent') {
      threads = threads
        .slice()
        .sort((a, b) => new Date(b.lastActivity).getTime() - new Date(a.lastActivity).getTime())
    } else {
      threads = threads.slice().sort((a, b) => b.repliesCount - a.repliesCount)
    }

    return threads
  }, [searchQuery, selectedCategory, sortOption])

  // Pagination slice
  const paginatedThreads = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize
    return filteredThreads.slice(startIndex, startIndex + pageSize)
  }, [filteredThreads, currentPage])

  // Navigate to thread details
  const openThread = (thread: Thread) => {
    router.push(`/konnected/community-discussions/thread/${thread.id}`)
  }

  return (
    <MainLayout>
      <PageContainer title="Active Threads">
        <Space style={{ marginBottom: 24 }} size="large" wrap>
          <Input
            placeholder="Search threads..."
            prefix={<SearchOutlined />}
            value={searchQuery}
            onChange={(e) => {
              setSearchQuery(e.target.value)
              setCurrentPage(1)
            }}
            style={{ width: 300 }}
          />

          <Select
            value={selectedCategory}
            onChange={(value) => {
              setSelectedCategory(value as CategoryFilter)
              setCurrentPage(1)
            }}
            options={CATEGORY_OPTIONS as any}
            style={{ width: 180 }}
          />

          <Select
            value={sortOption}
            onChange={(value) => {
              setSortOption(value as 'recent' | 'replies')
              setCurrentPage(1)
            }}
            options={SORT_OPTIONS as any}
            style={{ width: 220 }}
          />
        </Space>

        <List
          grid={{ gutter: 16, column: 1 }}
          dataSource={paginatedThreads}
          renderItem={(thread: Thread) => (
            <List.Item onClick={() => openThread(thread)} style={{ cursor: 'pointer' }}>
              <Card hoverable>
                <Space direction="vertical" style={{ width: '100%' }}>
                  <Space>
                    {thread.threadType === 'question' ? (
                      <QuestionCircleOutlined style={{ fontSize: 18, color: '#1890ff' }} />
                    ) : (
                      <MessageTwoTone twoToneColor="#52c41a" style={{ fontSize: 18 }} />
                    )}
                    <Title level={4} style={{ margin: 0 }}>
                      {thread.title}
                    </Title>
                  </Space>

                  <Text>{thread.snippet}</Text>

                  <Space>
                    <Text strong>Author:</Text> {thread.author}
                    <Text strong>Replies:</Text> {thread.repliesCount}
                    <Text strong>Last Activity:</Text> {thread.lastActivity}
                  </Space>
                </Space>
              </Card>
            </List.Item>
          )}
        />

        <div style={{ textAlign: 'center', marginTop: 24 }}>
          <Pagination
            current={currentPage}
            pageSize={pageSize}
            total={filteredThreads.length}
            onChange={(page) => setCurrentPage(page)}
          />
        </div>
      </PageContainer>
    </MainLayout>
  )
}

===== END app/konnected/community-discussions/active-threads/page.tsx.bak =====


===== BEGIN app/konnected/community-discussions/moderation/page.tsx =====
﻿'use client';

import React, { useMemo, useState } from 'react';
import PageContainer from '@/components/PageContainer';
import { Button, Table, Tabs, Tag, Space, Modal, message as antdMessage } from 'antd';
import type { ColumnsType } from 'antd/es/table';
import {
  DeleteOutlined,
  FlagOutlined,
  CheckCircleOutlined,
  ExclamationCircleOutlined,
} from '@ant-design/icons';

type ModerationStatus = 'Pending' | 'Approved' | 'Flagged';
type ModerationQueue = 'Reported' | 'PendingApproval';

interface ModerationItem {
  id: string;
  contentSnippet: string;
  author: string;
  reportReason: string;
  date: string;
  status: ModerationStatus;
  queue: ModerationQueue;
}

const { confirm } = Modal;

const MOCK_ITEMS: ModerationItem[] = [
  {
    id: '1',
    contentSnippet: 'This is a reported post content...',
    author: 'User123',
    reportReason: 'Inappropriate language',
    date: '3h ago',
    status: 'Pending',
    queue: 'Reported',
  },
  {
    id: '2',
    contentSnippet: 'Another reported content snippet...',
    author: 'Member456',
    reportReason: 'Spam',
    date: '1 day ago',
    status: 'Pending',
    queue: 'Reported',
  },
  {
    id: '3',
    contentSnippet: 'Awaiting approval content...',
    author: 'Contributor789',
    reportReason: '',
    date: '2 days ago',
    status: 'Pending',
    queue: 'PendingApproval',
  },
];

export default function ModerationPage(): JSX.Element {
  const [activeTab, setActiveTab] = useState<ModerationQueue>('Reported');
  const [data, setData] = useState<ModerationItem[]>(MOCK_ITEMS);

  const filteredItems = useMemo(
    () => data.filter((item) => item.queue === activeTab),
    [activeTab, data],
  );

  const handleApprove = (record: ModerationItem) => {
    setData((prev) =>
      prev.map((item) =>
        item.id === record.id ? { ...item, status: 'Approved' } : item,
      ),
    );
    antdMessage.success('Content approved successfully');
  };

  const handleFlagUser = (record: ModerationItem) => {
    antdMessage.warning(`User ${record.author} has been flagged for review`);
  };

  const handleDelete = (record: ModerationItem) => {
    confirm({
      title: 'Delete this content?',
      icon: <ExclamationCircleOutlined />,
      content: 'This action cannot be undone.',
      okText: 'Delete',
      okType: 'danger',
      cancelText: 'Cancel',
      onOk: () => {
        setData((prev) => prev.filter((item) => item.id !== record.id));
        antdMessage.success('Content deleted successfully');
      },
    });
  };

  const columns: ColumnsType<ModerationItem> = [
    {
      title: 'Content Snippet',
      dataIndex: 'contentSnippet',
      key: 'contentSnippet',
      render: (text: string) => (
        <span
          style={{
            whiteSpace: 'nowrap',
            overflow: 'hidden',
            textOverflow: 'ellipsis',
            display: 'inline-block',
            maxWidth: 480,
          }}
          title={text}
        >
          {text}
        </span>
      ),
    },
    {
      title: 'Author',
      dataIndex: 'author',
      key: 'author',
      render: (text: string) => <strong>{text}</strong>,
      width: 160,
    },
    {
      title: activeTab === 'Reported' ? 'Report Reason' : 'Note',
      key: 'reasonOrNote',
      render: (_: unknown, record: ModerationItem) =>
        activeTab === 'Reported' ? (
          <Tag icon={<ExclamationCircleOutlined />} color="error">
            {record.reportReason || '—'}
          </Tag>
        ) : (
          <Tag color="blue">Pending Approval</Tag>
        ),
      width: 220,
    },
    {
      title: 'Date',
      dataIndex: 'date',
      key: 'date',
      width: 140,
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: unknown, record: ModerationItem) => (
        <Space>
          {record.status === 'Pending' && (
            <Button
              type="primary"
              icon={<CheckCircleOutlined />}
              onClick={() => handleApprove(record)}
            >
              Approve
            </Button>
          )}
          <Button danger icon={<DeleteOutlined />} onClick={() => handleDelete(record)}>
            Delete
          </Button>
          {record.queue === 'Reported' && (
            <Button icon={<FlagOutlined />} onClick={() => handleFlagUser(record)}>
              Flag User
            </Button>
          )}
        </Space>
      ),
      width: 300,
    },
  ];

  const tabItems = [
    { key: 'Reported', label: 'Reported' },
    { key: 'PendingApproval', label: 'Pending Approval' },
  ];

  return (
    <PageContainer title="Community Moderation">
      <Tabs
        items={tabItems}
        activeKey={activeTab}
        onChange={(k) => setActiveTab(k as ModerationQueue)}
      />
      <Table<ModerationItem>
        rowKey="id"
        columns={columns}
        dataSource={filteredItems}
        pagination={{ pageSize: 10 }}
      />
    </PageContainer>
  );
}

===== END app/konnected/community-discussions/moderation/page.tsx =====


===== BEGIN app/konnected/community-discussions/moderation/page.tsx.bak =====
'use client';

import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import { Table, Tabs, Tag, Button, Space, Modal, message as antdMessage  } from 'antd';
import { ExclamationCircleOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { TabPane } = Tabs;
const { confirm } = Modal;

// Interface pour une entrée de modération
interface ModerationItem {
  id: string;
  contentSnippet: string;
  author: string;
  reportReason: string; // pour les posts signalés
  date: string;
  status: 'Pending' | 'Approved' | 'Flagged';
  queue: 'Reported' | 'PendingApproval';
}

// Données fictives pour l'exemple
const dummyModerationItems: ModerationItem[] = [
  {
    id: '1',
    contentSnippet: 'Ce post contient des propos inappropriés sur...',
    author: 'John Doe',
    reportReason: 'Propos inappropriés',
    date: '2025-12-01 15:30',
    status: 'Pending',
    queue: 'Reported',
  },
  {
    id: '2',
    contentSnippet: "Nouvelle discussion sur les méthodes d'enseignement...",
    author: 'Alice Smith',
    reportReason: '',
    date: '2025-12-01 14:00',
    status: 'Pending',
    queue: 'PendingApproval',
  },
  {
    id: '3',
    contentSnippet: 'Ce thread a été signalé pour spam ou contenu indésirable.',
    author: 'Bob Johnson',
    reportReason: 'Spam',
    date: '2025-11-30 18:45',
    status: 'Pending',
    queue: 'Reported',
  },
  {
    id: '4',
    contentSnippet: 'Discussion ouverte sur la nouvelle réforme éducative...',
    author: 'Carol Lee',
    reportReason: '',
    date: '2025-12-01 16:20',
    status: 'Pending',
    queue: 'PendingApproval',
  },
];

const ModerationPage: NextPage = () => {
  // Onglet actif : "Reported" ou "PendingApproval"
  const [activeTab, setActiveTab] = useState<'Reported' | 'PendingApproval'>('Reported');

  // Filtrage des éléments selon l'onglet actif
  const filteredItems = useMemo(() => {
    return dummyModerationItems.filter(item => item.queue === activeTab);
  }, [activeTab]);

  // Gestion des actions pour une entrée de modération
  const handleApprove = (item: ModerationItem) => {
    antdMessage.success(`Content "${item.contentSnippet.substring(0, 20)}..." approved.`);
    // Ici, intégrez un appel API pour approuver l'élément

  const handleFlagUser = (item: ModerationItem) => {
    antdMessage.warning(`User ${item.author} has been flagged/warned.`);
    // Intégrez ici la logique de signalement de l'utilisateur

  const handleDelete = (item: ModerationItem) => {
    confirm({
      title: 'Confirmer la suppression',
      icon: <ExclamationCircleOutlined />,
      content: 'Êtes-vous sûr de vouloir supprimer ce contenu ? Cette action est irréversible.',
      okText: 'Supprimer',
      okType: 'danger',
      cancelText: 'Annuler',
      onOk() {
        antdMessage.success(`Content "${item.contentSnippet.substring(0, 20)}..." deleted.`);
        // Intégrez ici la logique de suppression via API
      },
    });

  // Définition des colonnes du tableau
  const columns = [
    {
      title: 'Content Snippet',
      dataIndex: 'contentSnippet',
      key: 'contentSnippet',
      render: (text, row) => <span>{text}</span>,
    },
    {
      title: 'Author',
      dataIndex: 'author',
      key: 'author',
    },
    {
      title: activeTab === 'Reported' ? 'Report Reason' : 'Note',
      dataIndex: 'reportReason',
      key: 'reportReason',
      render: (text, row) =>
        text ? <Tag color="volcano">{text}</Tag> : <Tag color="blue">Pending Approval</Tag>,
    },
    {
      title: 'Date',
      dataIndex: 'date',
      key: 'date',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
      render: (status, row) =>
        status === 'Approved' ? (
          <Tag color="green">Approved</Tag>
        ) : (
          <Tag color="orange">Pending</Tag>
        ),
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: ModerationItem) => (
        <Space>
          {record.status === 'Pending' && (
            <Button size="small" type="primary" onClick={() => handleApprove(record)}>
              Approve
            </Button>
          )}
          <Button size="small" danger onClick={() => handleDelete(record)}>
            Delete
          </Button>
          {record.queue === 'Reported' && (
            <Button size="small" onClick={() => handleFlagUser(record)}>
              Flag User
            </Button>
          )}
        </Space>
      ),
    },
  ];

  return (
    <PageContainer title="Moderation">
      <Tabs
        defaultActiveKey="Reported"
        activeKey={activeTab}
        onChange={(key) => setActiveTab(key as 'Reported' | 'PendingApproval')}
        type="card"
        style={{ marginBottom: 24 }}
      >
        <TabPane tab="Reported Content" key="Reported" />
        <TabPane tab="Pending Approval" key="PendingApproval" />
      </Tabs>
      <Table
        columns={columns}
        dataSource={filteredItems}
        rowKey="id"
        pagination={{ pageSize: 5 }}
      />
    </PageContainer>
  );


  return <MainLayout>{page}</MainLayout>;

export default ModerationPage;
}}}}

===== END app/konnected/community-discussions/moderation/page.tsx.bak =====


===== BEGIN app/konnected/community-discussions/start-new-discussion/page.tsx =====
﻿'use client';

import React from 'react';
import {
  Form,
  Input,
  Select,
  Switch,
  Button,
  Typography,
  message as antdMessage,
} from 'antd';
import type { FormProps } from 'antd';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';

const { TextArea } = Input;
const { Paragraph } = Typography;

type FormValues = {
  title: string;
  content?: string;
  category?: 'general' | 'announcements' | string;
  isQuestion?: boolean;
};

export default function StartNewDiscussionPage(): JSX.Element {
  const [form] = Form.useForm<FormValues>();
  const router = useRouter();

  const onFinish: FormProps<FormValues>['onFinish'] = (_values) => {
    antdMessage.success('Discussion posted');
    router.push('/konnected/community-discussions/active-threads');
  };

  const onFinishFailed: FormProps<FormValues>['onFinishFailed'] = () => {
    antdMessage.error('Please fix the errors and try again.');
  };

  return (
    <PageContainer title="Start a New Discussion">
      <Paragraph type="secondary" style={{ marginBottom: 24 }}>
        Share a topic with the community.
      </Paragraph>

      <Form<FormValues>
        form={form}
        layout="vertical"
        onFinish={onFinish}
        onFinishFailed={onFinishFailed}
        initialValues={{ isQuestion: false }}
      >
        <Form.Item
          label="Title"
          name="title"
          rules={[{ required: true, message: 'Please enter a title' }]}
        >
          <Input placeholder="e.g. How do we measure impact across teams?" />
        </Form.Item>

        <Form.Item label="Content" name="content">
          <TextArea rows={6} placeholder="Add more details, links, or context…" />
        </Form.Item>

        <Form.Item label="Category" name="category">
          <Select
            placeholder="Select a category"
            options={[
              { label: 'General', value: 'general' },
              { label: 'Announcements', value: 'announcements' },
            ]}
            allowClear
          />
        </Form.Item>

        <Form.Item
          label="Is this a question?"
          name="isQuestion"
          valuePropName="checked"
        >
          <Switch />
        </Form.Item>

        <Form.Item>
          <Button type="primary" htmlType="submit">
            Post Discussion
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
}

===== END app/konnected/community-discussions/start-new-discussion/page.tsx =====


===== BEGIN app/konnected/dashboard/page.tsx =====
﻿'use client'

import React from 'react';
import { NextPage } from 'next';
import {
  Card,
  List,
  Avatar,
  Row,
  Col,
  Typography,
  Progress,
  Button
} from 'antd';
import {
  ReadOutlined,
  CommentOutlined,
  BookOutlined,
  DownloadOutlined
} from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { Title, Text } = Typography;

// Exemple de données pour le widget Recent Updates
const recentUpdates = [
  {
    id: '1',
    title: 'New Lesson on React Hooks',
    description: 'Learn about the latest features in React 17.',
    timestamp: '2023-09-20 14:30',
  },
  {
    id: '2',
    title: 'Updated Knowledge Unit: TypeScript Basics',
    description: 'Refreshed content with new examples.',
    timestamp: '2023-09-19 09:15',
  },
  {
    id: '3',
    title: 'New Resource on Ant Design',
    description: 'Tips and tricks for building UIs faster.',
    timestamp: '2023-09-18 11:00',
  },
];

// Exemple de données pour le widget Active Discussions
const activeDiscussions = [
  {
    id: '1',
    title: 'Best practices for state management in Next.js',
    author: {
      name: 'Alice',
      avatar: 'https://randomuser.me/api/portraits/women/1.jpg',
    },
    replies: 12,
  },
  {
    id: '2',
    title: 'How to optimize performance in React apps?',
    author: {
      name: 'Bob',
      avatar: 'https://randomuser.me/api/portraits/men/2.jpg',
    },
    replies: 8,
  },
  {
    id: '3',
    title: 'Sharing my experience with TypeScript in production',
    author: {
      name: 'Carol',
      avatar: 'https://randomuser.me/api/portraits/women/3.jpg',
    },
    replies: 5,
  },
  {
    id: '4',
    title: 'Discussion: Design Systems vs Component Libraries',
    author: {
      name: 'Dave',
      avatar: 'https://randomuser.me/api/portraits/men/4.jpg',
    },
    replies: 3,
  },
  {
    id: '5',
    title: 'Future of AI in Education',
    author: {
      name: 'Eve',
      avatar: 'https://randomuser.me/api/portraits/women/5.jpg',
    },
    replies: 15,
  },
];

const KonnectedDashboard: NextPage = () => {
  return (
    <PageContainer title="KonnectED Dashboard">
      <Row gutter={[24, 24]}>
        {/* Widget Recent Updates */}
        <Col xs={24} md={12}>
          <Card title="Recent Updates">
            <List
              itemLayout="horizontal"
              dataSource={recentUpdates ?? []}
              renderItem={(item) => (
                <List.Item>
                  <List.Item.Meta
                    title={item.title}
                    description={
                      <>
                        <Text>{item.description}</Text>
                        <br />
                        <Text type="secondary" style={{ fontSize: 12 }}>
                          {item.timestamp}
                        </Text>
                      </>
                    }
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Widget Active Discussions */}
        <Col xs={24} md={12}>
          <Card title="Active Discussions">
            <List
              itemLayout="horizontal"
              dataSource={activeDiscussions ?? []}
              renderItem={(discussion) => (
                <List.Item>
                  <List.Item.Meta
                    avatar={<Avatar src={discussion.author.avatar} />}
                    title={discussion.title}
                    description={`By ${discussion.author.name} • ${discussion.replies} Replies`}
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Widget Learning Progress */}
        <Col xs={24} md={12}>
          <Card title="Learning Progress">
            <div style={{ marginBottom: 16 }}>
              <Text>Your current learning path is 60% complete</Text>
            </div>
            <Progress percent={60} status="active" />
          </Card>
        </Col>

        {/* Quick Access Icons */}
        <Col xs={24} md={12}>
          <Card title="Quick Access">
            <Row gutter={[16, 16]} justify="center">
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<ReadOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Knowledge</div>
              </Col>
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<CommentOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Community</div>
              </Col>
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<BookOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Learning</div>
              </Col>
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<DownloadOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Offline</div>
              </Col>
            </Row>
          </Card>
        </Col>
      </Row>
    </PageContainer>
  );
};

export default KonnectedDashboard;

===== END app/konnected/dashboard/page.tsx =====


===== BEGIN app/konnected/dashboard/page.tsx.bak =====
'use client'

import React from 'react';
import { NextPage } from 'next';
import {
  Card,
  List,
  Avatar,
  Row,
  Col,
  Typography,
  Progress,
  Button
} from 'antd';
import {
  ReadOutlined,
  CommentOutlined,
  BookOutlined,
  DownloadOutlined
} from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
// Ajout de l'import de MainLayout pour appliquer le layout global
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Text } = Typography;

// Exemple de données pour le widget Recent Updates
const recentUpdates = [
  {
    id: '1',
    title: 'New Lesson on React Hooks',
    description: 'Learn about the latest features in React 17.',
    timestamp: '2023-09-20 14:30',
  },
  {
    id: '2',
    title: 'Updated Knowledge Unit: TypeScript Basics',
    description: 'Refreshed content with new examples.',
    timestamp: '2023-09-19 09:15',
  },
  {
    id: '3',
    title: 'New Resource on Ant Design',
    description: 'Tips and tricks for building UIs faster.',
    timestamp: '2023-09-18 11:00',
  },
];

// Exemple de données pour le widget Active Discussions
const activeDiscussions = [
  {
    id: '1',
    title: 'Best practices for state management in Next.js',
    author: {
      name: 'Alice',
      avatar: 'https://randomuser.me/api/portraits/women/1.jpg',
    },
    replies: 12,
  },
  {
    id: '2',
    title: 'How to optimize performance in React apps?',
    author: {
      name: 'Bob',
      avatar: 'https://randomuser.me/api/portraits/men/2.jpg',
    },
    replies: 8,
  },
  {
    id: '3',
    title: 'Sharing my experience with TypeScript in production',
    author: {
      name: 'Carol',
      avatar: 'https://randomuser.me/api/portraits/women/3.jpg',
    },
    replies: 5,
  },
  {
    id: '4',
    title: 'Discussion: Design Systems vs Component Libraries',
    author: {
      name: 'Dave',
      avatar: 'https://randomuser.me/api/portraits/men/4.jpg',
    },
    replies: 3,
  },
  {
    id: '5',
    title: 'Future of AI in Education',
    author: {
      name: 'Eve',
      avatar: 'https://randomuser.me/api/portraits/women/5.jpg',
    },
    replies: 15,
  },
];

const KonnectedDashboard: NextPage = () => {
  return (
    <PageContainer title="KonnectED Dashboard">
      <Row gutter={[24, 24]}>
        {/* Widget Recent Updates */}
        <Col xs={24} md={12}>
          <Card title="Recent Updates">
            <List
              itemLayout="horizontal"
              dataSource={recentUpdates ?? []}
              renderItem={(item) => (
                <List.Item>
                  <List.Item.Meta
                    title={item.title}
                    description={
                      <>
                        <Text>{item.description}</Text>
                        <br />
                        <Text type="secondary" style={{ fontSize: 12 }}>
                          {item.timestamp}
                        </Text>
                      </>
                    }
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Widget Active Discussions */}
        <Col xs={24} md={12}>
          <Card title="Active Discussions">
            <List
              itemLayout="horizontal"
              dataSource={activeDiscussions ?? []}
              renderItem={(discussion) => (
                <List.Item>
                  <List.Item.Meta
                    avatar={<Avatar src={discussion.author.avatar} />}
                    title={discussion.title}
                    description={`By ${discussion.author.name} • ${discussion.replies} Replies`}
                  />
                </List.Item>
              )}
            />
          </Card>
        </Col>

        {/* Widget Learning Progress */}
        <Col xs={24} md={12}>
          <Card title="Learning Progress">
            <div style={{ marginBottom: 16 }}>
              <Text>Your current learning path is 60% complete</Text>
            </div>
            <Progress percent={60} status="active" />
          </Card>
        </Col>

        {/* Quick Access Icons */}
        <Col xs={24} md={12}>
          <Card title="Quick Access">
            <Row gutter={[16, 16]} justify="center">
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<ReadOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Knowledge</div>
              </Col>
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<CommentOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Community</div>
              </Col>
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<BookOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Learning</div>
              </Col>
              <Col style={{ textAlign: 'center' }}>
                <Button shape="circle" icon={<DownloadOutlined />} size="large" />
                <div style={{ marginTop: 8 }}>Offline</div>
              </Col>
            </Row>
          </Card>
        </Col>
      </Row>
    </PageContainer>
  );

// Correction : envelopper la page dans MainLayout via getLayout

  return <MainLayout>{page}</MainLayout>;

export default KonnectedDashboard;
}

===== END app/konnected/dashboard/page.tsx.bak =====


===== BEGIN app/konnected/layout.tsx =====
import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'

export default function SegmentLayout({ children }: { children: React.ReactNode }) {
  return (
    <Suspense fallback={null}>
      <MainLayout>{children}</MainLayout>
    </Suspense>
  )
}
===== END app/konnected/layout.tsx =====


===== BEGIN app/konnected/learning-library/browse-resources/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import { useRouter } from 'next/navigation';
import {
  Row,
  Col,
  Card,
  Typography,
  Input,
  Select,
  Tag,
  Rate,
  Space,
  Table,
  Pagination,
  Button,
} from 'antd';
import type { ColumnsType } from 'antd/es/table';
import {
  SearchOutlined,
  FilterOutlined,
  DownloadOutlined,
  ShareAltOutlined,
} from '@ant-design/icons';

const { Title, Paragraph, Text } = Typography;
const { Search } = Input;

type Level = 'Beginner' | 'Intermediate' | 'Advanced';
type Language = 'English' | 'French' | 'Spanish';

interface Resource {
  key: string;
  title: string;
  subject: string;
  level: Level;
  language: Language;
  resourceType: 'Video' | 'Article' | 'Course' | 'Quiz';
  rating: number; // 1..5
  tags?: string[];
}

const SUBJECTS = ['Robotics', 'Healthcare', 'AI', 'Sustainability', 'Design'];
const LEVELS: Level[] = ['Beginner', 'Intermediate', 'Advanced'];
const LANGUAGES: Language[] = ['English', 'French', 'Spanish'];

// Données de démonstration
const sampleResources: Resource[] = [
  {
    key: '1',
    title: 'Introduction to Robotics',
    subject: 'Robotics',
    level: 'Beginner',
    language: 'English',
    resourceType: 'Video',
    rating: 4,
  },
  {
    key: '2',
    title: 'Advanced Healthcare Protocols',
    subject: 'Healthcare',
    level: 'Advanced',
    language: 'French',
    resourceType: 'Article',
    rating: 5,
  },
  {
    key: '3',
    title: 'AI Ethics Fundamentals',
    subject: 'AI',
    level: 'Intermediate',
    language: 'English',
    resourceType: 'Course',
    rating: 4,
  },
  {
    key: '4',
    title: 'Sustainable Design Basics',
    subject: 'Sustainability',
    level: 'Beginner',
    language: 'English',
    resourceType: 'Video',
    rating: 3,
  },
  {
    key: '5',
    title: 'Design Thinking Essentials',
    subject: 'Design',
    level: 'Intermediate',
    language: 'English',
    resourceType: 'Quiz',
    rating: 4,
  },
];

export default function Page() {
  const router = useRouter();

  // State
  const [searchText, setSearchText] = useState<string>('');
  const [selectedSubjects, setSelectedSubjects] = useState<string[]>([]);
  const [selectedLevel, setSelectedLevel] = useState<Level | undefined>();
  const [selectedLanguage, setSelectedLanguage] = useState<Language | undefined>();
  const [current, setCurrent] = useState<number>(1);
  const pageSize = 8;

  // Filtrage
  const filteredResources = useMemo(() => {
    return sampleResources.filter((r) => {
      const q = searchText.toLowerCase();
      const matchesSearch =
        !q ||
        r.title.toLowerCase().includes(q) ||
        r.subject.toLowerCase().includes(q);

      const matchesSubject =
        selectedSubjects.length === 0 || selectedSubjects.includes(r.subject);

      const matchesLevel = !selectedLevel || r.level === selectedLevel;
      const matchesLanguage = !selectedLanguage || r.language === selectedLanguage;

      return matchesSearch && matchesSubject && matchesLevel && matchesLanguage;
    });
  }, [searchText, selectedSubjects, selectedLevel, selectedLanguage]);

  // Pagination manuelle (Table sans pagination intégrée)
  const pagedResources = useMemo(() => {
    const start = (current - 1) * pageSize;
    return filteredResources.slice(start, start + pageSize);
  }, [filteredResources, current]);

  // Colonnes du tableau
  const columns: ColumnsType<Resource> = [
    {
      title: 'Title',
      dataIndex: 'title',
      key: 'title',
      render: (text: string, record: Resource) => (
        <Space direction="vertical" size={0}>
          <a
            onClick={() =>
              router.push(`/konnected/learning-library/resource/${record.key}`)
            }
          >
            {text}
          </a>
          <Text type="secondary">
            {record.resourceType} · {record.level} · {record.language}
          </Text>
          {record.tags && record.tags.length > 0 && (
            <Space direction="horizontal" size={4} wrap>
              {record.tags.map((t) => (
                <Tag key={t}>{t}</Tag>
              ))}
            </Space>
          )}
        </Space>
      ),
    },
    {
      title: 'Subject',
      dataIndex: 'subject',
      key: 'subject',
      filters: SUBJECTS.map((s) => ({ text: s, value: s })),
      // AntD v5 expects: (value: React.Key | boolean, record: Resource) => boolean
      onFilter: (value: boolean | React.Key, r: Resource) => r.subject === String(value),
    },
    {
      title: 'Rating',
      dataIndex: 'rating',
      key: 'rating',
      width: 160,
      render: (v: number) => <Rate disabled allowHalf defaultValue={v} />,
      sorter: (a: Resource, b: Resource) => a.rating - b.rating,
    },
  ];

  return (
    <div style={{ padding: 16 }}>
      <Row gutter={[16, 16]}>
        <Col xs={24}>
          <Title level={2} style={{ marginBottom: 0 }}>
            Learning Library
          </Title>
          <Paragraph type="secondary" style={{ marginTop: 4 }}>
            Browse curated resources by subject, level and language.
          </Paragraph>
        </Col>

        <Col xs={24} md={8}>
          <Card title={<Space><FilterOutlined />Filters</Space>}>
            <Space direction="vertical" style={{ width: '100%' }} size="middle">
              <Search
                placeholder="Search by title or subject"
                allowClear
                enterButton={<SearchOutlined />}
                onSearch={(value: string) => {
                  setCurrent(1);
                  setSearchText(value);
                }}
              />

              <div>
                <Text strong>Subjects</Text>
                <Select
                  mode="multiple"
                  style={{ width: '100%', marginTop: 8 }}
                  placeholder="Select subjects"
                  value={selectedSubjects}
                  onChange={(value) => {
                    setCurrent(1);
                    setSelectedSubjects(value as string[]);
                  }}
                  options={SUBJECTS.map((s) => ({ label: s, value: s }))}
                />
              </div>

              <div>
                <Text strong>Level</Text>
                <Select
                  allowClear
                  style={{ width: '100%', marginTop: 8 }}
                  placeholder="Select level"
                  value={selectedLevel}
                  onChange={(value) => {
                    setCurrent(1);
                    setSelectedLevel(value as Level | undefined);
                  }}
                  options={LEVELS.map((l) => ({ label: l, value: l }))}
                />
              </div>

              <div>
                <Text strong>Language</Text>
                <Select
                  allowClear
                  style={{ width: '100%', marginTop: 8 }}
                  placeholder="Select language"
                  value={selectedLanguage}
                  onChange={(value) => {
                    setCurrent(1);
                    setSelectedLanguage(value as Language | undefined);
                  }}
                  options={LANGUAGES.map((l) => ({ label: l, value: l }))}
                />
              </div>

              <Space style={{ marginTop: 8 }}>
                <Button icon={<DownloadOutlined />}>Export</Button>
                <Button icon={<ShareAltOutlined />}>Share</Button>
              </Space>
            </Space>
          </Card>
        </Col>

        <Col xs={24} md={16}>
          <Card title="Resources">
            <Table<Resource>
              rowKey="key"
              columns={columns}
              dataSource={pagedResources}
              pagination={false}
              onRow={(record: Resource) => ({
                onClick: () =>
                  router.push(`/konnected/learning-library/resource/${record.key}`),
              })}
            />
            <div style={{ display: 'flex', justifyContent: 'center', marginTop: 16 }}>
              <Pagination
                current={current}
                pageSize={pageSize}
                total={filteredResources.length}
                onChange={(page: number) => setCurrent(page)}
                showSizeChanger={false}
              />
            </div>
          </Card>
        </Col>
      </Row>
    </div>
  );
}

===== END app/konnected/learning-library/browse-resources/page.tsx =====


===== BEGIN app/konnected/learning-library/offline-content/page.tsx =====
'use client';

import React, { useState } from 'react';
import PageContainer from '@/components/PageContainer';
import {
  Row,
  Col,
  Card,
  Button,
  Typography,
  Spin,
  message as antdMessage,
} from 'antd';
import {
  SyncOutlined,
  CheckCircleOutlined,
} from '@ant-design/icons';

const { Paragraph, Text } = Typography;

type OfflineContentPackage = {
  id: string;
  title: string;
  description: string;
  lastUpdated: string;
  downloaded: boolean;
  syncing: boolean;
  size?: string;
};

const initialPackages: OfflineContentPackage[] = [
  {
    id: 'foundation-js',
    title: 'JavaScript Foundations',
    description: 'Core JS concepts for beginners to intermediate learners.',
    lastUpdated: 'Never',
    downloaded: false,
    syncing: false,
  },
  {
    id: 'react-advanced',
    title: 'Advanced React',
    description: 'Hooks, performance patterns, suspense and more.',
    lastUpdated: 'Never',
    downloaded: false,
    syncing: false,
  },
  {
    id: 'data-viz',
    title: 'Data Visualization Toolkit',
    description: 'Build charts and dashboards with modern libraries.',
    lastUpdated: 'Never',
    downloaded: false,
    syncing: false,
  },
];

export default function OfflineContentPage(): JSX.Element {
  const [packages, setPackages] = useState<OfflineContentPackage[]>(initialPackages);

  // Sync / download a single package
  const handleSync = (id: string) => {
    // mark as syncing
    setPackages(prev =>
      prev.map(pkg => (pkg.id === id ? { ...pkg, syncing: true } : pkg)),
    );

    // simulate download
    setTimeout(() => {
      setPackages(prev =>
        prev.map(pkg =>
          pkg.id === id
            ? {
                ...pkg,
                syncing: false,
                downloaded: true,
                lastUpdated: new Date().toLocaleString(),
                size: pkg.size || '100 MB',
              }
            : pkg,
        ),
      );
      antdMessage.success(`Package "${id}" synced successfully!`);
    }, 2000);
  };

  // Sync all packages
  const handleSyncAll = () => {
    setPackages(prev => prev.map(pkg => ({ ...pkg, syncing: true })));

    setTimeout(() => {
      setPackages(prev =>
        prev.map(pkg => ({
          ...pkg,
          syncing: false,
          downloaded: true,
          lastUpdated: new Date().toLocaleString(),
          size: pkg.size || '100 MB',
        })),
      );
      antdMessage.success('All packages synced successfully!');
    }, 2000);
  };

  return (
    <PageContainer title="Offline Content">
      {/* Global Sync All button */}
      <Row justify="end" style={{ marginBottom: 24 }}>
        <Button type="primary" onClick={handleSyncAll}>
          Sync All
        </Button>
      </Row>

      {/* Grid of packages */}
      <Row gutter={[16, 16]}>
        {packages.map(pkg => (
          <Col xs={24} sm={12} md={8} key={pkg.id}>
            <Card
              title={pkg.title}
              extra={
                pkg.syncing ? (
                  <Spin
                    indicator={<SyncOutlined style={{ fontSize: 24 }} spin />}
                  />
                ) : (
                  <Button type="primary" onClick={() => handleSync(pkg.id)}>
                    {pkg.downloaded ? 'Sync Updates' : 'Download'}
                  </Button>
                )
              }
            >
              <Paragraph>{pkg.description}</Paragraph>
              <Text strong>Last Updated:</Text> <span>{pkg.lastUpdated}</span>
              {pkg.downloaded && (
                <>
                  <br />
                  <Text type="success">
                    <CheckCircleOutlined /> Up to date
                  </Text>
                  <br />
                  <Text>Size: {pkg.size}</Text>
                </>
              )}
            </Card>
          </Col>
        ))}
      </Row>
    </PageContainer>
  );
}

===== END app/konnected/learning-library/offline-content/page.tsx =====


===== BEGIN app/konnected/learning-library/recommended-resources/page.tsx =====
// C:\MyCode\Konnaxionv14\frontend\app\konnected\learning-library\recommended-resources\page.tsx
'use client';

import React, { useState } from 'react';
import { List, Card, Button, Typography, Divider } from 'antd';
import { ReloadOutlined } from '@ant-design/icons';
import { useRouter } from 'next/navigation';

const { Title, Paragraph, Text } = Typography;

type Resource = {
  key: string;
  title: string;
  summary: string;
  recommendationNote: string;
};

// Simulated recommended resources
const INITIAL_RESOURCES: Resource[] = [
  {
    key: '1',
    title: 'Advanced AI Techniques',
    summary:
      'Learn about deep learning, neural networks, and advanced AI strategies.',
    recommendationNote:
      'Recommended because you liked "Machine Learning Fundamentals".',
  },
  {
    key: '2',
    title: 'Introduction to Robotics',
    summary:
      'A beginner-friendly introduction covering the basics of robotics.',
    recommendationNote: 'Recommended based on your interest in Robotics.',
  },
  {
    key: '3',
    title: 'Innovative Design Trends',
    summary:
      'Discover the latest trends and methodologies in creative design.',
    recommendationNote:
      'Recommended because of your past searches in Design.',
  },
  {
    key: '4',
    title: 'Effective Data Analysis',
    summary:
      'A comprehensive guide to data analytics using modern tools.',
    recommendationNote:
      'Recommended due to your high rating on data science resources.',
  },
];

export default function RecommendedResources() {
  const router = useRouter();
  const [resources, setResources] = useState<Resource[]>(INITIAL_RESOURCES);

  // Simulate refreshing suggestions
  const refreshSuggestions = () => {
    setResources(prev => [...prev].sort(() => Math.random() - 0.5));
  };

  return (
    <div className="container" style={{ padding: 16 }}>
      <Title level={2}>Recommended Resources</Title>
      <Paragraph>
        Explore a curated list of resources tailored to your interests and
        learning path.
      </Paragraph>
      <Divider />

      <Button
        type="default"
        icon={<ReloadOutlined />}
        onClick={refreshSuggestions}
        style={{ marginBottom: 16 }}
      >
        Refresh Suggestions
      </Button>

      <List<Resource>
        grid={{ gutter: 16, xs: 1, sm: 2, md: 2, lg: 3, xl: 3 }}
        dataSource={resources}
        renderItem={(resource) => (
          <List.Item key={resource.key}>
            <Card
              hoverable
              title={resource.title}
              extra={
                <Button
                  type="link"
                  onClick={() =>
                    router.push(
                      `/konnected/learning-library/resource/${resource.key}`,
                    )
                  }
                >
                  View Resource
                </Button>
              }
            >
              <Paragraph>{resource.summary}</Paragraph>
              <Paragraph style={{ fontStyle: 'italic', fontSize: 12, marginBottom: 0 }}>
                <Text type="secondary">{resource.recommendationNote}</Text>
              </Paragraph>
            </Card>
          </List.Item>
        )}
      />
    </div>
  );
}

===== END app/konnected/learning-library/recommended-resources/page.tsx =====


===== BEGIN app/konnected/learning-library/search-filters/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import {
  Button,
  Card,
  Col,
  DatePicker,
  Divider,
  Form,
  Input,
  Modal,
  Row,
  Select,
  Slider,
  Space,
  Table,
  Tag,
  Typography,
} from 'antd';
import { SearchOutlined, FilterOutlined, ReloadOutlined } from '@ant-design/icons';
import dayjs from 'dayjs';
import type { Dayjs } from 'dayjs';
import type { ColumnsType } from 'antd/es/table';
import type { SliderRangeProps } from 'antd/es/slider'; // <-- added

import MainLayout from '@/shared/layout/MainLayout';

const { Title, Paragraph, Text } = Typography;
const { RangePicker } = DatePicker;
const { Option } = Select;

type Resource = {
  id: string;
  title: string;
  subject: string;
  type: 'Article' | 'Video' | 'Course' | 'Book' | 'Podcast';
  difficulty: number; // 1-5
  createdAt: string; // ISO
  tags: string[];
};

const MOCK_RESOURCES: Resource[] = [
  {
    id: '1',
    title: 'Sustainable Design Principles',
    subject: 'Sustainability',
    type: 'Article',
    difficulty: 2,
    createdAt: '2025-01-02',
    tags: ['eco', 'design'],
  },
  {
    id: '2',
    title: 'Advanced TypeScript Patterns',
    subject: 'Engineering',
    type: 'Course',
    difficulty: 4,
    createdAt: '2025-03-12',
    tags: ['typescript', 'patterns'],
  },
  {
    id: '3',
    title: 'Community Moderation 101',
    subject: 'Community',
    type: 'Video',
    difficulty: 1,
    createdAt: '2024-11-14',
    tags: ['moderation', 'basics'],
  },
  {
    id: '4',
    title: 'Ethical AI in Decision Making',
    subject: 'Ethics',
    type: 'Podcast',
    difficulty: 3,
    createdAt: '2025-07-09',
    tags: ['ai', 'ethics'],
  },
];

const ALL_SUBJECTS = ['Sustainability', 'Engineering', 'Community', 'Ethics', 'Leadership'];
const ALL_TYPES: Resource['type'][] = ['Article', 'Video', 'Course', 'Book', 'Podcast'];

const SearchFiltersPage: React.FC = () => {
  const [query, setQuery] = useState<string>('');

  const [selectedSubjects, setSelectedSubjects] = useState<string[]>([]);
  const [dateRange, setDateRange] = useState<[Dayjs, Dayjs] | null>(null);
  const [difficultyRange, setDifficultyRange] = useState<[number, number]>([1, 5]);
  const [resourceTypes, setResourceTypes] = useState<Resource['type'][]>([]);
  const [category, setCategory] = useState<string>('All');

  const [advancedOpen, setAdvancedOpen] = useState(false);

  const resetFilters = () => {
    setQuery('');
    setSelectedSubjects([]);
    setDateRange(null);
    setDifficultyRange([1, 5]);
    setResourceTypes([]);
    setCategory('All');
  };

  const filteredData = useMemo(() => {
    return MOCK_RESOURCES.filter((res) => {
      if (query.trim()) {
        const q = query.trim().toLowerCase();
        const hay = `${res.title} ${res.subject} ${res.tags.join(' ')}`.toLowerCase();
        if (!hay.includes(q)) return false;
      }

      if (selectedSubjects.length > 0 && !selectedSubjects.includes(res.subject)) {
        return false;
      }

      if (resourceTypes.length > 0 && !resourceTypes.includes(res.type)) {
        return false;
      }

      if (res.difficulty < difficultyRange[0] || res.difficulty > difficultyRange[1]) {
        return false;
      }

      if (dateRange) {
        const [start, end] = dateRange;
        const resDate = dayjs(res.createdAt);
        if (resDate.isBefore(start, 'day') || resDate.isAfter(end, 'day')) {
          return false;
        }
      }

      if (category !== 'All') {
        if (category === 'Featured' && res.id !== '1') return false;
        if (category === 'New' && dayjs().diff(dayjs(res.createdAt), 'day') > 60) return false;
      }

      return true;
    });
  }, [query, selectedSubjects, resourceTypes, difficultyRange, dateRange, category]);

  const columns: ColumnsType<Resource> = [
    {
      title: 'Title',
      dataIndex: 'title',
      key: 'title',
      render: (_: unknown, record: Resource) => (
        <Space direction="vertical" size={0}>
          <Text strong>{record.title}</Text>
          <Text type="secondary">{record.subject}</Text>
        </Space>
      ),
    },
    {
      title: 'Type',
      dataIndex: 'type',
      key: 'type',
      render: (t: Resource['type']) => <Tag>{t}</Tag>,
    },
    {
      title: 'Difficulty',
      dataIndex: 'difficulty',
      key: 'difficulty',
      render: (d: number) => (
        <Space>
          <Text>{d}</Text>
        </Space>
      ),
    },
    {
      title: 'Created',
      dataIndex: 'createdAt',
      key: 'createdAt',
      render: (d: string) => dayjs(d).format('YYYY-MM-DD'),
    },
    {
      title: 'Tags',
      dataIndex: 'tags',
      key: 'tags',
      render: (tags: string[]) => (
        <Space wrap>
          {tags.map((t) => (
            <Tag key={t}>{t}</Tag>
          ))}
        </Space>
      ),
    },
  ];

  // FIX: onChange must be (value: number[]) when range is enabled
  const handleDifficultyChange: SliderRangeProps['onChange'] = (value) => {
    const [min, max] = value as [number, number];
    setDifficultyRange([min, max]);
  };

  const handleDateRangeChange = (dates: null | [Dayjs | null, Dayjs | null]) => {
    if (dates && dates[0] && dates[1]) setDateRange([dates[0], dates[1]]);
    else setDateRange(null);
  };

  return (
    <MainLayout>
      <Row gutter={[16, 16]}>
        <Col span={24}>
          <Title level={2}>Learning Library — Search &amp; Filters</Title>
          <Paragraph type="secondary">
            Recherchez dans les ressources avec des filtres combinables (matière, type, difficulté, plage de dates, etc.).
          </Paragraph>
        </Col>

        {/* Barre de recherche + actions */}
        <Col span={24}>
          <Card>
            <Row gutter={[12, 12]} align="middle">
              <Col xs={24} md={12}>
                <Input
                  value={query}
                  onChange={(e) => setQuery(e.target.value)}
                  placeholder="Rechercher par titre / sujet / tag…"
                  allowClear
                  prefix={<SearchOutlined />}
                />
              </Col>
              <Col xs={24} md={12}>
                <Space style={{ width: '100%', justifyContent: 'flex-end' }}>
                  <Button icon={<FilterOutlined />} onClick={() => setAdvancedOpen(true)}>
                    Filtres avancés
                  </Button>
                  <Button icon={<ReloadOutlined />} onClick={resetFilters}>
                    Réinitialiser
                  </Button>
                </Space>
              </Col>
            </Row>

            <Divider />

            {/* Filtres rapides */}
            <Row gutter={[12, 12]}>
              <Col xs={24} md={8}>
                <Text strong>Matières</Text>
                <Select
                  mode="multiple"
                  style={{ width: '100%' }}
                  placeholder="Sélectionner des matières"
                  value={selectedSubjects}
                  onChange={setSelectedSubjects}
                >
                  {ALL_SUBJECTS.map((s) => (
                    <Option key={s} value={s}>
                      {s}
                    </Option>
                  ))}
                </Select>
              </Col>

              <Col xs={24} md={8}>
                <Text strong>Types</Text>
                <Select
                  mode="multiple"
                  style={{ width: '100%' }}
                  placeholder="Sélectionner des types"
                  value={resourceTypes}
                  onChange={(vals) => setResourceTypes(vals as Resource['type'][])}
                >
                  {ALL_TYPES.map((t) => (
                    <Option key={t} value={t}>
                      {t}
                    </Option>
                  ))}
                </Select>
              </Col>

              <Col xs={24} md={8}>
                <Text strong>Difficulté</Text>
                <Slider
                  range={{ draggableTrack: true }}
                  min={1}
                  max={5}
                  step={1}
                  value={difficultyRange}        // [number, number] is fine for value
                  onChange={handleDifficultyChange} // now typed as (value: number[]) => void
                />
              </Col>
            </Row>
          </Card>
        </Col>

        {/* Résultats */}
        <Col span={24}>
          <Card>
            <Space style={{ width: '100%', justifyContent: 'space-between', marginBottom: 12 }}>
              <Text type="secondary">Résultats: {filteredData.length}</Text>
              <Select value={category} onChange={setCategory} style={{ width: 180 }}>
                <Option value="All">Toutes les catégories</Option>
                <Option value="Featured">Mises en avant</Option>
                <Option value="New">Nouveautés</Option>
              </Select>
            </Space>

            <Table<Resource>
              rowKey="id"
              columns={columns}
              dataSource={filteredData}
              pagination={{ pageSize: 8 }}
            />
          </Card>
        </Col>
      </Row>

      {/* Filtres avancés */}
      <Modal
        open={advancedOpen}
        title="Filtres avancés"
        onOk={() => setAdvancedOpen(false)}
        onCancel={() => setAdvancedOpen(false)}
        okText="Appliquer"
      >
        <Form layout="vertical">
          <Form.Item label="Plage de dates">
            <RangePicker onChange={handleDateRangeChange} style={{ width: '100%' }} />
          </Form.Item>

          <Form.Item label="Mots-clés">
            <Input
              placeholder="Mots-clés additionnels…"
              value={query}
              onChange={(e) => setQuery(e.target.value)}
              allowClear
            />
          </Form.Item>
        </Form>
      </Modal>
    </MainLayout>
  );
};

export default SearchFiltersPage;

===== END app/konnected/learning-library/search-filters/page.tsx =====


===== BEGIN app/konnected/learning-paths/create-learning-path/page.tsx =====
'use client'

import React, { useState } from 'react';
import {
  Button,
  Card,
  Form,
  Input,
  List,
  Modal,
  Select,
  Steps,
  Table,
  Typography,
} from 'antd';
import PageContainer from '@/components/PageContainer';

const { Title, Paragraph } = Typography;
const { Option } = Select;

type Step = {
  id: string;
  title: string;
  type: 'lesson' | 'quiz' | 'assignment';
  content: string;
  resourceIds: string[];
};

type LearningPath = {
  id: string;
  name: string;
  description: string;
  difficulty: 'Beginner' | 'Intermediate' | 'Advanced';
  steps: Step[];
  tags: string[];
};

const initialSteps: Step[] = [
  {
    id: 'step-1',
    title: 'Introduction to the Subject',
    type: 'lesson',
    content: 'Overview of the key concepts that will be covered in this learning path.',
    resourceIds: ['res-1', 'res-2'],
  },
  {
    id: 'step-2',
    title: 'Knowledge Check Quiz',
    type: 'quiz',
    content: 'A brief quiz to evaluate understanding of the introduction.',
    resourceIds: [],
  },
];

const availableResources = [
  { id: 'res-1', name: 'Intro Article', type: 'Article' },
  { id: 'res-2', name: 'Intro Video', type: 'Video' },
  { id: 'res-3', name: 'Cheat Sheet', type: 'Document' },
  { id: 'res-4', name: 'Practice Repo', type: 'Code' },
];

const CreateLearningPath = () => {
  const [form] = Form.useForm();
  const [resourceForm] = Form.useForm();
  const [stepForm] = Form.useForm();

  const [currentStep, setCurrentStep] = useState(0);
  const [steps, setSteps] = useState<Step[]>(initialSteps);
  const [selectedStep, setSelectedStep] = useState<Step | null>(null);

  const [isStepModalVisible, setStepModalVisible] = useState(false);
  const [isResourceModalVisible, setResourceModalVisible] = useState(false);

  const stepItems = [
    { title: 'Basics' },
    { title: 'Steps' },
    { title: 'Resources' },
    { title: 'Review & Create' },
  ];

  const onNext = () => setCurrentStep((s) => Math.min(s + 1, stepItems.length - 1));
  const onPrev = () => setCurrentStep((s) => Math.max(s - 1, 0));

  const handleAddStep = () => {
    setSelectedStep(null);
    stepForm.resetFields();
    setStepModalVisible(true);
  };

  const handleEditStep = (step: Step) => {
    setSelectedStep(step);
    stepForm.setFieldsValue(step);
    setStepModalVisible(true);
  };

  const handleDeleteStep = (id: string) => {
    setSteps((prev) => prev.filter((s) => s.id !== id));
  };

  const submitStep = () => {
    stepForm.validateFields().then((values: Omit<Step, 'id'>) => {
      if (selectedStep) {
        setSteps((prev) =>
          prev.map((s) => (s.id === selectedStep.id ? { ...selectedStep, ...values } : s)),
        );
      } else {
        const newStep: Step = {
          id: `step-${Date.now()}`,
          ...values,
        };
        setSteps((prev) => [...prev, newStep]);
      }
      setStepModalVisible(false);
    });
  };

  const openResourceModal = (step: Step) => {
    setSelectedStep(step);
    resourceForm.setFieldsValue({ resourceIds: step.resourceIds });
    setResourceModalVisible(true);
  };

  const submitResources = () => {
    resourceForm.validateFields().then(({ resourceIds }: { resourceIds: string[] }) => {
      if (selectedStep) {
        setSteps((prev) =>
          prev.map((s) => (s.id === selectedStep.id ? { ...s, resourceIds } : s)),
        );
      }
      setResourceModalVisible(false);
    });
  };

  const onFinishBasics = (_values: any) => {
    // Basics are read from `form` during final submit
  };

  const onSubmitPath = async () => {
    const basics = await form.validateFields();
    const path: LearningPath = {
      id: `path-${Date.now()}`,
      name: basics.name,
      description: basics.description,
      difficulty: basics.difficulty,
      steps,
      tags: basics.tags || [],
    };
    // TODO: Send `path` to your backend
    console.log('New Learning Path:', path);
  };

  const columns = [
    { title: 'Title', dataIndex: 'title' as const },
    {
      title: 'Type',
      dataIndex: 'type' as const,
      render: (t: Step['type']) => t.charAt(0).toUpperCase() + t.slice(1),
    },
    { title: 'Content', dataIndex: 'content' as const, ellipsis: true },
    {
      title: 'Resources',
      dataIndex: 'resourceIds' as const,
      render: (ids: string[]) =>
        ids.length ? (
          <List
            size="small"
            dataSource={ids}
            renderItem={(id) => {
              const res = availableResources.find((r) => r.id === id);
              return <List.Item>{res ? `${res.name} (${res.type})` : id}</List.Item>;
            }}
          />
        ) : (
          <em>None</em>
        ),
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: Step) => (
        <div style={{ display: 'flex', gap: 8 }}>
          <Button onClick={() => handleEditStep(record)}>Edit</Button>
          <Button onClick={() => openResourceModal(record)}>Resources</Button>
          <Button danger onClick={() => handleDeleteStep(record.id)}>
            Delete
          </Button>
        </div>
      ),
    },
  ];

  const StepBasics = (
    <Card>
      <Title level={4}>Learning Path Basics</Title>
      <Paragraph>Provide the basic information for your learning path.</Paragraph>
      <Form
        form={form}
        layout="vertical"
        onFinish={onFinishBasics}
        initialValues={{ difficulty: 'Beginner', tags: ['Onboarding'] }}
      >
        <Form.Item
          label="Path Name"
          name="name"
          rules={[{ required: true, message: 'Please enter a name for the learning path.' }]}
        >
          <Input placeholder="e.g., Web Fundamentals for New Team Members" />
        </Form.Item>

        <Form.Item
          label="Description"
          name="description"
          rules={[{ required: true, message: 'Please enter a brief description.' }]}
        >
          <Input.TextArea rows={4} placeholder="Describe the goals and audience for this path..." />
        </Form.Item>

        <Form.Item label="Difficulty" name="difficulty" rules={[{ required: true }]}>
          <Select>
            <Option value="Beginner">Beginner</Option>
            <Option value="Intermediate">Intermediate</Option>
            <Option value="Advanced">Advanced</Option>
          </Select>
        </Form.Item>

        <Form.Item label="Tags" name="tags">
          <Select mode="tags" placeholder="Add tags (optional)" />
        </Form.Item>
      </Form>
    </Card>
  );

  const StepSteps = (
    <Card>
      <Title level={4}>Define Steps</Title>
      <Paragraph>Create and organize the steps that make up this learning path.</Paragraph>

      <div style={{ marginBottom: 16 }}>
        <Button type="primary" onClick={handleAddStep}>
          Add Step
        </Button>
      </div>

      <Table rowKey="id" dataSource={steps} columns={columns} pagination={false} />
    </Card>
  );

  const StepResources = (
    <Card>
      <Title level={4}>Manage Resources</Title>
      <Paragraph>
        Resources are supporting materials linked to steps (articles, videos, documents, code, etc.).
        Use the “Resources” action on each step to attach relevant items.
      </Paragraph>
      <List
        header="Available Resources"
        dataSource={availableResources}
        renderItem={(item) => (
          <List.Item>
            <List.Item.Meta title={`${item.name} (${item.type})`} description={`ID: ${item.id}`} />
          </List.Item>
        )}
      />
    </Card>
  );

  const StepReview = (
    <Card>
      <Title level={4}>Review & Create</Title>
      <Paragraph>Review all details, then click “Create Path”.</Paragraph>

      <Title level={5} style={{ marginTop: 8 }}>Basics</Title>
      <List
        size="small"
        dataSource={[
          { label: 'Name', value: form.getFieldValue('name') },
          { label: 'Description', value: form.getFieldValue('description') },
          { label: 'Difficulty', value: form.getFieldValue('difficulty') },
          { label: 'Tags', value: (form.getFieldValue('tags') || []).join(', ') || '—' },
        ]}
        renderItem={(i) => (
          <List.Item>
            <strong style={{ width: 120, display: 'inline-block' }}>{i.label}:</strong>{' '}
            {i.value || '—'}
          </List.Item>
        )}
      />

      <Title level={5} style={{ marginTop: 16 }}>Steps</Title>
      <Table
        rowKey="id"
        dataSource={steps}
        columns={[
          { title: '#', render: (_: any, __: Step, idx: number) => idx + 1, width: 60 },
          { title: 'Title', dataIndex: 'title' as const },
          { title: 'Type', dataIndex: 'type' as const },
          {
            title: 'Resources',
            dataIndex: 'resourceIds' as const,
            render: (ids: string[]) => (ids?.length ?? 0),
          },
        ]}
        pagination={false}
      />

      <div style={{ marginTop: 16 }}>
        <Button type="primary" onClick={onSubmitPath}>
          Create Path
        </Button>
      </div>
    </Card>
  );

  return (
    <>
      <PageContainer title="Create Learning Path">
        <Steps current={currentStep} items={stepItems} style={{ marginBottom: 24 }} />

        <div>
          {currentStep === 0 && StepBasics}
          {currentStep === 1 && StepSteps}
          {currentStep === 2 && StepResources}
          {currentStep === 3 && StepReview}
        </div>

        <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: 24 }}>
          <Button onClick={onPrev} disabled={currentStep === 0}>
            Previous
          </Button>
          <Button type="primary" onClick={onNext} disabled={currentStep === stepItems.length - 1}>
            Next
          </Button>
        </div>
      </PageContainer>

      {/* Step Create/Edit Modal */}
      <Modal
        title={selectedStep ? 'Edit Step' : 'Add Step'}
        open={isStepModalVisible}
        onOk={submitStep}
        onCancel={() => setStepModalVisible(false)}
      >
        <Form form={stepForm} layout="vertical" initialValues={{ type: 'lesson' }}>
          <Form.Item
            name="title"
            label="Step Title"
            rules={[{ required: true, message: 'Please enter a step title.' }]}
          >
            <Input placeholder="e.g., Understanding HTML & CSS" />
          </Form.Item>

          <Form.Item name="type" label="Step Type">
            <Select>
              <Option value="lesson">Lesson</Option>
              <Option value="quiz">Quiz</Option>
              <Option value="assignment">Assignment</Option>
            </Select>
          </Form.Item>

          <Form.Item
            name="content"
            label="Content / Instructions"
            rules={[{ required: true, message: 'Please provide content or instructions.' }]}
          >
            <Input.TextArea
              rows={4}
              placeholder="Write the lesson content, quiz outline, or assignment brief..."
            />
          </Form.Item>
        </Form>
      </Modal>

      {/* Resource Selector Modal */}
      <Modal
        title="Attach Resources"
        open={isResourceModalVisible}
        onOk={submitResources}
        onCancel={() => setResourceModalVisible(false)}
      >
        <Form form={resourceForm} layout="vertical">
          <Form.Item
            name="resourceIds"
            label="Resources"
            rules={[{ required: true, message: 'Please select a resource.' }]}
          >
            <Select placeholder="Select resources" mode="multiple" allowClear>
              {availableResources.map((resource) => (
                <Option key={resource.id} value={resource.id}>
                  {resource.name} ({resource.type})
                </Option>
              ))}
            </Select>
          </Form.Item>

          <Form.Item name="note" label="Add a Note (optional)">
            <Input placeholder="Enter any instructions or additional notes" />
          </Form.Item>
        </Form>
      </Modal>
    </>
  );
};

export default CreateLearningPath;

===== END app/konnected/learning-paths/create-learning-path/page.tsx =====


===== BEGIN app/konnected/learning-paths/manage-existing-paths/page.tsx =====
﻿'use client';

import React, { useState } from 'react';
import Link from 'next/link';
import { Button, Empty, Modal, Space, Table, Tag, Typography, message } from 'antd';
import type { ColumnsType } from 'antd/es/table';
import { DeleteOutlined, EditOutlined, PlusOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { Title, Paragraph } = Typography;

type LearningPathStatus = 'Draft' | 'Published' | 'Archived';

export interface LearningPath {
  id: string;
  title: string;
  description?: string;
  createdAt: string; // ISO string
  modulesCount: number;
  learnersCount: number;
  status: LearningPathStatus;
}

export default function Page() {
  const [paths, setPaths] = useState<LearningPath[]>([]);
  const [loading] = useState<boolean>(false);

  const handleDelete = (id: string) => {
    Modal.confirm({
      title: 'Delete this learning path?',
      content:
        'This action cannot be undone. If this path is assigned to learners, consider archiving instead.',
      okText: 'Delete',
      okButtonProps: { danger: true },
      onOk: async () => {
        setPaths(prev => prev.filter(p => p.id !== id));
        message.success('Learning path deleted');
      },
    });
  };

  const columns: ColumnsType<LearningPath> = [
    {
      title: 'Title',
      dataIndex: 'title',
      key: 'title',
      render: (text: string, record: LearningPath) => (
        <Link href={`/konnected/learning-paths/manage-existing-paths/${record.id}`}>
          {text}
        </Link>
      ),
    },
    {
      title: 'Modules',
      dataIndex: 'modulesCount',
      key: 'modulesCount',
      width: 110,
      align: 'right',
    },
    {
      title: 'Learners',
      dataIndex: 'learnersCount',
      key: 'learnersCount',
      width: 120,
      align: 'right',
    },
    {
      title: 'Created',
      dataIndex: 'createdAt',
      key: 'createdAt',
      render: (iso: string) => new Date(iso).toLocaleDateString(),
      width: 140,
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
      render: (status: LearningPathStatus) => {
        const color =
          status === 'Published' ? 'green' : status === 'Draft' ? 'gold' : 'default';
        return <Tag color={color}>{status}</Tag>;
      },
      width: 120,
    },
    {
      title: 'Actions',
      key: 'actions',
      fixed: 'right',
      width: 170,
      render: (_: unknown, record: LearningPath) => (
        <Space>
          <Link href={`/konnected/learning-paths/manage-existing-paths/${record.id}/edit`}>
            <Button icon={<EditOutlined />} type="link">
              Edit
            </Button>
          </Link>
          <Button
            icon={<DeleteOutlined />}
            type="link"
            danger
            onClick={() => handleDelete(record.id)}
          >
            Delete
          </Button>
        </Space>
      ),
    },
  ];

  return (
    <PageContainer title="Manage Existing Paths">
      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 16 }}>
        <div />
        <Link href="/konnected/learning-paths/create-learning-path">
          <Button type="primary" icon={<PlusOutlined />}>
            Create Path
          </Button>
        </Link>
      </div>

      <Title level={4} style={{ marginBottom: 8 }}>Manage Existing Paths</Title>
      <Paragraph type="secondary" style={{ marginBottom: 24 }}>
        Review, edit, archive or delete learning paths. Published paths affect learners currently
        enrolled.
      </Paragraph>

      {paths.length > 0 ? (
        <Table<LearningPath>
          rowKey="id"
          columns={columns}
          dataSource={paths}
          loading={loading}
          pagination={{ pageSize: 10 }}
          scroll={{ x: 900 }}
        />
      ) : (
        <Empty description="No learning paths found.">
          <Link href="/konnected/learning-paths/create-learning-path">
            <Button type="primary">Create New Path</Button>
          </Link>
        </Empty>
      )}
    </PageContainer>
  );
}

===== END app/konnected/learning-paths/manage-existing-paths/page.tsx =====


===== BEGIN app/konnected/learning-paths/manage-existing-paths/page.tsx.bak =====
'use client'

// File: /pages/konnected/learning-paths/manage-existing-paths.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import { Table,
  Button,
  Modal,
  Typography,
  Input,
  Space,
  Empty,
  message as antdMessage,
 } from 'antd';
import { EditOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title } = Typography;
const { Search } = Input;

interface LearningPath {
  id: string;
  title: string;
  lastUpdated: string;
  status: 'Published' | 'Draft';
}

const initialPaths: LearningPath[] = [
  {
    id: '1',
    title: 'Introduction to Programming',
    lastUpdated: '2023-09-15',
    status: 'Published',
  },
  {
    id: '2',
    title: 'Advanced Web Development',
    lastUpdated: '2023-08-10',
    status: 'Draft',
  },
  // Ajoutez d'autres parcours selon les besoins
];

const ManageExistingPaths: NextPage = () => {
  const [paths, setPaths] = useState<LearningPath[]>(initialPaths);
  const [searchText, setSearchText] = useState<string>('');
  
  // Filtrage des parcours selon le texte de recherche
  const filteredPaths = paths.filter((path) =>
    path.title.toLowerCase().includes(searchText.toLowerCase())
  );

  // Gestion de la suppression d'un parcours
  const handleDelete = (id: string) => {
    Modal.confirm({
      title: 'Confirm Deletion',
      content: 'Are you sure you want to delete this learning path?',
      okType: 'danger',
      onOk: () => {
        setPaths(paths.filter((path) => path.id !== id));
        antdMessage.success('Learning path deleted successfully');
      },
    });

  // Colonnes du tableau
  const columns = [
    {
      title: 'Path Title',
      dataIndex: 'title',
      key: 'title',
    },
    {
      title: 'Last Updated',
      dataIndex: 'lastUpdated',
      key: 'lastUpdated',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: LearningPath) => (
        <Space>
          <Button
            icon={<EditOutlined />}
            type="link"
            onClick={() => {
              // Redirection vers la page d'édition (ex: /learning-paths/edit/[id])
              window.location.href = `/learning-paths/edit/${record.id}`;
            }}
          >
            Edit
          </Button>
          <Button
            icon={<DeleteOutlined />}
            type="link"
            danger
            onClick={() => handleDelete(record.id)}
          >
            Delete
          </Button>
        </Space>
      ),
    },
  ];

  return (
    <PageContainer title="Manage Existing Paths">
      <div
        style={{
          marginBottom: 24,
          display: 'flex',
          justifyContent: 'space-between',
        }}
      >
        <Search
          placeholder="Search by path name"
          onChange={(e) => setSearchText(e.target.value)}
          style={{ width: 300 }}
        />
        <Button type="primary" icon={<PlusOutlined />} href="/learning-paths/create">
          Create New Path
        </Button>
      </div>

      {filteredPaths.length > 0 ? (
        <Table
          dataSource={filteredPaths}
          columns={columns}
          rowKey="id"
          pagination={{ pageSize: 5 }}
        />
      ) : (
        <Empty description="No learning paths found.">
          <Button type="primary" href="/learning-paths/create">
            Create New Path
          </Button>
        </Empty>
      )}
    </PageContainer>
  );


  return <MainLayout>{page}</MainLayout>;

export default ManageExistingPaths;
}}

===== END app/konnected/learning-paths/manage-existing-paths/page.tsx.bak =====


===== BEGIN app/konnected/learning-paths/my-learning-path/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import { Card, Steps, Progress, Button, Typography, Empty } from 'antd';
import { useRouter } from 'next/navigation';

const { Title, Paragraph } = Typography;
const { Step } = Steps;

type Lesson = { id: string; name: string; completed: boolean; href?: string };
type LearningPath = {
  id: string;
  title: string;
  description: string;
  lessons: Lesson[];
};

const initialLearningPath: LearningPath = {
  id: '1',
  title: 'Beginner Web Development',
  description:
    'A comprehensive path to learn web development from scratch. You will start with HTML and CSS and move on to JavaScript and modern frameworks.',
  lessons: [
    { id: '1', name: 'HTML Basics', completed: true },
    { id: '2', name: 'CSS Fundamentals', completed: true },
    { id: '3', name: 'Introduction to JavaScript', completed: false },
    { id: '4', name: 'Responsive Design', completed: false },
    { id: '5', name: 'Basic React', completed: false },
  ],
};

export default function Page() {
  const router = useRouter();
  const [learningPath] = useState<LearningPath | null>(initialLearningPath);

  const progress = useMemo(() => {
    if (!learningPath) return 0;
    const total = learningPath.lessons.length || 1;
    const done = learningPath.lessons.filter((l) => l.completed).length;
    return Math.round((done / total) * 100);
  }, [learningPath]);

  const firstIncompleteIndex = useMemo(() => {
    if (!learningPath) return -1;
    return learningPath.lessons.findIndex((l) => !l.completed);
  }, [learningPath]);

  const nextLesson = useMemo<Lesson | null>(() => {
    if (!learningPath) return null;
    if (firstIncompleteIndex < 0) return null;
    return learningPath.lessons[firstIncompleteIndex] ?? null;
  }, [learningPath, firstIncompleteIndex]);

  const goToLesson = (lessonId: string, href?: string) => {
    router.push(href ?? `/konnected/learning-library/lesson/${lessonId}`);
  };

  if (!learningPath) {
    return (
      <div className="container mx-auto p-5">
        <Title level={2}>My Learning Path</Title>
        <Empty description="You are not enrolled in any learning path yet. Explore our available learning paths to get started." />
      </div>
    );
  }

  return (
    <div className="container mx-auto p-5">
      <Title level={2}>My Learning Path</Title>

      <Card className="mb-4">
        <Title level={4}>{learningPath.title}</Title>
        <Paragraph>{learningPath.description}</Paragraph>
      </Card>

      <Card className="mb-4">
        <Title level={5}>Overall Progress</Title>
        <Progress percent={progress} status="active" />
        {nextLesson && (
          <div style={{ marginTop: 12 }}>
            <Button
              type="primary"
              onClick={() => {
                if (!nextLesson) return;
                goToLesson(nextLesson.id, nextLesson.href);
              }}
            >
              Continue where you left off
            </Button>
          </div>
        )}
      </Card>

      <Card>
        <Title level={5}>Your Lessons</Title>
        <Steps direction="vertical" current={Math.max(firstIncompleteIndex, 0)}>
          {learningPath.lessons.map((lesson, index) => (
            <Step
              key={lesson.id}
              title={lesson.name}
              status={
                lesson.completed
                  ? 'finish'
                  : index === firstIncompleteIndex
                  ? 'process'
                  : 'wait'
              }
              description={
                <Button type="link" onClick={() => goToLesson(lesson.id, lesson.href)}>
                  Go to Lesson
                </Button>
              }
            />
          ))}
        </Steps>
      </Card>
    </div>
  );
}

===== END app/konnected/learning-paths/my-learning-path/page.tsx =====


===== BEGIN app/konnected/teams-collaboration/activity-planner/page.tsx =====
'use client';

import React, { useState } from 'react';
import type { CalendarProps } from 'antd';
import {
  Calendar,
  Modal,
  Form,
  DatePicker,
  TimePicker,
  Input,
  Button,
  List,
  Select,
  Typography,
  Row,
  Col,
  message,
} from 'antd';
import { PlusOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import dayjs, { Dayjs } from 'dayjs';

const { Title, Text } = Typography;

/** Domain types */
interface ActivityEvent {
  id: string;
  title: string;
  description: string;
  /** Stored as Dayjs (AntD v5 default) */
  dateTime: Dayjs;
  owner: string;
  team: string;
}

interface ActivityForm {
  eventTitle: string;
  eventDescription?: string;
  eventDate: Dayjs;
  eventTime: Dayjs;
  team: string;
  owner: string;
}

/** Team list for filter and form */
const teamOptions = ['All', 'Alpha Innovators', 'Beta Coders', 'Gamma Team'];

export default function Page() {
  const [events, setEvents] = useState<ActivityEvent[]>([
    {
      id: 'evt1',
      title: 'Team Meeting',
      description: 'Réunion d’équipe pour définir les prochaines étapes.',
      dateTime: dayjs().add(2, 'day').hour(10).minute(0),
      owner: 'Alice',
      team: 'Alpha Innovators',
    },
    {
      id: 'evt2',
      title: 'Sprint Planning',
      description: 'Planification du sprint avec présentation du backlog.',
      dateTime: dayjs().add(4, 'day').hour(9).minute(30),
      owner: 'Bob',
      team: 'Beta Coders',
    },
  ]);

  const [selectedTeam, setSelectedTeam] = useState<string>('All');
  const [modalVisible, setModalVisible] = useState<boolean>(false);
  const [preSelectedDate, setPreSelectedDate] = useState<Dayjs | null>(null);

  const [form] = Form.useForm<ActivityForm>();

  const filteredEvents =
    selectedTeam === 'All'
      ? events
      : events.filter((evt) => evt.team === selectedTeam);

  /** AntD v5: use `cellRender` for date cells */
  const cellRender: CalendarProps<Dayjs>['cellRender'] = (value, info) => {
    if (info.type !== 'date') return info.originNode;
    const listData = events.filter((evt) => evt.dateTime.isSame(value, 'day'));
    if (!listData.length) return info.originNode;

    return (
      <ul style={{ padding: 0, margin: 0, listStyle: 'none' }}>
        {listData.map((item) => (
          <li key={item.id}>
            <Text style={{ fontSize: 10 }}>{item.title}</Text>
          </li>
        ))}
      </ul>
    );
  };

  /** Calendar selection uses Dayjs in AntD v5 */
  const handleDateSelect = (value: Dayjs) => {
    setPreSelectedDate(value);
    // preset only the date; time stays empty until user picks it
    form.setFieldsValue({ eventDate: value } as Partial<ActivityForm>);
    setModalVisible(true);
  };

  /** Submit new event with strongly typed form values */
  const handleAddEvent = (values: ActivityForm) => {
    const { eventTitle, eventDescription, eventDate, eventTime, team, owner } =
      values;

    const dateTime = eventDate
      .clone()
      .hour(eventTime.hour())
      .minute(eventTime.minute())
      .second(0)
      .millisecond(0);

    const newEvent: ActivityEvent = {
      id: `evt${Date.now()}`,
      title: eventTitle,
      description: eventDescription ?? '',
      dateTime,
      owner,
      team,
    };

    setEvents((prev) => [...prev, newEvent]);
    message.success('Activity added');
    form.resetFields();
    setPreSelectedDate(null);
    setModalVisible(false);
  };

  return (
    <PageContainer title="Activity Planner">
      <Row gutter={[24, 24]}>
        <Col xs={24} md={16}>
          <Calendar cellRender={cellRender} onSelect={handleDateSelect} />
        </Col>

        <Col xs={24} md={8}>
          <Title level={4}>Upcoming Activities</Title>

          <Select
            style={{ width: '100%', marginBottom: 16 }}
            value={selectedTeam}
            onChange={(value: string) => setSelectedTeam(value)}
            options={teamOptions.map((t) => ({ value: t, label: t }))}
          />

          <List
            dataSource={[...filteredEvents].sort((a, b) =>
              a.dateTime.diff(b.dateTime),
            )}
            renderItem={(item: ActivityEvent) => (
              <List.Item>
                <List.Item.Meta
                  title={item.title}
                  description={
                    <>
                      <Text type="secondary">
                        {item.dateTime.format('MMM D, YYYY, HH:mm')}
                      </Text>
                      <br />
                      <Text strong>Owner:</Text> {item.owner}
                      <br />
                      <Text strong>Team:</Text> {item.team}
                    </>
                  }
                />
              </List.Item>
            )}
          />

          <Button
            type="primary"
            icon={<PlusOutlined />}
            style={{ marginTop: 16 }}
            onClick={() => {
              setPreSelectedDate(null);
              form.resetFields();
              setModalVisible(true);
            }}
          >
            Add Activity
          </Button>
        </Col>
      </Row>

      <Modal
        title="Add New Activity"
        open={modalVisible}
        onCancel={() => {
          setModalVisible(false);
          form.resetFields();
          setPreSelectedDate(null);
        }}
        footer={null}
      >
        <Form<ActivityForm> form={form} layout="vertical" onFinish={handleAddEvent}>
          <Form.Item
            label="Event Title"
            name="eventTitle"
            rules={[{ required: true, message: 'Please enter the event title.' }]}
          >
            <Input placeholder="Event title" />
          </Form.Item>

          <Form.Item label="Description" name="eventDescription">
            <Input.TextArea rows={3} placeholder="Event description" />
          </Form.Item>

          <Form.Item
            label="Date"
            name="eventDate"
            rules={[{ required: true, message: 'Please select a date.' }]}
          >
            <DatePicker style={{ width: '100%' }} />
          </Form.Item>

          <Form.Item
            label="Time"
            name="eventTime"
            rules={[{ required: true, message: 'Please select a time.' }]}
          >
            <TimePicker style={{ width: '100%' }} format="HH:mm" />
          </Form.Item>

          <Form.Item
            label="Team"
            name="team"
            rules={[{ required: true, message: 'Please select a team.' }]}
            initialValue={teamOptions[1]}
          >
            <Select
              options={teamOptions
                .filter((t) => t !== 'All')
                .map((t) => ({ value: t, label: t }))}
            />
          </Form.Item>

          <Form.Item
            label="Owner"
            name="owner"
            rules={[{ required: true, message: 'Please enter the owner.' }]}
          >
            <Input placeholder="Owner name" />
          </Form.Item>

          <Form.Item>
            <Button type="primary" htmlType="submit" block>
              Add Activity
            </Button>
          </Form.Item>
        </Form>
      </Modal>
    </PageContainer>
  );
}

===== END app/konnected/teams-collaboration/activity-planner/page.tsx =====


===== BEGIN app/konnected/teams-collaboration/my-teams/page.tsx =====
﻿/* eslint-disable react/jsx-key */
'use client';

import React, { useMemo, useState } from 'react';
import { Button, Dropdown, List, Space, Table, Typography, Avatar } from 'antd';
import type { ColumnsType, TableProps } from 'antd/es/table';
import type { MenuProps } from 'antd';
import { DownOutlined, UsergroupAddOutlined, PlusOutlined } from '@ant-design/icons';
import { PageContainer } from '@ant-design/pro-components';

const { Text } = Typography;

interface TeamMember {
  id: string;
  name: string;
  role: string;
  avatar?: string;
}

interface Team {
  id: string;
  name: string;
  project: string;
  members: TeamMember[];
  recentActivity: string[];
}

type TeamRow = {
  key: string;
  teamId: string;
  teamName: string;
  projectName: string;
  membersCount: number;
  roster: TeamMember[];
  recentActivity: string[];
};

const teamsData: Team[] = [
  {
    id: 't-1',
    name: 'Frontend Guild',
    project: 'Design System',
    members: [
      { id: 'u-1', name: 'John Doe', role: 'Lead' },
      { id: 'u-2', name: 'Alice Smith', role: 'Developer' },
      { id: 'u-3', name: 'Bob Johnson', role: 'Developer' },
      { id: 'u-4', name: 'Eve Davis', role: 'QA' },
      { id: 'u-5', name: 'Charlie Brown', role: 'Designer' },
    ],
    recentActivity: [
      'John joined the team',
      'Alice commented on PR #42',
      'Bob merged branch feature/layout'
    ],
  },
  {
    id: 't-2',
    name: 'Backend Core',
    project: 'API Platform',
    members: [
      { id: 'u-6', name: 'Diana Prince', role: 'Lead' },
      { id: 'u-7', name: 'Bruce Wayne', role: 'SRE' },
      { id: 'u-8', name: 'Clark Kent', role: 'Developer' },
    ],
    recentActivity: [
      'Diana created issue API-120',
      'Bruce deployed v2.3.1',
      'Clark fixed failing tests'
    ],
  },
];

const toRows = (input: Team[]): TeamRow[] =>
  input.map((t) => ({
    key: t.id,
    teamId: t.id,
    teamName: t.name,
    projectName: t.project,
    membersCount: t.members.length,
    roster: t.members,
    recentActivity: t.recentActivity,
  }));

export default function Page() {
  const [selectedTeamKeys, setSelectedTeamKeys] = useState<React.Key[]>([]);
  const [data, setData] = useState<TeamRow[]>(() => toRows(teamsData));

  const columns: ColumnsType<TeamRow> = [
    {
      title: 'Équipe',
      dataIndex: 'teamName',
      key: 'teamName',
      render: (value: string, record) => (
        <Space direction="vertical" size={0}>
          <Text strong>{value}</Text>
          <Text type="secondary">ID&nbsp;: {record.teamId}</Text>
        </Space>
      ),
    },
    {
      title: 'Projet',
      dataIndex: 'projectName',
      key: 'projectName',
      ellipsis: true,
      render: (value: string) => <Text>{value}</Text>,
    },
    {
      title: 'Membres',
      dataIndex: 'roster',
      key: 'roster',
      render: (_: TeamMember[], record) => (
        <List
          dataSource={record.roster.slice(0, 3)}
          renderItem={(m: TeamMember) => (
            <List.Item style={{ paddingInline: 0 }} key={m.id}>
              <List.Item.Meta
                avatar={<Avatar>{m.name.charAt(0)}</Avatar>}
                title={<Text>{m.name}</Text>}
                description={<Text type="secondary">{m.role}</Text>}
              />
            </List.Item>
          )}
        />
      ),
    },
    {
      title: 'Activité récente',
      dataIndex: 'recentActivity',
      key: 'recentActivity',
      render: (activities: string[]) => (
        <List
          size="small"
          dataSource={activities.slice(0, 3)}
          renderItem={(msg) => <List.Item style={{ paddingInline: 0 }}>{msg}</List.Item>}
        />
      ),
      responsive: ['lg'],
    },
    {
      title: 'Actions',
      key: 'actions',
      fixed: 'right',
      width: 140,
      render: (_: unknown, record) => {
        const onMenuClick: MenuProps['onClick'] = ({ key }) => {
          switch (key) {
            case 'view':
              // TODO: router.push(`/konnected/teams-collaboration/my-teams/${record.teamId}`);
              break;
            case 'invite':
              // TODO: ouvrir un modal d’invitation
              break;
            case 'archive':
              setData((prev) => prev.filter((r) => r.key !== record.key));
              break;
            default:
              break;
          }
        };

        const items: MenuProps['items'] = [
          { key: 'view', label: 'Voir l’équipe' },
          { key: 'invite', label: 'Inviter des membres' },
          { type: 'divider' },
          { key: 'archive', danger: true, label: 'Archiver' },
        ];

        return (
          <Dropdown menu={{ items, onClick: onMenuClick }} trigger={['click']}>
            <Button>
              Actions <DownOutlined />
            </Button>
          </Dropdown>
        );
      },
    },
  ];

  const rowSelection: TableProps<TeamRow>['rowSelection'] = {
    selectedRowKeys: selectedTeamKeys,
    onChange: (keys) => setSelectedTeamKeys(keys),
  };

  const sortedData = useMemo(
    () => [...data].sort((a, b) => a.teamName.localeCompare(b.teamName)),
    [data]
  );

  return (
    <PageContainer
      header={{
        title: 'Mes équipes',
        extra: [
          <Button key="new" type="primary" icon={<PlusOutlined />}>
            Nouvelle équipe
          </Button>,
          <Button key="invite" icon={<UsergroupAddOutlined />}>
            Inviter
          </Button>,
        ],
      }}
    >
      <Table<TeamRow>
        rowKey="key"
        size="middle"
        bordered
        columns={columns}
        dataSource={sortedData}
        rowSelection={rowSelection}
        pagination={{ pageSize: 8, showSizeChanger: false }}
        scroll={{ x: 900 }}
      />
    </PageContainer>
  );
}

===== END app/konnected/teams-collaboration/my-teams/page.tsx =====


===== BEGIN app/konnected/teams-collaboration/my-teams/page.tsx.bak =====
// File: /pages/konnected/teams-collaboration/my-teams.tsx
'use client';
import React from 'react';
import { NextPage } from 'next';
import { Table, Button, Avatar, List, Menu, Dropdown, Typography, Space } from 'antd';
import { SettingOutlined, DownOutlined, UsergroupAddOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Text, Title } = Typography;

// Interface pour définir la structure d'un membre d'équipe
interface TeamMember {
  id: string;
  name: string;
  role: string;
  avatar: string;
}

// Interface pour définir la structure d'une équipe
interface Team {
  id: string;
  teamName: string;
  role: 'Leader' | 'Member';
  membersCount: number;
  // Quelques dernières activités à afficher en aperçu
  recentActivity: string[];
  // Liste détaillée des membres de l'équipe
  roster: TeamMember[];
}

// Exemple de données simulées pour les équipes de l'utilisateur
const teamsData: Team[] = [
  {
    id: 'team1',
    teamName: 'Alpha Innovators',
    role: 'Leader',
    membersCount: 5,
    recentActivity: [
      'John joined the team',
      'Meeting scheduled for 14:00',
      'Project milestone completed'
    ],
    roster: [
      { id: 'm1', name: 'John Doe', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/1.jpg' },
      { id: 'm2', name: 'Alice Smith', role: 'Member', avatar: 'https://randomuser.me/api/portraits/women/2.jpg' },
      { id: 'm3', name: 'Bob Johnson', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/3.jpg' },
      { id: 'm4', name: 'Eve Davis', role: 'Member', avatar: 'https://randomuser.me/api/portraits/women/4.jpg' },
      { id: 'm5', name: 'Charlie Brown', role: 'Leader', avatar: 'https://randomuser.me/api/portraits/men/5.jpg' },
    ],
  },
  {
    id: 'team2',
    teamName: 'Beta Coders',
    role: 'Member',
    membersCount: 8,
    recentActivity: [
      'New repository added',
      'Bug fixes deployed',
      'Code review completed'
    ],
    roster: [
      { id: 'm6', name: 'Diana Prince', role: 'Leader', avatar: 'https://randomuser.me/api/portraits/women/6.jpg' },
      { id: 'm7', name: 'Bruce Wayne', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/7.jpg' },
      { id: 'm8', name: 'Clark Kent', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/8.jpg' },
      // ... autres membres
    ],
  },
  // Ajoutez d'autres équipes si besoin...
];

const TeamsCollaboration: NextPage = () => {
  // Définition du menu d'actions pour une équipe, disponible uniquement si l'utilisateur est leader
  const teamActionsMenu = (
    <Menu>
      <Menu.Item key="settings">
        <a href="#">Manage Team Settings</a>
      </Menu.Item>
      <Menu.Item key="invite">
        <a href="#">Invite New Member</a>
      </Menu.Item>
    </Menu>
  );

  // Colonnes du tableau de liste des équipes
  const columns = [
    {
      title: 'Team Name',
      dataIndex: 'teamName',
      key: 'teamName',
      render: (text: string, record: Team) => (
        <Space>
          <span>{text}</span>
          {record.role === 'Leader' && (
            <Text type="success" strong>
              (Leader)
            </Text>
          )}
        </Space>
      ),
    },
    {
      title: 'Role',
      dataIndex: 'role',
      key: 'role',
    },
    {
      title: 'Members',
      dataIndex: 'membersCount',
      key: 'membersCount',
    },
    {
      title: 'Recent Activity',
      dataIndex: 'recentActivity',
      key: 'recentActivity',
      render: (activities, row) => (
        <List
          dataSource={activities.slice(0, 2) ?? []} // Afficher les 2 dernières activités en aperçu
          renderItem={(activity) => (
            <List.Item style={{ padding: 0 }}>
              <Text type="secondary">{activity}</Text>
            </List.Item>
          )}
          size="small"
        />
      ),
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: Team) =>
        record.role === 'Leader' ? (
          <Dropdown overlay={teamActionsMenu}>
            <a onClick={(e) => e.preventDefault()}>
              <Space>
                Actions <DownOutlined />
              </Space>
            </a>
          </Dropdown>
        ) : null,
    },
  ];

  // Fonction de rendu pour la zone détaillée (row expansion)
  const expandedRowRender = (record: Team) => {
    return (
      <div style={{ padding: '16px 24px', background: '#fafafa' }}>
        <Title level={5}>Team Roster</Title>
        <List
          grid={{ gutter: 16, column: 4 }}
          dataSource={record.roster ?? []}
          renderItem={(member: TeamMember) => (
            <List.Item>
              <Space direction="vertical" align="center">
                <Avatar src={member.avatar} size={48} />
                <Text>{member.name}</Text>
                <Text type="secondary" style={{ fontSize: 12 }}>
                  {member.role}
                </Text>
              </Space>
            </List.Item>
          )}
        />
        <br />
        <Title level={5}>Recent Activity Log</Title>
        <List
          dataSource={record.recentActivity ?? []}
          renderItem={(activity) => (
            <List.Item>
              <Text>{activity}</Text>
            </List.Item>
          )}
          size="small"
        />
      </div>
    );

  return (
    <PageContainer title="My Teams">
      <div style={{ marginBottom: 24, textAlign: 'right' }}>
        <Button
          type="primary"
          icon={<UsergroupAddOutlined />}
          href="/konnected/teams-collaboration/team-builder"
        >
          Team Builder
        </Button>
      </div>
      <Table
        columns={columns}
        dataSource={teamsData}
        rowKey="id"
        expandable={{ expandedRowRender }}
        pagination={{ pageSize: 5 }}
        // Mise en évidence des équipes où l'utilisateur est Leader
        rowClassName={(record: Team) => (record.role === 'Leader' ? 'team-leader-row' : '')}
      />
      <style jsx>{`
        .team-leader-row {
          background-color: #f6ffed;
        }
      `}</style>
    </PageContainer>
  );


  return <MainLayout>{page}</MainLayout>;

export default TeamsCollaboration;
}}

===== END app/konnected/teams-collaboration/my-teams/page.tsx.bak =====


===== BEGIN app/konnected/teams-collaboration/project-workspaces/page.tsx =====
// File: app/konnected/teams-collaboration/project-workspaces/page.tsx
'use client';

import React from 'react';
import { Table, Button, Tag, Space, message as antdMessage } from 'antd';
import type { ColumnsType } from 'antd/es/table';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';

interface Workspace {
  id: string;
  projectName: string;
  teamName: string;
  status: 'Active' | 'Inactive';
  isLaunched: boolean;
  onlineMembers: number;
  userRole: 'Leader' | 'Member';
}

const workspaceData: Workspace[] = [
  {
    id: '1',
    projectName: 'Project Alpha',
    teamName: 'Alpha Innovators',
    status: 'Active',
    isLaunched: true,
    onlineMembers: 4,
    userRole: 'Leader',
  },
  {
    id: '2',
    projectName: 'Project Beta',
    teamName: 'Beta Coders',
    status: 'Inactive',
    isLaunched: false,
    onlineMembers: 0,
    userRole: 'Member',
  },
  {
    id: '3',
    projectName: 'Project Gamma',
    teamName: 'Gamma Team',
    status: 'Active',
    isLaunched: true,
    onlineMembers: 2,
    userRole: 'Member',
  },
];

export default function ProjectWorkspacesPage() {
  const router = useRouter();

  const handleWorkspaceAction = (workspace: Workspace) => {
    if (!workspace.isLaunched && workspace.userRole === 'Leader') {
      antdMessage.success(`Workspace ${workspace.projectName} launched successfully.`);
      return;
    }
    router.push(`/konnected/teams-collaboration/project-workspaces/${workspace.id}`);
  };

  const columns: ColumnsType<Workspace> = [
    {
      title: 'Workspace/Project Name',
      dataIndex: 'projectName',
      key: 'projectName',
    },
    {
      title: 'Team Name',
      dataIndex: 'teamName',
      key: 'teamName',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
      render: (status: Workspace['status']) =>
        status === 'Active' ? <Tag color="green">Active</Tag> : <Tag color="volcano">Inactive</Tag>,
    },
    {
      title: 'Online Members',
      dataIndex: 'onlineMembers',
      key: 'onlineMembers',
      render: (onlineMembers: number) => <span>{onlineMembers} online</span>,
    },
    {
      title: 'Action',
      key: 'action',
      render: (_: unknown, record: Workspace) => {
        const buttonLabel =
          !record.isLaunched && record.userRole === 'Leader'
            ? 'Launch Workspace'
            : record.isLaunched
            ? record.userRole === 'Leader'
              ? 'Open Workspace'
              : 'Join Workspace'
            : 'Join Workspace';
        return (
          <Button type="primary" onClick={() => handleWorkspaceAction(record)}>
            {buttonLabel}
          </Button>
        );
      },
    },
  ];

  return (
    <PageContainer title="Project Workspaces">
      <Space style={{ marginBottom: 16 }}>
        <Button
          type="primary"
          onClick={() => router.push('/keenkonnect/workspaces/launch-new-workspace')}
        >
          Launch New Workspace
        </Button>
      </Space>

      <Table<Workspace>
        columns={columns}
        dataSource={workspaceData}
        rowKey="id"
        pagination={{ pageSize: 5 }}
      />
    </PageContainer>
  );
}

===== END app/konnected/teams-collaboration/project-workspaces/page.tsx =====


===== BEGIN app/konnected/teams-collaboration/team-builder/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import { PageContainer } from '@ant-design/pro-components';
import { Steps, Form, Input, Button, Space, Table, Typography, message } from 'antd';
import type { ColumnsType } from 'antd/es/table';
import { useRouter } from 'next/navigation';

type TeamInfo = {
  name: string;
  description?: string;
};

type Member = {
  id?: string;       // may be undefined when newly added
  email: string;
  role?: string;
};

export default function TeamBuilderPage() {
  const router = useRouter();

  // ----- Step state -----
  const [currentStep, setCurrentStep] = useState<number>(0);

  const steps = useMemo(
    () => [{ title: 'Team Info' }, { title: 'Invite Members' }],
    []
  );

  // ----- Form state -----
  const [teamInfoForm] = Form.useForm<TeamInfo>();
  const [inviteForm] = Form.useForm<Member>();

  const [teamInfo, setTeamInfo] = useState<TeamInfo>({ name: '' });
  const [members, setMembers] = useState<Member[]>([]);

  // ----- Table columns with safe row keys -----
  const columns: ColumnsType<Member> = [
    {
      title: 'Email',
      dataIndex: 'email',
      key: 'email',
      render: (text: string) => <Typography.Text>{text}</Typography.Text>,
    },
    {
      title: 'Role',
      dataIndex: 'role',
      key: 'role',
      render: (text?: string) => <Typography.Text>{text || 'Member'}</Typography.Text>,
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_, record) => (
        <Space>
          <Button
            onClick={() =>
              setMembers((prev) =>
                prev.filter((m) => (m.id ?? m.email) !== (record.id ?? record.email))
              )
            }
          >
            Remove
          </Button>
        </Space>
      ),
    },
  ];

  // ----- Handlers -----
  const submitTeamInfo = async () => {
    try {
      const values = await teamInfoForm.validateFields();
      setTeamInfo(values);
      setCurrentStep(1);
    } catch {
      // validation errors are shown by antd
    }
  };

  const addMember = async () => {
    try {
      const values = await inviteForm.validateFields();
      // ensure a stable non-undefined key; prefer provided id else generate from email
      const stableId =
        values.id && values.id.trim().length > 0
          ? values.id
          : `${values.email.toLowerCase()}-${Date.now()}`;

      setMembers((prev) => {
        // dedupe by email
        if (prev.some((m) => m.email.toLowerCase() === values.email.toLowerCase())) {
          message.warning('This email is already invited.');
          return prev;
        }
        return [...prev, { ...values, id: stableId }];
      });
      inviteForm.resetFields();
    } catch {
      // validation errors are shown by antd
    }
  };

  const finish = async () => {
    // TODO: replace with actual API call
    message.success('Team created');
    router.push('/konnected/teams-collaboration/project-workspaces');
  };

  return (
    <PageContainer title="Team Builder">
      <Space direction="vertical" style={{ width: '100%' }} size="large">
        <Steps current={currentStep} items={steps} />

        {currentStep === 0 && (
          <Form
            form={teamInfoForm}
            layout="vertical"
            initialValues={teamInfo}
            onFinish={submitTeamInfo}
          >
            <Form.Item
              label="Team name"
              name="name"
              rules={[{ required: true, message: 'Please enter a team name' }]}
            >
              <Input placeholder="e.g. Product Growth" />
            </Form.Item>

            <Form.Item label="Description" name="description">
              <Input.TextArea placeholder="Optional description" autoSize={{ minRows: 3 }} />
            </Form.Item>

            <Space>
              <Button type="primary" htmlType="submit">
                Next
              </Button>
            </Space>
          </Form>
        )}

        {currentStep === 1 && (
          <>
            <Form form={inviteForm} layout="inline" onFinish={addMember}>
              <Form.Item
                name="email"
                rules={[
                  { required: true, message: 'Email required' },
                  { type: 'email', message: 'Invalid email' },
                ]}
              >
                <Input placeholder="member@example.com" />
              </Form.Item>

              <Form.Item name="role" initialValue="Member">
                <Input placeholder="Role (optional)" />
              </Form.Item>

              <Form.Item>
                <Button type="primary" htmlType="submit">
                  Add
                </Button>
              </Form.Item>
            </Form>

            <Table<Member>
              dataSource={members}
              columns={columns}
              // rowKey fix: never undefined
              rowKey={(record) => record.id ?? record.email}
              pagination={false}
            />

            <Space>
              <Button onClick={() => setCurrentStep(0)}>Back</Button>
              <Button
                type="primary"
                onClick={finish}
                disabled={!teamInfo.name || members.length === 0}
              >
                Create team
              </Button>
            </Space>
          </>
        )}
      </Space>
    </PageContainer>
  );
}

===== END app/konnected/teams-collaboration/team-builder/page.tsx =====


===== BEGIN app/konsensus/page.tsx =====
import { PollPage } from "@/modules/konsensus/pages";
export default PollPage;

===== END app/konsensus/page.tsx =====


===== BEGIN app/kreative/collaborative-spaces/find-spaces/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import {
  Row,
  Col,
  Card,
  Input,
  Select,
  Button,
  Modal,
  Pagination,
  Space,
  Typography,
  message as antdMessage,
} from 'antd';
import { SearchOutlined } from '@ant-design/icons';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';

const { Text } = Typography;
const { Option } = Select;

type Discipline = 'Art' | 'Music' | 'Writing' | 'Technology' | 'Other';
type JoinType = 'open' | 'invite-only';
type DisciplineFilter = Discipline | 'All';
type JoinTypeFilter = JoinType | 'All';

interface CollaborativeSpace {
  id: string;
  name: string;
  description: string;
  discipline: Discipline;
  memberCount: number;
  joinType: JoinType;
  createdAt: string; // ISO date
}

// Demo data
const dummySpaces: CollaborativeSpace[] = [
  {
    id: '1',
    name: 'Urban Art Collective',
    description: 'A community for street artists and mural enthusiasts.',
    discipline: 'Art',
    memberCount: 35,
    joinType: 'open',
    createdAt: '2025-11-15T10:00:00Z',
  },
  {
    id: '2',
    name: 'Indie Music Makers',
    description: 'Join to collaborate on original music projects and recordings.',
    discipline: 'Music',
    memberCount: 50,
    joinType: 'invite-only',
    createdAt: '2025-11-20T14:30:00Z',
  },
  {
    id: '3',
    name: 'Writers’ Lounge',
    description:
      'A space for writers to share ideas, get feedback, and find collaborators.',
    discipline: 'Writing',
    memberCount: 25,
    joinType: 'open',
    createdAt: '2025-11-18T09:15:00Z',
  },
  {
    id: '4',
    name: 'Tech & Art Fusion',
    description:
      'Where creativity meets innovation: join us to build interactive art installations.',
    discipline: 'Technology',
    memberCount: 18,
    joinType: 'invite-only',
    createdAt: '2025-11-22T11:45:00Z',
  },
];

export default function FindSpacesPage(): JSX.Element {
  const router = useRouter();

  // Filters, tri, pagination
  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedDiscipline, setSelectedDiscipline] =
    useState<DisciplineFilter>('All');
  const [selectedJoinType, setSelectedJoinType] =
    useState<JoinTypeFilter>('All');
  const [sortOption, setSortOption] =
    useState<'mostActive' | 'newest'>('mostActive');
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 4;

  // Modal d’invitation
  const [joinModalVisible, setJoinModalVisible] = useState(false);
  const [selectedSpace, setSelectedSpace] = useState<CollaborativeSpace | null>(
    null,
  );

  // Filtre + tri
  const filteredSpaces = useMemo(() => {
    let spaces = dummySpaces;

    if (selectedDiscipline !== 'All') {
      spaces = spaces.filter((s) => s.discipline === selectedDiscipline);
    }
    if (selectedJoinType !== 'All') {
      spaces = spaces.filter((s) => s.joinType === selectedJoinType);
    }
    if (searchQuery.trim() !== '') {
      const q = searchQuery.toLowerCase();
      spaces = spaces.filter(
        (s) =>
          s.name.toLowerCase().includes(q) ||
          s.description.toLowerCase().includes(q),
      );
    }

    if (sortOption === 'newest') {
      // copie pour éviter la mutation
      return [...spaces].sort(
        (a, b) =>
          new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime(),
      );
    }
    // proxy d’activité = memberCount
    return [...spaces].sort((a, b) => b.memberCount - a.memberCount);
  }, [searchQuery, selectedDiscipline, selectedJoinType, sortOption]);

  // Pagination
  const paginatedSpaces = useMemo(() => {
    const start = (currentPage - 1) * pageSize;
    return filteredSpaces.slice(start, start + pageSize);
  }, [filteredSpaces, currentPage]);

  // Actions
  function handleJoin(space: CollaborativeSpace) {
    if (space.joinType === 'open') {
      antdMessage.success(`You have joined "${space.name}"!`);
      router.push(`/kreative/collaborative-spaces/${space.id}`);
      return;
    }
    setSelectedSpace(space);
    setJoinModalVisible(true);
  }

  function confirmJoinRequest() {
    if (selectedSpace) {
      antdMessage.success(
        `Your request to join "${selectedSpace.name}" has been sent.`,
      );
    }
    setJoinModalVisible(false);
    setSelectedSpace(null);
  }

  return (
    <PageContainer title="Find Spaces">
      <Space direction="vertical" style={{ width: '100%', marginBottom: 24 }} size="large">
        <Space wrap>
          <Input
            placeholder="Search spaces..."
            prefix={<SearchOutlined />}
            value={searchQuery}
            onChange={(e) => {
              setSearchQuery(e.target.value);
              setCurrentPage(1);
            }}
            style={{ width: 300 }}
          />

          <Select
            value={selectedDiscipline}
            onChange={(v) => {
              setSelectedDiscipline(v as DisciplineFilter);
              setCurrentPage(1);
            }}
            style={{ width: 180 }}
          >
            <Option value="All">All Disciplines</Option>
            <Option value="Art">Art</Option>
            <Option value="Music">Music</Option>
            <Option value="Writing">Writing</Option>
            <Option value="Technology">Technology</Option>
            <Option value="Other">Other</Option>
          </Select>

          <Select
            value={selectedJoinType}
            onChange={(v) => {
              setSelectedJoinType(v as JoinTypeFilter);
              setCurrentPage(1);
            }}
            style={{ width: 180 }}
          >
            <Option value="All">All Join Types</Option>
            <Option value="open">Open</Option>
            <Option value="invite-only">Invite-Only</Option>
          </Select>

          <Select
            value={sortOption}
            onChange={(v) => {
              setSortOption(v as 'mostActive' | 'newest');
              setCurrentPage(1);
            }}
            style={{ width: 180 }}
          >
            <Option value="mostActive">Most Active</Option>
            <Option value="newest">Newest</Option>
          </Select>
        </Space>
      </Space>

      <Row gutter={[24, 24]}>
        {paginatedSpaces.map((space) => (
          <Col key={space.id} xs={24} sm={12} md={8}>
            <Card
              hoverable
              title={space.name}
              extra={<Text type="secondary">{space.memberCount} Members</Text>}
              actions={[
                <Button
                  key="join"
                  type="primary"
                  onClick={(e) => {
                    e.stopPropagation();
                    handleJoin(space);
                  }}
                >
                  {space.joinType === 'open' ? 'Join' : 'Request to Join'}
                </Button>,
              ]}
              onClick={() =>
                router.push(`/kreative/collaborative-spaces/${space.id}`)
              }
            >
              <Card.Meta description={<Text>{space.description}</Text>} />
              <div style={{ marginTop: 12 }}>
                <Text strong>Discipline:</Text> <Text>{space.discipline}</Text>
                <br />
                <Text strong>Status:</Text>{' '}
                <Text>{space.joinType === 'open' ? 'Open' : 'Invite-Only'}</Text>
              </div>
            </Card>
          </Col>
        ))}
      </Row>

      <div style={{ textAlign: 'center', marginTop: 24 }}>
        <Pagination
          current={currentPage}
          pageSize={pageSize}
          total={filteredSpaces.length}
          onChange={(page) => setCurrentPage(page)}
        />
      </div>

      <Modal
        title="Request to Join Space"
        open={joinModalVisible}
        onOk={confirmJoinRequest}
        onCancel={() => setJoinModalVisible(false)}
        okText="Send Request"
        cancelText="Cancel"
      >
        {selectedSpace && (
          <p>
            Do you want to send a join request for the space:{' '}
            <strong>{selectedSpace.name}</strong>?
          </p>
        )}
      </Modal>
    </PageContainer>
  );
}

===== END app/kreative/collaborative-spaces/find-spaces/page.tsx =====


===== BEGIN app/kreative/collaborative-spaces/my-spaces/page.tsx =====
// C:\MyCode\Konnaxionv14\frontend\app\kreative\collaborative-spaces\my-spaces\page.tsx
'use client';

import React, { useMemo, useState } from 'react';
import { List, Button, Input, Select, Badge, Avatar, Space, Row, Col, Typography } from 'antd';
import { TeamOutlined, PlusOutlined, SearchOutlined } from '@ant-design/icons';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';

const { Title, Text } = Typography;

// Collaborative space model
interface CollaborativeSpace {
  id: string;
  name: string;
  topic: string;
  membersCount: number;
  category: 'Studio' | 'Club' | 'Community';
  unreadCount: number;
}

// Demo data
const dummySpaces: CollaborativeSpace[] = [
  {
    id: '1',
    name: 'Creative Studio Alpha',
    topic: 'Graphic Design & Illustration',
    membersCount: 12,
    category: 'Studio',
    unreadCount: 3,
  },
  {
    id: '2',
    name: 'Music Club Beta',
    topic: 'Indie & Electronic Music',
    membersCount: 20,
    category: 'Club',
    unreadCount: 0,
  },
  {
    id: '3',
    name: 'Writers Community Gamma',
    topic: 'Creative Writing & Storytelling',
    membersCount: 15,
    category: 'Community',
    unreadCount: 5,
  },
];

export default function MySpacesPage(): JSX.Element {
  const router = useRouter();

  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [searchQuery, setSearchQuery] = useState<string>('');

  const filteredSpaces = useMemo(() => {
    let spaces = dummySpaces;
    if (selectedCategory !== 'All') {
      spaces = spaces.filter((s) => s.category === selectedCategory);
    }
    if (searchQuery.trim() !== '') {
      const q = searchQuery.toLowerCase();
      spaces = spaces.filter(
        (s) => s.name.toLowerCase().includes(q) || s.topic.toLowerCase().includes(q),
      );
    }
    return spaces;
  }, [selectedCategory, searchQuery]);

  const enterSpace = (id: string) => {
    router.push(`/kreative/collaborative-spaces/${id}`);
  };

  return (
    <PageContainer title="My Spaces">
      <Row justify="space-between" align="middle" style={{ marginBottom: 24 }}>
        <Col>
          <Space>
            <Input
              placeholder="Search spaces."
              prefix={<SearchOutlined />}
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              style={{ width: 300 }}
            />
            <Select
              value={selectedCategory}
              onChange={(value: string) => setSelectedCategory(value)}
              style={{ width: 200 }}
              options={[
                { value: 'All', label: 'All Categories' },
                { value: 'Studio', label: 'Studio' },
                { value: 'Club', label: 'Club' },
                { value: 'Community', label: 'Community' },
              ]}
            />
          </Space>
        </Col>
        <Col>
          <Button
            type="primary"
            icon={<PlusOutlined />}
            onClick={() => router.push('/kreative/collaborative-spaces/create')}
          >
            Start a New Space
          </Button>
        </Col>
      </Row>

      <List<CollaborativeSpace>
        itemLayout="horizontal"
        dataSource={filteredSpaces ?? []}
        renderItem={(space: CollaborativeSpace) => (
          <List.Item
            key={space.id}
            actions={[
              <Button key="enter" type="primary" onClick={() => enterSpace(space.id)}>
                Enter Space
              </Button>,
            ]}
          >
            <List.Item.Meta
              avatar={
                space.unreadCount > 0 ? (
                  <Badge count={space.unreadCount} offset={[-5, 5]}>
                    <Avatar size="large" icon={<TeamOutlined />} />
                  </Badge>
                ) : (
                  <Avatar size="large" icon={<TeamOutlined />} />
                )
              }
              title={
                <Title level={4} style={{ margin: 0 }}>
                  {space.name}
                </Title>
              }
              description={
                <Space direction="vertical" size={0}>
                  <Text strong>Topic:</Text>
                  <Text>{space.topic}</Text>
                  <Text strong>Members:</Text>
                  <Text>{space.membersCount}</Text>
                </Space>
              }
            />
          </List.Item>
        )}
      />
    </PageContainer>
  );
}

===== END app/kreative/collaborative-spaces/my-spaces/page.tsx =====


===== BEGIN app/kreative/collaborative-spaces/start-new-space/page.tsx =====
'use client';

// File: app/kreative/collaborative-spaces/start-new-space/page.tsx
import React, { useState } from 'react';
import { Form, Input, Select, Radio, Button, Upload, Space as AntdSpace, message as antdMessage } from 'antd';
import { UploadOutlined, PlusOutlined } from '@ant-design/icons';
import { useRouter } from 'next/navigation';
import { PageContainer } from '@ant-design/pro-components';

const { TextArea } = Input;
const { Option } = Select;

export default function StartNewSpacePage() {
  const [form] = Form.useForm();
  const router = useRouter();
  const [fileList, setFileList] = useState<any[]>([]);

  // Upload change handler
  const handleFileChange = (info: any) => {
    setFileList([...info.fileList]);
  };

  // Submit handler
  const onFinish = (values: any) => {
    const spaceData = {
      ...values,
      banner: fileList,
    };
    console.log('New Space Data:', spaceData);
    antdMessage.success('Your new space has been created successfully!');
    router.push('/kreative/collaborative-spaces/new-space-id'); // TODO: replace with created ID
  };

  return (
    <PageContainer title="Start a New Space">
      <Form
        form={form}
        layout="vertical"
        onFinish={onFinish}
        initialValues={{ privacy: 'Public', category: 'Art Study Group' }}
      >
        {/* Space Name */}
        <Form.Item
          label="Space Name"
          name="name"
          rules={[{ required: true, message: 'Please enter a space name.' }]}
        >
          <Input placeholder="Enter the name of your space" />
        </Form.Item>

        {/* Description / Purpose */}
        <Form.Item
          label="Description / Purpose"
          name="description"
          rules={[{ required: true, message: 'Please provide a description for your space.' }]}
        >
          <TextArea rows={5} placeholder="Describe the purpose and vision of your space" />
        </Form.Item>

        {/* Category / Type */}
        <Form.Item
          label="Category / Type"
          name="category"
          rules={[{ required: true, message: 'Please select a category.' }]}
        >
          <Select placeholder="Select a category">
            <Option value="Art Study Group">Art Study Group</Option>
            <Option value="Music Jam Session">Music Jam Session</Option>
            <Option value="Creative Writing Circle">Creative Writing Circle</Option>
            <Option value="Digital Innovation Hub">Digital Innovation Hub</Option>
          </Select>
        </Form.Item>

        {/* Privacy Setting */}
        <Form.Item
          label="Privacy Setting"
          name="privacy"
          rules={[{ required: true, message: 'Please choose a privacy setting.' }]}
        >
          <Radio.Group>
            <Radio value="Public">Public (Anyone can join)</Radio>
            <Radio value="Private">Private (Invite Only)</Radio>
          </Radio.Group>
        </Form.Item>

        {/* Invite Initial Members (only when Private) */}
        <Form.Item shouldUpdate={(prev, cur) => prev.privacy !== cur.privacy}>
          {({ getFieldValue }) =>
            getFieldValue('privacy') === 'Private' ? (
              <Form.List name="invitedMembers">
                {(fields, { add, remove }) => (
                  <>
                    <AntdSpace direction="vertical" style={{ width: '100%' }}>
                      {fields.map((field) => (
                        <AntdSpace key={field.key} align="baseline">
                          <Form.Item
                            {...field}
                            name={[field.name, 'email']}
                            rules={[{ required: true, message: 'Please enter an email address.' }]}
                          >
                            <Input placeholder="Enter member email" />
                          </Form.Item>
                          <Button type="link" onClick={() => remove(field.name)}>
                            Remove
                          </Button>
                        </AntdSpace>
                      ))}
                      <Form.Item>
                        <Button type="dashed" onClick={() => add()} icon={<PlusOutlined />}>
                          Invite Member
                        </Button>
                      </Form.Item>
                    </AntdSpace>
                  </>
                )}
              </Form.List>
            ) : null
          }
        </Form.Item>

        {/* Space Banner or Icon Upload */}
        <Form.Item label="Space Icon / Banner Image" name="banner">
          <Upload
            beforeUpload={() => false} // prevent auto-upload
            fileList={fileList}
            onChange={handleFileChange}
            accept="image/*"
          >
            <Button icon={<UploadOutlined />}>Upload Image</Button>
          </Upload>
        </Form.Item>

        {/* Submit Button */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Create Space
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
}

===== END app/kreative/collaborative-spaces/start-new-space/page.tsx =====


===== BEGIN app/kreative/community-showcases/featured-projects/page.tsx =====
// C:\MyCode\Konnaxionv14\frontend\app\kreative\community-showcases\featured-projects\page.tsx
'use client';

import React, { useState, useMemo } from 'react';
import { useRouter } from 'next/navigation';
import {
  Card,
  Row,
  Col,
  Input,
  Select,
  Modal,
  Pagination,
  Typography,
  Badge,
  Space,
  Button,
} from 'antd';
import { SearchOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { Title, Text, Paragraph } = Typography;

interface Project {
  id: string;
  title: string;
  description: string;
  creator: string;
  coverImage: string;
  category: string;
}

const dummyProjects: Project[] = [
  {
    id: '1',
    title: 'Project Sunrise',
    description:
      'An inspiring project that captures the beauty of dawn with innovative photo techniques and a vivid color palette.',
    creator: 'Alice Johnson',
    coverImage: 'https://via.placeholder.com/400x300.png?text=Project+Sunrise',
    category: 'Photography',
  },
  {
    id: '2',
    title: 'Digital Dreamscape',
    description:
      'A surreal digital art piece combining abstract concepts with vibrant colors to evoke emotion.',
    creator: 'Bob Smith',
    coverImage: 'https://via.placeholder.com/400x300.png?text=Digital+Dreamscape',
    category: 'Digital Art',
  },
  {
    id: '3',
    title: 'Urban Poetry',
    description:
      'A mixed-media project blending urban photography with spoken word performance, reimagining cityscapes in a poetic light.',
    creator: 'Carol Lee',
    coverImage: 'https://via.placeholder.com/400x300.png?text=Urban+Poetry',
    category: 'Mixed Media',
  },
  {
    id: '4',
    title: 'Vintage Revival',
    description:
      'A creative reinterpretation of vintage art styles merged with modern design sensibilities.',
    creator: 'David Kim',
    coverImage: 'https://via.placeholder.com/400x300.png?text=Vintage+Revival',
    category: 'Painting',
  },
];

export default function FeaturedProjectsPage(): JSX.Element {
  const router = useRouter();

  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [modalVisible, setModalVisible] = useState<boolean>(false);
  const [selectedProject, setSelectedProject] = useState<Project | null>(null);

  // Pagination
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 4;

  // Filters
  const filteredProjects = useMemo(() => {
    let projects = dummyProjects;
    if (selectedCategory !== 'All') {
      projects = projects.filter((project) => project.category === selectedCategory);
    }
    if (searchQuery.trim() !== '') {
      const q = searchQuery.toLowerCase();
      projects = projects.filter(
        (project) =>
          project.title.toLowerCase().includes(q) ||
          project.description.toLowerCase().includes(q),
      );
    }
    return projects;
  }, [searchQuery, selectedCategory]);

  const paginatedProjects = useMemo(() => {
    const start = (currentPage - 1) * pageSize;
    return filteredProjects.slice(start, start + pageSize);
  }, [filteredProjects, currentPage]);

  const openModal = (project: Project) => {
    setSelectedProject(project);
    setModalVisible(true);
  };

  const closeModal = () => {
    setModalVisible(false);
    setSelectedProject(null);
  };

  return (
    <PageContainer title="Featured Projects">
      {/* Filters */}
      <Space wrap style={{ marginBottom: 24 }}>
        <Input
          placeholder="Search projects."
          prefix={<SearchOutlined />}
          value={searchQuery}
          onChange={(e) => {
            setSearchQuery(e.target.value);
            setCurrentPage(1);
          }}
          style={{ width: 300 }}
        />

        <Select
          value={selectedCategory}
          onChange={(value) => {
            setSelectedCategory(value);
            setCurrentPage(1);
          }}
          style={{ width: 220 }}
          options={[
            { value: 'All', label: 'All Categories' },
            { value: 'Photography', label: 'Photography' },
            { value: 'Digital Art', label: 'Digital Art' },
            { value: 'Mixed Media', label: 'Mixed Media' },
            { value: 'Painting', label: 'Painting' },
          ]}
        />
      </Space>

      {/* Grid */}
      <Row gutter={[24, 24]}>
        {paginatedProjects.map((project) => (
          <Col key={project.id} xs={24} sm={12} md={8} lg={6}>
            <Badge.Ribbon text="Featured" color="red">
              <Card
                hoverable
                cover={
                  <img
                    alt={project.title}
                    src={project.coverImage}
                    style={{ height: 200, objectFit: 'cover' }}
                  />
                }
                onClick={() => openModal(project)}
              >
                <Card.Meta
                  title={project.title}
                  description={
                    <>
                      <Paragraph className="line-clamp-2" style={{ marginBottom: 8 }}>
                        {project.description}
                      </Paragraph>
                      <Text type="secondary">By {project.creator}</Text>
                    </>
                  }
                />
              </Card>
            </Badge.Ribbon>
          </Col>
        ))}
      </Row>

      {/* Pagination */}
      <div style={{ textAlign: 'center', marginTop: 24 }}>
        <Pagination
          current={currentPage}
          pageSize={pageSize}
          total={filteredProjects.length}
          onChange={(page) => setCurrentPage(page)}
        />
      </div>

      {/* Modal */}
      <Modal open={modalVisible} onCancel={closeModal} footer={null} width={800}>
        {selectedProject && (
          <div>
            <img
              alt={selectedProject.title}
              src={selectedProject.coverImage}
              style={{ width: '100%', maxHeight: 400, objectFit: 'cover' }}
            />
            <div style={{ marginTop: 16 }}>
              <Title level={3}>{selectedProject.title}</Title>
              <Text type="secondary">By {selectedProject.creator}</Text>
              <p style={{ marginTop: 12 }}>{selectedProject.description}</p>
              <Button
                type="primary"
                onClick={() =>
                  router.push(
                    `/kreative/community-showcases/featured-projects/${selectedProject.id}`,
                  )
                }
              >
                View Details
              </Button>
            </div>
          </div>
        )}
      </Modal>

      {/* simple 2-line clamp */}
      <style jsx>{`
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `}</style>
    </PageContainer>
  );
}

===== END app/kreative/community-showcases/featured-projects/page.tsx =====


===== BEGIN app/kreative/community-showcases/submit-to-showcase/page.tsx =====
'use client';

/**
 * Page: /kreative/community-showcases/submit-to-showcase
 * Corrections:
 * - App Router: suppression de NextPage et du pattern getLayout/MainLayout.
 * - AntD Select: usage de `options` (compatible v4/v5) plutôt que Select.Option.
 * - Nettoyage des imports et du JSX, suppression des accolades orphelines.
 */

import React, { useState } from 'react';
import { Form, Input, Select, Button, Modal, message } from 'antd';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';

const { TextArea } = Input;

type FormValues = {
  title: string;
  category: string;
  description: string;
  link?: string;
  tags?: string[];
};

export default function SubmitToShowcasePage() {
  const [form] = Form.useForm<FormValues>();
  const router = useRouter();
  const [submitting, setSubmitting] = useState(false);
  const [modalVisible, setModalVisible] = useState(false);

  const categories = [
    { label: 'Art', value: 'art' },
    { label: 'Design', value: 'design' },
    { label: 'Photography', value: 'photography' },
    { label: 'Music', value: 'music' },
  ];

  const onFinish = async (values: FormValues) => {
    setSubmitting(true);
    try {
      // TODO: branchement API si/when disponible (ex: POST /api/showcases)
      // await fetch('/api/showcases', { method: 'POST', body: JSON.stringify(values) });

      message.success('Submission received');
      setModalVisible(true);
    } catch (e) {
      message.error("Une erreur est survenue lors de l'envoi.");
    } finally {
      setSubmitting(false);
    }
  };

  const onCancel = () => router.back();

  return (
    <PageContainer title="Submit to Showcase">
      <Form
        form={form}
        layout="vertical"
        onFinish={onFinish}
        name="submitToShowcaseForm"
      >
        <Form.Item
          label="Project title"
          name="title"
          rules={[{ required: true, message: 'Please enter a title' }]}
        >
          <Input placeholder="e.g. Konnaxion Visualizer" allowClear />
        </Form.Item>

        <Form.Item
          label="Category"
          name="category"
          rules={[{ required: true, message: 'Please choose a category' }]}
        >
          <Select
            placeholder="Select a category"
            options={categories}
            showSearch
            filterOption={(input, option) =>
              (option?.label as string).toLowerCase().includes(input.toLowerCase())
            }
          />
        </Form.Item>

        <Form.Item
          label="Description"
          name="description"
          rules={[{ required: true, message: 'Please add a short description' }]}
        >
          <TextArea rows={5} placeholder="What is this project about?" allowClear />
        </Form.Item>

        <Form.Item label="Reference link (optional)" name="link">
          <Input placeholder="https://…" allowClear type="url" />
        </Form.Item>

        <Form.Item label="Tags (optional)" name="tags">
          <Select
            mode="tags"
            placeholder="Add tags"
            tokenSeparators={[',']}
            options={[]}
          />
        </Form.Item>

        <Form.Item style={{ marginTop: 16 }}>
          <Button onClick={onCancel} style={{ marginRight: 8 }}>
            Cancel
          </Button>
          <Button type="primary" htmlType="submit" loading={submitting}>
            Submit
          </Button>
        </Form.Item>
      </Form>

      <Modal
        open={modalVisible}
        onOk={() => {
          setModalVisible(false);
          router.push('/kreative/community-showcases');
        }}
        onCancel={() => setModalVisible(false)}
        okText="Ok"
        cancelButtonProps={{ style: { display: 'none' } }}
      >
        <p>
          Your project has been submitted for review. Moderators will evaluate your
          submission shortly.
        </p>
      </Modal>
    </PageContainer>
  );
}

===== END app/kreative/community-showcases/submit-to-showcase/page.tsx =====


===== BEGIN app/kreative/community-showcases/top-creators/page.tsx =====
'use client';

import React from 'react';
import { Table, Avatar, Select, Typography, Space, Button } from 'antd';
import type { ColumnsType } from 'antd/es/table';
import { TrophyOutlined } from '@ant-design/icons';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';

const { Title, Text } = Typography;

type TimeFrame = 'all-time' | 'this-month';

interface Creator {
  id: string;
  name: string;
  avatar: string;
  contributions: number;
  specialty: string;
}

const creatorsData: Creator[] = [
  { id: '1', name: 'Alice Johnson', avatar: 'https://via.placeholder.com/80.png?text=A', contributions: 125, specialty: 'Digital Art' },
  { id: '2', name: 'Bob Smith', avatar: 'https://via.placeholder.com/80.png?text=B', contributions: 110, specialty: 'Photography' },
  { id: '3', name: 'Carol Lee', avatar: 'https://via.placeholder.com/80.png?text=C', contributions: 105, specialty: 'Mixed Media' },
  { id: '4', name: 'David Kim', avatar: 'https://via.placeholder.com/80.png?text=D', contributions: 95, specialty: 'Painting' },
  { id: '5', name: 'Eva Martinez', avatar: 'https://via.placeholder.com/80.png?text=E', contributions: 88, specialty: 'Illustration' },
];

export default function TopCreatorsPage(): JSX.Element {
  const router = useRouter();
  const [timeFrame, setTimeFrame] = React.useState<TimeFrame>('all-time');

  const data = React.useMemo<Creator[]>(() => {
    return timeFrame === 'this-month' ? creatorsData.slice(0, 3) : creatorsData;
  }, [timeFrame]);

  const columns: ColumnsType<Creator> = [
    {
      title: 'Rank',
      key: 'rank',
      width: 80,
      render: (_value, _record, index) =>
        index < 3 ? <TrophyOutlined style={{ fontSize: 20, color: '#faad14' }} /> : <Text>{index + 1}</Text>,
    },
    {
      title: 'Creator',
      key: 'creator',
      width: 250,
      render: (_value, record) => (
        <Space>
          <Avatar src={record.avatar} />
          <Button type="link" onClick={() => router.push(`/kreative/profile/${record.id}`)}>
            {record.name}
          </Button>
        </Space>
      ),
    },
    {
      title: 'Contributions',
      dataIndex: 'contributions',
      key: 'contributions',
      width: 150,
      render: (value, row) => <Text>{value}</Text>,
    },
    {
      title: 'Specialty',
      dataIndex: 'specialty',
      key: 'specialty',
    },
  ];

  return (
    <PageContainer title="Top Creators">
      <Space direction="vertical" style={{ width: '100%', marginBottom: 24 }}>
        <Title level={4}>Leaderboard</Title>
        <Space size="middle">
          <Text strong>Filter by Time Frame:</Text>
          <Select
            value={timeFrame}
            onChange={(v) => setTimeFrame(v as TimeFrame)}
            style={{ width: 180 }}
            options={[
              { value: 'all-time', label: 'All Time' },
              { value: 'this-month', label: 'This Month' },
            ]}
          />
        </Space>
      </Space>

      <Table<Creator>
        columns={columns}
        dataSource={data}
        rowKey="id"
        pagination={{ pageSize: 5 }}
      />
    </PageContainer>
  );
}

===== END app/kreative/community-showcases/top-creators/page.tsx =====


===== BEGIN app/kreative/creative-hub/explore-ideas/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import { Row, Col, Card, Input, Select, Typography, Space, Pagination } from 'antd';
import { SearchOutlined } from '@ant-design/icons';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';

const { Title, Text, Paragraph } = Typography;

type Domain = 'Art' | 'Music' | 'Writing';
type SortOpt = 'newest' | 'popular';

interface CreativeIdea {
  id: string;
  title: string;
  excerpt: string;
  author: string;
  domain: Domain;        // e.g., 'Art', 'Music', 'Writing'
  thumbnail: string;     // URL for a thumbnail image
  date: string;          // ISO date string for "newest" sort
  popularity: number;    // e.g., likes/views for "most popular" sort
}

const creativeIdeasData: CreativeIdea[] = [
  {
    id: '1',
    title: 'The Beauty of Minimalism',
    excerpt: 'Exploring the art of less is more in design and creative expression.',
    author: 'Alice Martin',
    domain: 'Art',
    thumbnail: 'https://via.placeholder.com/300x200.png?text=Minimalism',
    date: '2025-11-20T10:00:00Z',
    popularity: 87,
  },
  {
    id: '2',
    title: 'Soundscapes: Music and Emotion',
    excerpt: 'How different chord progressions evoke specific emotional responses.',
    author: 'Brian Chen',
    domain: 'Music',
    thumbnail: 'https://via.placeholder.com/300x200.png?text=Soundscapes',
    date: '2025-11-18T14:30:00Z',
    popularity: 73,
  },
  {
    id: '3',
    title: 'Writing with Constraints',
    excerpt: 'Using constraints like lipograms to spark creativity.',
    author: 'Caroline Dupont',
    domain: 'Writing',
    thumbnail: 'https://via.placeholder.com/300x200.png?text=Constraints',
    date: '2025-11-15T09:00:00Z',
    popularity: 55,
  },
  {
    id: '4',
    title: 'Color Theory Basics',
    excerpt: 'Understanding complementary and analogous color schemes.',
    author: 'David Lopez',
    domain: 'Art',
    thumbnail: 'https://via.placeholder.com/300x200.png?text=Color+Theory',
    date: '2025-11-10T11:45:00Z',
    popularity: 61,
  },
];

export default function ExploreIdeasPage() {
  const router = useRouter();

  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedCategory, setSelectedCategory] = useState<'All' | Domain>('All');
  const [sortOption, setSortOption] = useState<SortOpt>('newest');

  // Pagination state
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 9;

  // Filter and sort the creative ideas.
  const filteredIdeas = useMemo(() => {
    let ideas = [...creativeIdeasData];

    if (selectedCategory !== 'All') {
      ideas = ideas.filter((idea) => idea.domain === selectedCategory);
    }
    const q = searchQuery.trim().toLowerCase();
    if (q) {
      ideas = ideas.filter(
        (idea) =>
          idea.title.toLowerCase().includes(q) ||
          idea.excerpt.toLowerCase().includes(q)
      );
    }
    ideas =
      sortOption === 'newest'
        ? ideas.sort(
            (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()
          )
        : ideas.sort((a, b) => b.popularity - a.popularity);

    return ideas;
  }, [searchQuery, selectedCategory, sortOption]);

  // Apply pagination to the filtered ideas.
  const paginatedIdeas = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize;
    return filteredIdeas.slice(startIndex, startIndex + pageSize);
  }, [filteredIdeas, currentPage]);

  const handleCardClick = (idea: CreativeIdea) => {
    router.push(`/kreative/creative-hub/idea/${idea.id}`);

  return (
    <PageContainer title="Explore Ideas">
      <Space direction="vertical" size="middle" style={{ width: '100%' }}>
        <Space wrap>
          <Input
            placeholder="Search ideas."
            prefix={<SearchOutlined />}
            value={searchQuery}
            onChange={(e) => {
              setSearchQuery(e.target.value);
              setCurrentPage(1);
            }}
            style={{ width: 300 }}
          />

          <Select
            value={selectedCategory}
            onChange={(value: 'All' | Domain) => {
              setSelectedCategory(value);
              setCurrentPage(1);
            }}
            options={[
              { value: 'All', label: 'All Domains' },
              { value: 'Art', label: 'Art' },
              { value: 'Music', label: 'Music' },
              { value: 'Writing', label: 'Writing' },
            ]}
            style={{ width: 180 }}
          />

          <Select
            value={sortOption}
            onChange={(value: SortOpt) => {
              setSortOption(value);
              setCurrentPage(1);
            }}
            options={[
              { value: 'newest', label: 'Newest' },
              { value: 'popular', label: 'Most Popular' },
            ]}
            style={{ width: 180 }}
          />
        </Space>

        <Row gutter={[24, 24]}>
          {paginatedIdeas.map((idea) => (
            <Col key={idea.id} xs={24} sm={12} md={8}>
              <Card
                hoverable
                cover={
                  <img
                    alt={idea.title}
                    src={idea.thumbnail}
                    style={{ height: 160, objectFit: 'cover' }}
                  />
                }
                onClick={() => handleCardClick(idea)}
              >
                {/* Single-line title clamp without AntD ellipsis rows */}
                <Title level={4} className="clamp-1" style={{ marginBottom: 8 }}>
                  {idea.title}
                </Title>

                {/* Multi-line summary clamp without AntD ellipsis rows */}
                <Paragraph className="clamp-2" type="secondary" style={{ marginBottom: 12 }}>
                  {idea.excerpt}
                </Paragraph>

                <Text strong>By:</Text> {idea.author}
              </Card>
            </Col>
          ))}
        </Row>

        <div style={{ textAlign: 'center', marginTop: 24 }}>
          <Pagination
            current={currentPage}
            pageSize={pageSize}
            total={filteredIdeas.length}
            onChange={(page) => setCurrentPage(page)}
          />
        </div>
      </Space>

      <style jsx>{`
        .clamp-1 {
          overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
        }
        .clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `}</style>
    </PageContainer>
  );
}
}

===== END app/kreative/creative-hub/explore-ideas/page.tsx =====


===== BEGIN app/kreative/creative-hub/inspiration-gallery/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import {
  Row,
  Col,
  Card,
  Modal,
  Pagination,
  Tabs,
  Button,
  Typography,
  Space,
} from 'antd';
import { HeartOutlined, HeartFilled } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { Title, Text, Paragraph } = Typography;

type Category = 'All' | 'Photography' | 'Painting' | 'Digital Art';

interface CreativeWork {
  id: string;
  title: string;
  description: string;
  creator: string;
  category: Exclude<Category, 'All'>;
  imageUrl: string;
  likes: number;
  liked?: boolean;
}

// Dummy data for the gallery
const dummyWorks: CreativeWork[] = [
  {
    id: '1',
    title: 'Sunset Overdrive',
    description: 'A breathtaking view of the sunset captured in high resolution.',
    creator: 'Alice Johnson',
    category: 'Photography',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=Sunset',
    likes: 34,
    liked: false,
  },
  {
    id: '2',
    title: 'Abstract Colors',
    description: 'A vibrant abstract painting exploring the interplay of color.',
    creator: 'Bob Smith',
    category: 'Painting',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=Abstract+Painting',
    likes: 58,
    liked: false,
  },
  {
    id: '3',
    title: 'Digital Dreams',
    description: 'A surreal piece of digital art mixing technology and imagination.',
    creator: 'Carla Gomez',
    category: 'Digital Art',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=Digital+Art',
    likes: 72,
    liked: false,
  },
  {
    id: '4',
    title: 'City Reflections',
    description: 'A dramatic urban photograph showcasing reflections on wet streets.',
    creator: 'David Lee',
    category: 'Photography',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=City+Reflections',
    likes: 43,
    liked: false,
  },
  {
    id: '5',
    title: 'Impressionist Waves',
    description: 'An impressionist painting capturing the movement of ocean waves.',
    creator: 'Eva Martinez',
    category: 'Painting',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=Impressionist+Waves',
    likes: 66,
    liked: false,
  },
  {
    id: '6',
    title: 'Virtual Reality',
    description: 'An innovative digital artwork blending real and virtual elements.',
    creator: 'Felix Zhang',
    category: 'Digital Art',
    imageUrl: 'https://via.placeholder.com/400x300.png?text=Virtual+Reality',
    likes: 51,
    liked: false,
  },
];

export default function InspirationGalleryPage(): JSX.Element {
  // State for category filtering, pagination, Modal, and works.
  const [selectedCategory, setSelectedCategory] = useState<Category>('All');
  const [currentPage, setCurrentPage] = useState<number>(1);
  const pageSize = 6;
  const [modalVisible, setModalVisible] = useState<boolean>(false);
  const [selectedWork, setSelectedWork] = useState<CreativeWork | null>(null);
  const [works, setWorks] = useState<CreativeWork[]>(dummyWorks);

  // Tabs (AntD v5) items
  const tabItems = useMemo(
    () => [
      { key: 'All', label: 'All' },
      { key: 'Photography', label: 'Photography' },
      { key: 'Painting', label: 'Painting' },
      { key: 'Digital Art', label: 'Digital Art' },
    ],
    []
  );

  // Filter works based on selected category.
  const filteredWorks = useMemo(() => {
    if (selectedCategory === 'All') return works;
    return works.filter((work) => work.category === selectedCategory);
  }, [selectedCategory, works]);

  // Paginate the filtered works.
  const paginatedWorks = useMemo(() => {
    const startIndex = (currentPage - 1) * pageSize;
    return filteredWorks.slice(startIndex, startIndex + pageSize);
  }, [filteredWorks, currentPage]);

  // Handle like toggle.
  const toggleLike = (id: string): void => {
    setWorks((prev) =>
      prev.map((w) =>
        w.id === id ? { ...w, liked: !w.liked, likes: w.liked ? w.likes - 1 : w.likes + 1 } : w
      )
    );
  };

  // Open Modal for work details.
  const openWorkModal = (work: CreativeWork): void => {
    setSelectedWork(work);
    setModalVisible(true);
  };

  // Close the details Modal.
  const closeModal = (): void => {
    setModalVisible(false);
    setSelectedWork(null);
  };

  return (
    <PageContainer title="Inspiration Gallery">
      {/* Category Filter (AntD v5 Tabs API) */}
      <Tabs
        activeKey={selectedCategory}
        onChange={(key) => {
          setSelectedCategory(key as Category);
          setCurrentPage(1);
        }}
        type="card"
        items={tabItems}
        style={{ marginBottom: 24 }}
      />

      {/* Gallery Grid */}
      <Row gutter={[16, 16]}>
        {paginatedWorks.map((work) => (
          <Col key={work.id} xs={24} sm={12} md={8}>
            <Card
              hoverable
              cover={
                <img
                  alt={work.title}
                  src={work.imageUrl}
                  style={{ height: 200, objectFit: 'cover' }}
                />
              }
              actions={[
                <Button
                  key="like"
                  type="text"
                  onClick={(e) => {
                    e.stopPropagation();
                    toggleLike(work.id);
                  }}
                >
                  {work.liked ? (
                    <HeartFilled style={{ color: 'red', fontSize: 18 }} />
                  ) : (
                    <HeartOutlined style={{ fontSize: 18 }} />
                  )}
                  <Text style={{ marginLeft: 4 }}>{work.likes}</Text>
                </Button>,
              ]}
              onClick={() => openWorkModal(work)}
            >
              <Card.Meta
                title={work.title}
                description={
                  <>
                    <Text>{work.creator}</Text>
                    <br />
                    {/* Replace ellipsis={{}} with CSS line clamp */}
                    <Paragraph type="secondary" className="lineClamp2">
                      {work.description}
                    </Paragraph>
                  </>
                }
              />
            </Card>
          </Col>
        ))}
      </Row>

      {/* Pagination */}
      <div style={{ textAlign: 'center', marginTop: 24 }}>
        <Pagination
          current={currentPage}
          pageSize={pageSize}
          total={filteredWorks.length}
          onChange={(page) => setCurrentPage(page)}
        />
      </div>

      {/* Modal for work details */}
      <Modal open={modalVisible} footer={null} onCancel={closeModal} width={800}>
        {selectedWork && (
          <>
            <img
              alt={selectedWork.title}
              src={selectedWork.imageUrl}
              style={{ width: '100%', maxHeight: 400, objectFit: 'contain' }}
            />
            <div style={{ marginTop: 16 }}>
              <Title level={3}>{selectedWork.title}</Title>
              <Text strong>By: </Text>
              <Text>{selectedWork.creator}</Text>
              <p style={{ marginTop: 12 }}>{selectedWork.description}</p>
              <Space>
                <Button type="text" onClick={() => toggleLike(selectedWork.id)}>
                  {selectedWork.liked ? (
                    <HeartFilled style={{ color: 'red', fontSize: 20 }} />
                  ) : (
                    <HeartOutlined style={{ fontSize: 20 }} />
                  )}
                  <Text style={{ marginLeft: 4 }}>{selectedWork.likes} Likes</Text>
                </Button>
              </Space>
            </div>
          </>
        )}
      </Modal>

      <style jsx>{`
        /* Multi-line clamp to replace AntD ellipsis { rows } */
        .lineClamp2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `}</style>
    </PageContainer>
  );
}

===== END app/kreative/creative-hub/inspiration-gallery/page.tsx =====


===== BEGIN app/kreative/creative-hub/submit-creative-work/page.tsx =====
"use client";

import React, { useState } from "react";
import {
  Form,
  Input,
  Button,
  Upload,
  Select,
  message as antdMessage,
  Alert,
} from "antd";
import type { UploadFile } from "antd/es/upload/interface";
import { UploadOutlined } from "@ant-design/icons";
import { useRouter } from "next/navigation";
import PageContainer from "@/components/PageContainer";

type CreativeWorkFormValues = {
  title: string;
  description: string;
  category: string;
  credits?: string;
  creativeFile: UploadFile[];
};

// Type minimal utile pour le onChange d'Upload (évite implicit any)
type UploadChangeParamLite = {
  fileList: UploadFile[];
};

export default function SubmitCreativeWorkPage() {
  const [form] = Form.useForm<CreativeWorkFormValues>();
  const [fileList, setFileList] = useState<UploadFile[]>([]);
  const router = useRouter();

  const handleUploadChange = (info: UploadChangeParamLite) => {
    setFileList(info.fileList);
  };

  // Normalise l'évènement Upload pour AntD Form
  const normFile = (e: UploadChangeParamLite | UploadFile[]) => {
    if (Array.isArray(e)) return e;
    return e?.fileList ?? [];
  };

  const onFinish = async (values: CreativeWorkFormValues) => {
    if (!fileList.length) {
      antdMessage.error("Veuillez joindre au moins un fichier.");
      return;
    }
    try {
      // TODO: remplacer par l'appel API réel d’envoi
      // await api.submitCreativeWork(values, fileList)
      antdMessage.success("Création envoyée avec succès !");
      router.push("/kreative/creative-hub");
    } catch {
      antdMessage.error("Erreur lors de l'envoi. Réessayez.");
    }
  };

  return (
    <PageContainer title="Submit Creative Work">
      <Alert
        type="info"
        showIcon
        style={{ marginBottom: 16 }}
        message="Partagez votre travail créatif avec la communauté."
      />

      <Form<CreativeWorkFormValues> layout="vertical" form={form} onFinish={onFinish}>
        <Form.Item
          label="Title"
          name="title"
          rules={[{ required: true, message: "Please enter a title" }]}
        >
          <Input placeholder="e.g., Generative sculpture series" />
        </Form.Item>

        <Form.Item
          label="Description"
          name="description"
          rules={[{ required: true, message: "Please add a description" }]}
        >
          <Input.TextArea rows={4} placeholder="What did you make? How? Why?" />
        </Form.Item>

        <Form.Item
          label="Category"
          name="category"
          rules={[{ required: true, message: "Please pick a category" }]}
        >
          <Select placeholder="Choose one">
            <Select.Option value="art">Art</Select.Option>
            <Select.Option value="design">Design</Select.Option>
            <Select.Option value="music">Music</Select.Option>
            <Select.Option value="other">Other</Select.Option>
          </Select>
        </Form.Item>

        <Form.Item
          label="Upload"
          name="creativeFile"
          valuePropName="fileList"
          getValueFromEvent={normFile}
          rules={[
            {
              validator: (_, value: UploadFile[]) =>
                value && value.length
                  ? Promise.resolve()
                  : Promise.reject(new Error("Please attach at least one file")),
            },
          ]}
        >
          <Upload
            beforeUpload={() => false} // empêche l’upload auto, on laisse le form gérer
            multiple
            onChange={handleUploadChange}
            fileList={fileList}
          >
            <Button icon={<UploadOutlined />}>Select file(s)</Button>
          </Upload>
        </Form.Item>

        <Form.Item label="Credits" name="credits">
          <Input placeholder="Collaborators, references, tools…" />
        </Form.Item>

        <Form.Item>
          <Button type="primary" htmlType="submit">
            Submit
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
}

===== END app/kreative/creative-hub/submit-creative-work/page.tsx =====


===== BEGIN app/kreative/dashboard/page.tsx =====
'use client';

import React from 'react';
import { NextPage } from 'next';
import {
  Card,
  Avatar,
  Button,
  Carousel,
  List,
  Row,
  Col,
  Typography,
  Space,
} from 'antd';
import {
  PictureOutlined,
  BulbOutlined,
  UploadOutlined,
} from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { Title, Text } = Typography;

/** Featured Project */
const featuredProject = {
  title: 'Dreamscape: A Visual Journey',
  imageUrl: 'https://via.placeholder.com/600x300.png?text=Featured+Project',
};

/** Inspiration Gallery (carousel) */
const inspirationGallery = [
  { id: '1', imageUrl: 'https://via.placeholder.com/600x300.png?text=Art+1' },
  { id: '2', imageUrl: 'https://via.placeholder.com/600x300.png?text=Art+2' },
  { id: '3', imageUrl: 'https://via.placeholder.com/600x300.png?text=Art+3' },
  { id: '4', imageUrl: 'https://via.placeholder.com/600x300.png?text=Art+4' },
];

/** Top Creator */
const topCreator = {
  name: 'Sophia Rivera',
  avatar: 'https://via.placeholder.com/80.png?text=S',
  stats: '48 Projects · 1200 Likes',
};

/** Quick Links */
const quickLinks = [
  {
    title: 'Explore Ideas',
    icon: <BulbOutlined style={{ fontSize: 24 }} />,
    link: '/kreative/explore',
  },
  {
    title: 'Submit Work',
    icon: <UploadOutlined style={{ fontSize: 24 }} />,
    link: '/kreative/submit',
  },
  {
    title: 'View Gallery',
    icon: <PictureOutlined style={{ fontSize: 24 }} />,
    link: '/kreative/gallery',
  },
];

/** Recent Activity */
const recentActivities = [
  {
    id: 'a1',
    text: 'User John submitted a new Art piece in Photography',
    time: '2 hours ago',
  },
  {
    id: 'a2',
    text: 'User Emma started a new idea: “Urban Sketching”',
    time: '5 hours ago',
  },
  {
    id: 'a3',
    text: 'User Liam commented on “Dreamscape: A Visual Journey”',
    time: '1 day ago',
  },
  {
    id: 'a4',
    text: 'User Olivia liked a work in Digital Art',
    time: '2 days ago',
  },
];

const KreativeDashboard: NextPage = () => {
  return (
    <PageContainer title="Kreative Dashboard">
      <Row gutter={[24, 24]}>
        {/* Featured Project Highlight */}
        <Col xs={24} md={16}>
          <Card
            hoverable
            cover={
              <img
                alt="Featured Project"
                src={featuredProject.imageUrl}
                style={{ objectFit: 'cover' }}
              />
            }
          >
            <Title level={3}>{featuredProject.title}</Title>
          </Card>
        </Col>

        {/* Top Creator Spotlight */}
        <Col xs={24} md={8}>
          <Card>
            <Space direction="vertical" align="center" style={{ width: '100%' }}>
              <Avatar size={80} src={topCreator.avatar} />
              <Title level={4} style={{ margin: 0 }}>
                {topCreator.name}
              </Title>
              <Text type="secondary">{topCreator.stats}</Text>
            </Space>
          </Card>
        </Col>
      </Row>

      <Row gutter={[24, 24]} style={{ marginTop: 24 }}>
        {/* Inspiration Gallery Preview */}
        <Col xs={24} md={16}>
          <Card title="Inspiration Gallery Preview">
            <Carousel autoplay dotPosition="bottom">
              {inspirationGallery.map((item) => (
                <div key={item.id}>
                  <img
                    alt={`Art ${item.id}`}
                    src={item.imageUrl}
                    style={{ width: '100%', height: 300, objectFit: 'cover' }}
                  />
                </div>
              ))}
            </Carousel>
          </Card>
        </Col>

        {/* Quick Links */}
        <Col xs={24} md={8}>
          <Card title="Quick Links">
            <Space direction="vertical" size="middle" style={{ width: '100%' }}>
              {quickLinks.map((link, index) => (
                <Button
                  key={index}
                  type="primary"
                  block
                  icon={link.icon}
                  onClick={() => {
                    window.location.href = link.link;
                  }}
                >
                  {link.title}
                </Button>
              ))}
            </Space>
          </Card>
        </Col>
      </Row>

      {/* Recent Activity Feed */}
      <Row gutter={[24, 24]} style={{ marginTop: 24 }}>
        <Col xs={24}>
          <Card title="Recent Activity">
            <List
              itemLayout="horizontal"
              dataSource={recentActivities}
              renderItem={(item) => (
                <List.Item>
                  <List.Item.Meta title={item.text} description={item.time} />
                </List.Item>
              )}
            />
          </Card>
        </Col>
      </Row>
    </PageContainer>
  );
};

export default KreativeDashboard;

===== END app/kreative/dashboard/page.tsx =====


===== BEGIN app/kreative/idea-incubator/collaborate-on-ideas/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import { List, Button, Badge, Input, Select, Space, Typography } from 'antd';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';

const { Title, Text } = Typography;

interface Idea {
  id: string;
  title: string;
  status: 'Seeking Collaboration' | 'In Progress';
  dateCreated: string; // YYYY-MM-DD
  newActivity: boolean;
}

const dummyIdeas: Idea[] = [
  {
    id: '1',
    title: 'Revolutionary App Concept',
    status: 'Seeking Collaboration',
    dateCreated: '2025-11-20',
    newActivity: true,
  },
  {
    id: '2',
    title: 'Sustainable Energy Initiative',
    status: 'In Progress',
    dateCreated: '2025-10-15',
    newActivity: false,
  },
  {
    id: '3',
    title: 'Urban Gardening Project',
    status: 'Seeking Collaboration',
    dateCreated: '2025-11-01',
    newActivity: true,
  },
];

type StatusFilter = 'All' | Idea['status'];

export default function CollaborateOnIdeasPage(): JSX.Element {
  const router = useRouter();

  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedStatus, setSelectedStatus] = useState<StatusFilter>('All');

  const filteredIdeas = useMemo<Idea[]>(() => {
    let ideas = dummyIdeas;
    if (selectedStatus !== 'All') {
      ideas = ideas.filter((idea) => idea.status === selectedStatus);
    }
    if (searchQuery.trim() !== '') {
      const q = searchQuery.toLowerCase();
      ideas = ideas.filter((idea) => idea.title.toLowerCase().includes(q));
    }
    return ideas;
  }, [searchQuery, selectedStatus]);

  return (
    <PageContainer title="Collaborate on Ideas">
      <Space direction="vertical" size="middle" style={{ width: '100%', marginBottom: 24 }}>
        <Space>
          <Input
            placeholder="Search by title..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            style={{ width: 300 }}
            allowClear
          />
          <Select<StatusFilter>
            value={selectedStatus}
            onChange={(value) => setSelectedStatus(value)}
            style={{ width: 220 }}
            options={[
              { value: 'All', label: 'All Status' },
              { value: 'Seeking Collaboration', label: 'Seeking Collaboration' },
              { value: 'In Progress', label: 'In Progress' },
            ]}
          />
        </Space>
      </Space>

      <List
        itemLayout="vertical"
        dataSource={filteredIdeas}
        renderItem={(idea) => (
          <List.Item
            key={idea.id}
            actions={[
              <Button
                key="edit"
                type="primary"
                onClick={() => router.push(`/kreative/idea-incubator/edit/${idea.id}`)}
              >
                Edit
              </Button>,
              <Button
                key="view"
                onClick={() => router.push(`/kreative/idea-incubator/view/${idea.id}`)}
              >
                View
              </Button>,
            ]}
          >
            <List.Item.Meta
              title={
                <Space>
                  {idea.newActivity && (
                    <Badge count="New" style={{ backgroundColor: '#52c41a' }} />
                  )}
                  <Title level={4} style={{ margin: 0 }}>
                    {idea.title}
                  </Title>
                </Space>
              }
              description={
                <>
                  <Text type="secondary">Status: {idea.status}</Text>
                  <br />
                  <Text type="secondary">Created on: {idea.dateCreated}</Text>
                </>
              }
            />
          </List.Item>
        )}
      />
    </PageContainer>
  );
}

===== END app/kreative/idea-incubator/collaborate-on-ideas/page.tsx =====


===== BEGIN app/kreative/idea-incubator/create-new-idea/page.tsx =====
'use client';

import React from 'react';
import { Form, Input, Select, Button, message as antdMessage } from 'antd';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';
// Note: MainLayout import removed because the /kreative layout handles the layout wrapper.

const { TextArea } = Input;
const { Option } = Select;

const CreateNewIdea: React.FC = () => {
  const [form] = Form.useForm();
  const router = useRouter();

  // Handler for form submission.
  const onFinish = (values: any) => {
    console.log('Submitted Idea:', values);
    antdMessage.success('Votre idée a été soumise avec succès !');
    // Redirect to the "My Ideas" page after submitting.
    router.push('/kreative/idea-incubator/my-ideas');
  };

  return (
    <PageContainer title="Create New Idea">
      <Form form={form} layout="vertical" onFinish={onFinish}>
        {/* Title Field */}
        <Form.Item
          label="Title of Idea"
          name="title"
          rules={[{ required: true, message: 'Veuillez saisir le titre de votre idée.' }]}
        >
          <Input placeholder="Enter title of your idea" />
        </Form.Item>

        {/* Detailed Description Field */}
        <Form.Item
          label="Detailed Description"
          name="description"
          rules={[{ required: true, message: 'Veuillez saisir une description détaillée de votre idée.' }]}
        >
          <TextArea
            rows={6}
            placeholder="Explain your idea, including the problem it solves or your vision"
          />
        </Form.Item>

        {/* Category / Field Selector */}
        <Form.Item
          label="Category / Field"
          name="category"
          rules={[{ required: true, message: 'Veuillez sélectionner une catégorie.' }]}
        >
          <Select placeholder="Select a category">
            <Option value="Technology">Technology</Option>
            <Option value="Art">Art</Option>
            <Option value="Education">Education</Option>
            <Option value="Health">Health</Option>
            <Option value="Environment">Environment</Option>
          </Select>
        </Form.Item>

        {/* (Optional) Resources Needed / Skills Required - omitted for now */}

        {/* Submit Button */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Submit Idea
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

export default CreateNewIdea;

===== END app/kreative/idea-incubator/create-new-idea/page.tsx =====


===== BEGIN app/kreative/idea-incubator/my-ideas/page.tsx =====
'use client';

import React, { useMemo, useState } from 'react';
import { List, Button, Badge, Input, Select, Space, Typography } from 'antd';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';

const { Title, Text } = Typography;

type IdeaStatus = 'Seeking Collaboration' | 'In Progress';

interface Idea {
  id: string;
  title: string;
  status: IdeaStatus;
  dateCreated: string; // YYYY-MM-DD
  newActivity: boolean;
}

const dummyIdeas: Idea[] = [
  {
    id: '1',
    title: 'Revolutionary App Concept',
    status: 'Seeking Collaboration',
    dateCreated: '2025-11-20',
    newActivity: true,
  },
  {
    id: '2',
    title: 'Sustainable Energy Initiative',
    status: 'In Progress',
    dateCreated: '2025-10-15',
    newActivity: false,
  },
  {
    id: '3',
    title: 'Urban Gardening Project',
    status: 'Seeking Collaboration',
    dateCreated: '2025-11-01',
    newActivity: true,
  },
];

export default function MyIdeasPage() {
  const router = useRouter();

  const [searchQuery, setSearchQuery] = useState<string>('');
  const [selectedStatus, setSelectedStatus] = useState<'All' | IdeaStatus>('All');

  const filteredIdeas = useMemo(() => {
    let ideas = dummyIdeas;
    if (selectedStatus !== 'All') {
      ideas = ideas.filter((idea) => idea.status === selectedStatus);
    }
    if (searchQuery.trim()) {
      const q = searchQuery.toLowerCase();
      ideas = ideas.filter((idea) => idea.title.toLowerCase().includes(q));
    }
    return ideas;
  }, [searchQuery, selectedStatus]);

  return (
    <PageContainer title="My Ideas">
      <Space direction="vertical" size="middle" style={{ width: '100%', marginBottom: 24 }}>
        <Space>
          <Input
            placeholder="Search by title..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            style={{ width: 300 }}
            allowClear
          />
          <Select
            value={selectedStatus}
            onChange={(value) => setSelectedStatus(value)}
            style={{ width: 220 }}
            options={[
              { value: 'All', label: 'All Status' },
              { value: 'Seeking Collaboration', label: 'Seeking Collaboration' },
              { value: 'In Progress', label: 'In Progress' },
            ]}
          />
        </Space>
      </Space>

      <List<Idea>
        itemLayout="vertical"
        dataSource={filteredIdeas}
        renderItem={(idea) => (
          <List.Item
            key={idea.id}
            actions={[
              <Button
                key="edit"
                type="primary"
                onClick={() => router.push(`/kreative/idea-incubator/edit/${idea.id}`)}
              >
                Edit
              </Button>,
              <Button
                key="view"
                onClick={() => router.push(`/kreative/idea-incubator/view/${idea.id}`)}
              >
                View
              </Button>,
            ]}
          >
            <List.Item.Meta
              title={
                <Space>
                  {idea.newActivity && (
                    <Badge count="New" style={{ backgroundColor: '#52c41a' }} />
                  )}
                  <Title level={4} style={{ margin: 0 }}>
                    {idea.title}
                  </Title>
                </Space>
              }
              description={
                <>
                  <Text type="secondary">Status: {idea.status}</Text>
                  <br />
                  <Text type="secondary">Created on: {idea.dateCreated}</Text>
                </>
              }
            />
          </List.Item>
        )}
      />
    </PageContainer>
  );
}

===== END app/kreative/idea-incubator/my-ideas/page.tsx =====


===== BEGIN app/kreative/layout.tsx =====
import React, { Suspense } from 'react'
import MainLayout from '@/components/layout-components/MainLayout'

export default function SegmentLayout({ children }: { children: React.ReactNode }) {
  return (
    <Suspense fallback={null}>
      <MainLayout>{children}</MainLayout>
    </Suspense>
  )
}
===== END app/kreative/layout.tsx =====


===== BEGIN app/layout.tsx =====
// app/layout.tsx
import '@/styles/tailwind.css'                // ← global Tailwind + reset AntD
import { ThemeProvider } from '@/context/ThemeContext'
import QueryProvider from '@/shared/QueryProvider'
import "../src/dayjs-setup"
import AuthProvider from './providers/AuthProvider'

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body>
        <ThemeProvider>
          <QueryProvider>
            <AuthProvider>
              {children}
            </AuthProvider>
          </QueryProvider>
        </ThemeProvider>
      </body>
    </html>
  )
}

===== END app/layout.tsx =====


===== BEGIN app/page.tsx =====
// app/page.tsx
import PageContainer from "@/components/PageContainer";

export const metadata = {
  title: "Accueil",
  description: "Point d’entrée",
};

export default function Page() {
  return (
    <PageContainer title="Accueil">
      <p>Bienvenue. Cette page affiche uniquement le PageContainer et son contenu.</p>
    </PageContainer>
  );
}

===== END app/page.tsx =====


===== BEGIN app/problem_files_concat.txt =====

===== BEGIN components\sculpture-maker-components\CreateForm\SculptureCreate.tsx =====
'use client'

/**
 * Description: Component for Sculpture create page
 * Author: Hieu Chu
 */

import { useState, useEffect } from 'react'
import { Row, Button, Form, message as antdMessage } from 'antd'
import { ColStyled, CardStyled, FormCol, CustomFormItem } from '../style'
import { FlyToInterpolator } from 'react-map-gl'
import Map from '../../map-components'
import TextFields from './CreateFormTextFields'
import { api } from '../../../shared/api'
import Loading from '../../Loading'
import Error from 'next/error'
import { normalizeError } from '../../../shared/errors'

type ErrState = { message: string; statusCode?: number } | null

const SculptureCreate = ({
  form,
  form: { getFieldDecorator, setFieldsValue },
  setStep,
  setSculpture
}) => {
  const [view, setView] = useState({
    latitude: -34.40581053569814,
    longitude: 150.87842788963476,
    zoom: 15,
    pitch: 50
  })

  const initialData = {
    markerLat: -34.40581053569814,
    markerLng: 150.87842788963476
  }

  const [marker, setMarker] = useState({ ...initialData })
  const [makerList, setMakerList] = useState<any[]>([])
  const [loading, setLoading] = useState(true)
  const [submitting, setSubmitting] = useState(false)
  const [error, setError] = useState<ErrState>(null)

  const addMaker = (maker: any) => {
    setMakerList(prev => [...prev, maker])
    setFieldsValue({ primaryMakerId: maker.id })
  }

  useEffect(() => {
    let mounted = true
    const fetchMakerList = async () => {
      try {
        const res = await api.get('/maker/')
        if (mounted) setMakerList(res.data ?? [])
      } catch (e: unknown) {
        const { message, statusCode } = normalizeError(e)
        if (mounted) setError({ statusCode, message })
      } finally {
        if (mounted) setLoading(false)
      }
    }
    fetchMakerList()
    return () => {
      mounted = false
    }
  }, [])

  const flyTo = (latitude: number, longitude: number) => {
    setView(prev => ({
      ...prev,
      latitude,
      longitude,
      transitionInterpolator: new FlyToInterpolator(),
      transitionDuration: 1500,
      zoom: 15
    }))
    setMarker({ markerLat: latitude, markerLng: longitude })
  }

  const showLocationOnMap = () => {
    form.validateFields(['latitude', 'longitude'], (errors: any, values: any) => {
      if (!errors) {
        const { latitude, longitude } = values
        flyTo(+latitude, +longitude)
      }
    })
  }

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    form.validateFields(async (err: any, values: any) => {
      if (!err) {
        // nettoie les champs vides
        Object.keys(values).forEach(k => {
          if (!values[k]) delete values[k]
        })
        if (values.latitude) values.latitude = Number(values.latitude)
        if (values.longitude) values.longitude = Number(values.longitude)

        setSubmitting(true)
        try {
          await api.post('/sculpture', values)
          setSculpture({ ...values })
          setStep((s: number) => s + 1)
        } catch (e: unknown) {
          const { message } = normalizeError(e)
          antdMessage.error(message)
        } finally {
          setSubmitting(false)
        }
      }
    })
  }

  if (loading) return <Loading />
  if (error) return <Error statusCode={error.statusCode ?? 500} title={error.message} />

  return (
    <Row gutter={16}>
      <ColStyled xs={24}>
        <CardStyled title="Create new sculpture">
          <Form onSubmit={handleSubmit} autoComplete="off">
            <ColStyled xs={24} md={12}>
              <TextFields
                getFieldDecorator={getFieldDecorator}
                initialData={initialData}
                makerList={makerList}
                addMaker={addMaker}
              />
              <FormCol xs={24}>
                <Button onClick={showLocationOnMap}>Show on map</Button>
              </FormCol>
            </ColStyled>

            <ColStyled
              xs={24}
              md={12}
              style={{ height: 500, marginTop: 10 }}
            >
              <Map
                view={view}
                marker={marker}
                setView={setView}
                setMarker={({ markerLat, markerLng }) => {
                  setMarker({ markerLat, markerLng })
                  setFieldsValue({
                    latitude: String(markerLat),
                    longitude: String(markerLng)
                  })
                }}
              />
            </ColStyled>

            <ColStyled xs={24}>
              <FormCol xs={24}>
                <CustomFormItem style={{ marginBottom: 0, marginTop: 8 }}>
                  <Button type="primary" htmlType="submit" loading={submitting}>
                    Submit
                  </Button>
                </CustomFormItem>
              </FormCol>
            </ColStyled>
          </Form>
        </CardStyled>
      </ColStyled>
    </Row>
  )
}

export default Form.create({
  name: 'sculpture_create_form'
})(SculptureCreate)

===== END components\sculpture-maker-components\CreateForm\SculptureCreate.tsx =====

===== BEGIN components\sculpture-maker-components\EditForm\SculptureEdit.tsx =====
'use client';

/**
 * Description: Sculpture edit page component
 * Author: Hieu Chu
 */

import { useState } from 'react'
import { Button, Form, message as antdMessage  } from 'antd';import { ColStyled, FormCol, CustomFormItem } from '../style'
import { FlyToInterpolator } from 'react-map-gl'
import Map from '../../map-components'
import EditFormTextFields from './EditFormTextFields'
import api from '../../../api'
import { useRouter } from 'next/navigation';
import { normalizeError } from "../../../shared/errors";

const SculptureEdit = ({
  form,
  form: { getFieldDecorator, setFieldsValue, getFieldValue, resetFields },
  defaultPosition,
  initialData,
  initialData: { latitude, longitude },
  makerList,
  setMakerList
}) => {
  const [view, setView] = useState({
    latitude: latitude ? latitude : defaultPosition[0],
    longitude: longitude ? longitude : defaultPosition[1],
    zoom: 15,
    pitch: 50
  })

  const [marker, setMarker] = useState({
    markerLat: latitude ? latitude : defaultPosition[0],
    markerLng: longitude ? longitude : defaultPosition[1]
  })

  const [submitting, setSubmitting] = useState(false)

  const flyTo = (latitude, longitude) => {
    setView({
      ...view,
      latitude,
      longitude,
      transitionInterpolator: new FlyToInterpolator(),
      transitionDuration: 1500,
      zoom: 15
    })

    setMarker({
      markerLat: latitude,
      markerLng: longitude
    })
  }

  const showLocationOnMap = () => {
    form.validateFields(['latitude', 'longitude'], (errors, values) => {
      if (!errors) {
        const { latitude, longitude } = values
        flyTo(+latitude, +longitude)
      }
    })
  }

  const handleSubmit = e => {
    e.preventDefault()
    form.validateFields(async (err, values) => {
      const router = useRouter();
      if (!err) {
        // remember to convert lat and long to numeric type
        console.log('Received values of form: ', values)
        for (let key in values) {
          if (!values[key]) {
            values[key] = null
          }
        }

        if (values.latitude) {
          values.latitude = Number(values.latitude)
        }

        if (values.longitude) {
          values.longitude = Number(values.longitude)
        }

        console.log('after', values)

        setSubmitting(true)
        try {
          const _result = (await api.patch('/sculpture', values)).data
          antdMessage.success('Updated sculpture details successfully!', 2)
          setSubmitting(false)
          router.push(`/sculptures/id/${values.accessionId}`)
        } catch (e: unknown) {
          const { message, statusCode } = normalizeError(e);
          setSubmitting(false)
          antdMessage.error(e.response.data.message)
        }
      }
    })
  }

  return (
    <Form onSubmit={handleSubmit} autoComplete="off">
      <ColStyled xs={24} md={12}>
        {/* long repeated list of text fields */}
        <EditFormTextFields
          getFieldDecorator={getFieldDecorator}
          setFieldsValue={setFieldsValue}
          getFieldValue={getFieldValue}
          initialData={initialData}
          makerList={makerList}
          setMakerList={setMakerList}
        />
        <FormCol xs={24}>
          <Button onClick={showLocationOnMap}>Show on map</Button>
        </FormCol>
      </ColStyled>

      <ColStyled
        xs={24}
        md={12}
        style={{
          height: 500,
          marginTop: 10
        }}
      >
        <Map
          view={view}
          marker={marker}
          setView={setView}
          setMarker={({ markerLat, markerLng }) => {
            setMarker({ markerLat, markerLng })
            setFieldsValue({
              latitude: String(markerLat),
              longitude: String(markerLng)
            })
          }}
        />
      </ColStyled>

      <ColStyled xs={24}>
        <FormCol xs={24}>
          <CustomFormItem style={{ marginBottom: 0, marginTop: 8 }}>
            <Button type="primary" htmlType="submit" loading={submitting}>
              Submit
            </Button>
            <Button
              type="default"
              style={{
                marginLeft: 5
              }}
              onClick={() => {
                resetFields()
                const flyLat = latitude ? latitude : defaultPosition[0]
                const flyLng = longitude ? longitude : defaultPosition[1]
                flyTo(flyLat, flyLng)
              }}
            >
              Reset
            </Button>
          </CustomFormItem>
        </FormCol>
      </ColStyled>
    </Form>
  )
}

export default Form.create({
  name: 'sculpture_edit_form'
})(SculptureEdit)

===== END components\sculpture-maker-components\EditForm\SculptureEdit.tsx =====

===== BEGIN components\sculpture-maker-components\EditForm\MakerEdit.tsx =====
'use client'

/**
 * Description: Primary maker edit page component
 * Author: Hieu Chu
 */

import { useState } from 'react'
import { Input, Form, Button, Modal, message as antdMessage  } from 'antd';import { CustomFormItem } from '../style'
import api from '../../../api'
import { normalizeError } from "../../../shared/errors";

const MakerEdit = ({
  form: { getFieldDecorator, validateFields, resetFields },
  visible,
  handleCancel,
  getCurrentMaker,
  editMaker
}) => {
  const [submitting, setSubmitting] = useState(false)

  const {
    firstName,
    lastName,
    nationality,
    birthYear,
    deathYear,
    wikiUrl,
    id
  } = getCurrentMaker()

  const handleOk = e => {
    e.preventDefault()
    validateFields(async (err, values) => {
      if (!err) {
        console.log('Received values of maker form: ', values)
        for (let key in values) {
          if (!values[key]) {
            values[key] = null
          }
        }

        if (values.birthYear) {
          values.birthYear = Number(values.birthYear)
        }
        if (values.deathYear) {
          values.deathYear = Number(values.deathYear)
        }

        values.id = id
        console.log('after maker', values)

        setSubmitting(true)
        try {
          const _result = (await api.patch('/maker', values)).data
          setSubmitting(false)
          editMaker(values)
          handleCancel()
          resetFields()
          antdMessage.success('Updated maker details successfully!', 2)
        } catch (e: unknown) {
          const { message, statusCode } = normalizeError(e);
          setSubmitting(false)
          antdMessage.error(e.response.data.message)
        }
      }
    })
  }

  return (
    <Modal
      open={visible}
      title="Edit maker details"
      onOk={handleOk}
      onCancel={handleCancel}
      maskClosable={false}
      footer={[
        <Button key="back" onClick={() => resetFields()}>
          Reset
        </Button>,
        <Button
          key="submit"
          type="primary"
          loading={submitting}
          onClick={handleOk}
        >
          Submit
        </Button>
      ]}
    >
      <Form autoComplete="off">
        <CustomFormItem label="First name" hasFeedback>
          {getFieldDecorator('firstName', {
            rules: [
              {
                required: true,
                whitespace: true,
                message: 'Please fill in the first name!'
              }
            ],
            initialValue: firstName
          })(<Input type="text" placeholder="First name" />)}
        </CustomFormItem>

        <CustomFormItem label="Last name" hasFeedback>
          {getFieldDecorator('lastName', {
            rules: [
              {
                required: true,
                whitespace: true,
                message: 'Please fill in the last name!'
              }
            ],
            initialValue: lastName
          })(<Input type="text" placeholder="Last name" />)}
        </CustomFormItem>

        <CustomFormItem label="Nationality" hasFeedback>
          {getFieldDecorator('nationality', {
            initialValue: nationality
          })(<Input type="text" placeholder="Nationality" />)}
        </CustomFormItem>

        <CustomFormItem label="Born" hasFeedback>
          {getFieldDecorator('birthYear', {
            rules: [
              {
                pattern: '^[0-9]{4}$',
                message: 'Please fill in a valid year!'
              }
            ],
            initialValue: birthYear ? String(birthYear) : ''
          })(<Input type="text" placeholder="Born" />)}
        </CustomFormItem>

        <CustomFormItem label="Passed away" hasFeedback>
          {getFieldDecorator('deathYear', {
            rules: [
              {
                pattern: '^[0-9]{4}$',
                message: 'Please fill in a valid year!'
              }
            ],
            initialValue: deathYear ? String(deathYear) : ''
          })(<Input type="text" placeholder="Passed away" />)}
        </CustomFormItem>

        <CustomFormItem label="Website" hasFeedback>
          {getFieldDecorator('wikiUrl', {
            rules: [
              {
                type: 'url',
                message: 'Please fill in a valid URL!'
              }
            ],
            initialValue: wikiUrl
          })(<Input type="text" placeholder="Website" />)}
        </CustomFormItem>
      </Form>
    </Modal>
  );
}

export default Form.create({
  name: 'maker_edit_form'
})(MakerEdit)

===== END components\sculpture-maker-components\EditForm\MakerEdit.tsx =====

===== BEGIN app\keenkonnect\ai-team-matching\match-preferences\page.tsx =====
'use client';

import React, { useState } from 'react';
import type { NextPage } from 'next';
import {
  Form,
  Select,
  InputNumber,
  Radio,
  Slider,
  Button,
  Progress,
  Typography,
} from 'antd';
import PageContainer from '@/components/PageContainer';

const { Option } = Select;
const { Text } = Typography;

const MatchPreferencesPage: NextPage = () => {
  const [form] = Form.useForm();

  // Valeurs initiales pour le formulaire
  const initialValues = {
    projectDomains: [] as string[],
    preferredTeamSize: 4,
    rolesOfInterest: [] as string[],
    skillsOffered: [] as string[],
    skillsSought: [] as string[],
    collaborationStyle: 'balanced',
    // 0 = Innovation focus, 100 = Execution focus
    innovationExecution: 50,
  };

  // Calcul d'un indicateur de complétude (matching readiness)
  const computeReadiness = (values: any) => {
    // 5 champs clés, poids équivalent
    const totalFields = 5;
    let completed = 0;
    if (values.projectDomains && values.projectDomains.length > 0) completed++;
    if (values.preferredTeamSize) completed++;
    if (values.rolesOfInterest && values.rolesOfInterest.length > 0) completed++;
    if (values.skillsOffered && values.skillsOffered.length > 0) completed++;
    if (values.skillsSought && values.skillsSought.length > 0) completed++;
    return Math.round((completed / totalFields) * 100);
  };

  // State pour suivre la complétude du profil
  const [readiness, setReadiness] = useState<number>(
    computeReadiness(initialValues)
  );

  // Mise à jour de l'indicateur lors d'un changement dans le formulaire
  const onValuesChange = (_changed: any, allValues: any) => {
    setReadiness(computeReadiness(allValues));
  };

  // Gestion de la soumission du formulaire
  const onFinish = (values: any) => {
    // Intégration API possible ici
    // console.log('Preferences Saved: ', values);
  };

  return (
    <PageContainer title="Match Preferences">
      <Form
        form={form}
        layout="vertical"
        initialValues={initialValues}
        onValuesChange={onValuesChange}
        onFinish={onFinish}
      >
        {/* Domaines de projet souhaités */}
        <Form.Item
          label="Desired Project Domains"
          name="projectDomains"
          rules={[{ required: true, message: 'Please select at least one domain.' }]}
        >
          <Select
            mode="multiple"
            placeholder="Select domains you want to work on"
            allowClear
          >
            <Option value="ai-ml">AI / Machine Learning</Option>
            <Option value="sustainability">Sustainability</Option>
            <Option value="edtech">EdTech</Option>
            <Option value="fintech">FinTech</Option>
            <Option value="healthtech">HealthTech</Option>
            <Option value="open-source">Open Source</Option>
          </Select>
        </Form.Item>

        {/* Taille d'équipe souhaitée */}
        <Form.Item
          label="Preferred Team Size"
          name="preferredTeamSize"
          rules={[{ required: true, message: 'Please set your preferred team size.' }]}
        >
          <InputNumber min={2} max={10} />
        </Form.Item>

        {/* Rôles d'intérêt */}
        <Form.Item
          label="Roles of Interest"
          name="rolesOfInterest"
          rules={[{ required: true, message: 'Please select at least one role.' }]}
        >
          <Select mode="multiple" placeholder="Select roles you want to take">
            <Option value="frontend">Frontend Developer</Option>
            <Option value="backend">Backend Developer</Option>
            <Option value="data">Data Scientist</Option>
            <Option value="designer">Designer (UI/UX)</Option>
            <Option value="pm">Product Manager</Option>
            <Option value="devops">DevOps</Option>
          </Select>
        </Form.Item>

        {/* Compétences offertes */}
        <Form.Item
          label="Skills You Offer"
          name="skillsOffered"
          rules={[{ required: true, message: 'Veuillez sélectionner vos compétences' }]}
        >
          <Select mode="multiple" placeholder="Sélectionnez vos compétences">
            <Option value="react">React</Option>
            <Option value="node">Node.js</Option>
            <Option value="python">Python</Option>
            <Option value="design">UI/UX Design</Option>
            <Option value="ml">Machine Learning</Option>
          </Select>
        </Form.Item>

        {/* Compétences recherchées */}
        <Form.Item
          label="Skills You Seek in a Team"
          name="skillsSought"
          rules={[{ required: true, message: 'Veuillez sélectionner les compétences recherchées' }]}
        >
          <Select mode="multiple" placeholder="Sélectionnez les compétences attendues">
            <Option value="react">React</Option>
            <Option value="node">Node.js</Option>
            <Option value="python">Python</Option>
            <Option value="design">UI/UX Design</Option>
            <Option value="ml">Machine Learning</Option>
          </Select>
        </Form.Item>

        {/* Style de collaboration */}
        <Form.Item label="Collaboration Style" name="collaborationStyle">
          <Radio.Group>
            <Radio value="flexible">Flexible</Radio>
            <Radio value="structured">Structuré</Radio>
            <Radio value="balanced">Équilibré</Radio>
          </Radio.Group>
        </Form.Item>

        {/* Slider Innovation vs Execution */}
        <Form.Item label="Innovation Focus vs Execution Focus">
          <Form.Item name="innovationExecution" noStyle>
            {/* Si vous êtes en antd v5+, vous pouvez basculer sur: tooltip={{ open: true }} */}
            <Slider min={0} max={100} tooltipVisible />
          </Form.Item>
          <div style={{ display: 'flex', justifyContent: 'space-between' }}>
            <Text>Innovation Focus</Text>
            <Text>Execution Focus</Text>
          </div>
        </Form.Item>

        {/* Indicateur de matching readiness */}
        <Form.Item label="Matching Readiness">
          <Progress
            percent={readiness}
            status={readiness === 100 ? 'success' : 'active'}
          />
          <Text type="secondary">
            Complétez vos préférences pour améliorer la qualité des suggestions de l’IA.
          </Text>
        </Form.Item>

        {/* Info */}
        <Form.Item>
          <Text type="secondary">
            Ces préférences permettent à notre système AI de vous proposer les meilleures
            correspondances d’équipes.
          </Text>
        </Form.Item>

        {/* Soumission */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Save Preferences
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

// Option d’intégration layout (conservée comme dans vos sources)
MatchPreferencesPage.getLayout = (page: React.ReactNode) => page;

export default MatchPreferencesPage;

===== END app\keenkonnect\ai-team-matching\match-preferences\page.tsx =====

===== BEGIN app\konnected\teams-collaboration\project-workspaces\page.tsx =====
'use client';

// File: app/konnected/teams-collaboration/project-workspaces/page.tsx
import React from 'react';
import { Table, Button, Tag, Space, message as antdMessage  } from 'antd';
import type { ColumnsType } from 'antd/es/table';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';

// Workspace data shape
interface Workspace {
  id: string;
  projectName: string;
  teamName: string;
  status: 'Active' | 'Inactive';
  isLaunched: boolean;
  onlineMembers: number;
  userRole: 'Leader' | 'Member';
}

// Example data
const workspaceData: Workspace[] = [
  {
    id: '1',
    projectName: 'Project Alpha',
    teamName: 'Alpha Innovators',
    status: 'Active',
    isLaunched: true,
    onlineMembers: 4,
    userRole: 'Leader',
  },
  {
    id: '2',
    projectName: 'Project Beta',
    teamName: 'Beta Coders',
    status: 'Inactive',
    isLaunched: false,
    onlineMembers: 0,
    userRole: 'Member',
  },
  {
    id: '3',
    projectName: 'Project Gamma',
    teamName: 'Gamma Team',
    status: 'Active',
    isLaunched: true,
    onlineMembers: 2,
    userRole: 'Member',
  },
];

export default function ProjectWorkspacesPage() {
  const router = useRouter(); // fixed: create router once at top level (rules of hooks)

  const handleWorkspaceAction = (workspace: Workspace) => {
    if (!workspace.isLaunched && workspace.userRole === 'Leader') {
      // Example: launch action
      // TODO: call API then refresh or navigate
      antdMessage.success(`Workspace ${workspace.projectName} launched successfully.`);
      return;
    }
    // Navigate to workspace
    router.push(`/konnected/teams-collaboration/project-workspaces/${workspace.id}`);

  const columns: ColumnsType<Workspace> = [
    {
      title: 'Workspace/Project Name',
      dataIndex: 'projectName',
      key: 'projectName',
    },
    {
      title: 'Team Name',
      dataIndex: 'teamName',
      key: 'teamName',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
      render: (status, row) =>
        status === 'Active' ? <Tag color="green">Active</Tag> : <Tag color="volcano">Inactive</Tag>,
    },
    {
      title: 'Online Members',
      dataIndex: 'onlineMembers',
      key: 'onlineMembers',
      render: (onlineMembers, row) => <span>{onlineMembers} online</span>,
    },
    {
      title: 'Action',
      key: 'action',
      render: (_: unknown, record: Workspace) => {
        let buttonLabel = '';
        if (!record.isLaunched && record.userRole === 'Leader') {
          buttonLabel = 'Launch Workspace';
        } else if (record.isLaunched) {
          buttonLabel = record.userRole === 'Leader' ? 'Open Workspace' : 'Join Workspace';
        } else {
          buttonLabel = 'Join Workspace';
        }
        return (
          <Button type="primary" onClick={() => handleWorkspaceAction(record)}>
            {buttonLabel}
          </Button>
        );
      },
    },
  ];

  return (
    <PageContainer title="Project Workspaces">
      <Space style={{ marginBottom: 16 }}>
        <Button
          type="primary"
          onClick={() => router.push('/konnected/teams-collaboration/launch-new-workspace')}
        >
          Launch New Workspace
        </Button>
      </Space>
      <Table columns={columns} dataSource={workspaceData} rowKey="id" pagination={{ pageSize: 5 }} />
    </PageContainer>
  );
}

/*
Notes:
- Removed NextPage type and legacy static getLayout. In the App Router, use a layout.tsx file
  in this route segment if you need a layout wrapper.
- Fixed rule-of-hooks violation by moving useRouter() to the component top level.
- Removed unused Typography/Title import.
*/
}

===== END app\konnected\teams-collaboration\project-workspaces\page.tsx =====

===== BEGIN app\ethikos\decide\public\page.tsx =====
'use client'

import React, { useEffect, useState } from 'react'
import { PageContainer, ProTable } from '@ant-design/pro-components'
import { Select, Space, Input, Popconfirm, Progress, Radio, Slider } from 'antd'
import axios from 'axios'
import usePageTitle from '@/hooks/usePageTitle'

interface Category { id: number; name: string }
interface Format   { id: number; name: string }
interface PublicTopic {
  id: number
  question: string
  description?: string
  debatecategory_id: number
  responseformat_id: number
  turnout: number
  options?: string[]
  scaleLabels?: string[]
}

export default function PublicVotePage() {
  usePageTitle('Decide · Public Voting')

  const [categories, setCategories] = useState<Category[]>([])
  const [formats, setFormats]       = useState<Format[]>([])
  const [topicsData, setTopicsData] = useState<{ results: PublicTopic[]; count: number }>({ results: [], count: 0 })
  const [activeCat, setActiveCat]   = useState<number | 'all'>('all')
  const [activeFormats, setActiveFormats] = useState<number[]>([])
  const [searchTerm, setSearchTerm] = useState<string>('')
  const [page, setPage]             = useState<number>(1)
  const pageSize = 20

  // 1. Load categories & formats
  useEffect(() => {
    axios
      .get<Category[]>('/api/home/debatecategory/', { params: { is_deleted: false } })
      .then(r => setCategories(r.data))
    axios
      .get<Format[]>('/api/home/responseformat/', { params: { is_deleted: false } })
      .then(r => setFormats(r.data))
  }, [])

  // 2. Load topics with filters & pagination
  useEffect(() => {
    axios
      .get<{ results: PublicTopic[]; count: number }>('/api/home/debatetopic/', {
        params: {
          is_active: true,
          is_deleted: false,
          debatecategory_id: activeCat === 'all' ? undefined : activeCat,
          responseformat_id: activeFormats,
          search: searchTerm,
          page,
          page_size: pageSize,
          ordering: '-created_at',
        },
      })
      .then(r => setTopicsData(r.data))
  }, [activeCat, activeFormats, searchTerm, page])

  // 3. Submit a vote and refresh
  const vote = async (row: PublicTopic, value: any) => {
    await axios.post('/api/home/publicvote/', { topic_id: row.id, value })
    // refresh current page
    axios
      .get<{ results: PublicTopic[]; count: number }>('/api/home/debatetopic/', {
        params: {
          is_active: true,
          is_deleted: false,
          debatecategory_id: activeCat === 'all' ? undefined : activeCat,
          responseformat_id: activeFormats,
          search: searchTerm,
          page,
          page_size: pageSize,
          ordering: '-created_at',
        },
      })
      .then(r => setTopicsData(r.data))
  }

  // 4. Render vote input based on format
  const renderVoteInput = (row: PublicTopic) => {
    const handleChange = (e: any) => {
      const val = e?.target?.value ?? e
      vote(row, val)
    }

    switch (row.responseformat_id) {
      case 1: // binary (Yes/No)
        return (
          <Radio.Group
            options={(row.options ?? ['Yes', 'No']).map(v => ({ label: v, value: v }))}
            onChange={handleChange}
          />
        )
      case 2: // multiple choice
        return (
          <Radio.Group
            options={(row.options ?? []).map(v => ({ label: v, value: v }))}
            onChange={handleChange}
          />
        )
      case 3: // scale
        const labels = row.scaleLabels ?? ['1', '2', '3', '4', '5']
        return (
          <Space direction="vertical" size={4}>
            <Slider
              min={0}
              max={labels.length - 1}
              step={1}
              tooltip={{ formatter: idx => labels[idx] }}
              onAfterChange={handleChange}
            />
          </Space>
        )
      default:
        return null
    }
  }

  const columns = [
    { title: 'Question', dataIndex: 'question', width: 360 },
    {
      title: 'Vote',
      dataIndex: 'vote',
      render: (_: any, row: PublicTopic) => (
        <Popconfirm title="Confirm your vote?" onConfirm={() => {}}>
          {renderVoteInput(row)}
        </Popconfirm>
      ),
    },
    {
      title: 'Turnout',
      dataIndex: 'turnout',
      render: (v, row) => <Progress percent={v} size="small" />,
    },
  ]

  return (
    <PageContainer ghost>
      <Space wrap style={{ marginBottom: 16 }}>
        <Select
          placeholder="Catégorie"
          allowClear
          value={activeCat}
          onChange={val => { setActiveCat(val); setPage(1) }}
          style={{ width: 200 }}
          options={[
            { label: 'All', value: 'all' },
            ...categories.map(c => ({ label: c.name, value: c.id })),
          ]}
        />
        <Select
          mode="multiple"
          placeholder="Formats"
          value={activeFormats}
          onChange={val => { setActiveFormats(val); setPage(1) }}
          style={{ width: 200 }}
          options={formats.map(f => ({ label: f.name, value: f.id }))}
        />
        <Input.Search
          placeholder="Rechercher…"
          onSearch={val => { setSearchTerm(val); setPage(1) }}
          style={{ width: 260 }}
        />
      </Space>

      <ProTable<PublicTopic>
        rowKey="id"
        columns={columns as any}
        dataSource={topicsData.results}
        pagination={{
          total: topicsData.count,
          current: page,
          pageSize,
          onChange: setPage,
        }}
        search={false}
      />
    </PageContainer>
  )
}

===== END app\ethikos\decide\public\page.tsx =====

===== BEGIN app\ethikos\deliberate\elite\page.tsx =====
'use client'

import React from 'react';
import {
  PageContainer,
  ProCard,
  ProTable,
  StatisticCard,
  ModalForm,
  ProFormText,
  ProFormSelect,
} from '@ant-design/pro-components';
import { Badge,
  Button,
  Drawer,
  Empty,
  Space,
  Tag,
  Tooltip,
  message as antdMessage,
 } from 'antd';
import { useRequest, useInterval } from 'ahooks';
import {
  PlusOutlined,
  ReloadOutlined,
  FireOutlined,
} from '@ant-design/icons';
import dayjs from 'dayjs';

import usePageTitle from '@/hooks/usePageTitle';
import {
  fetchEliteTopics,
  createEliteTopic,
  fetchTopicPreview,
} from '@/services/deliberate';
import type { Topic } from '@/types';

/* ------------------------------------------------------------------ */
/*  Derived types                                                      */
/* ------------------------------------------------------------------ */

interface TopicRow extends Topic {
  createdAt: string;
  lastActivity: string;
  hot: boolean; // computed server-side: stanceCount increased >= 20% in 24 h
}

/* ------------------------------------------------------------------ */
/*  Main component                                                     */
/* ------------------------------------------------------------------ */

export default function EliteAgora() {
  usePageTitle('Deliberate · Elite Agora');

  /* ---------- data ---------- */
  const { data, loading, refresh } = useRequest(fetchEliteTopics);
  useInterval(refresh, 60_000); // poll every minute

  /* ---------- drawer state ---------- */
  const [previewId, setPreviewId] = React.useState<string | null>(null);
  const {
    data: preview,
    loading: previewLoading,
    run: loadPreview,
  } = useRequest((id: string) => fetchTopicPreview(id), { manual: true });

  /* ---------- open drawer ---------- */
  const openPreview = (row: TopicRow) => {
    setPreviewId(row.id);
    loadPreview(row.id);

  /* ---------- KPI header ---------- */
  const headerStats = [
    {
      label: 'Open topics',
      value: data?.list.length ?? 0,
    },
    {
      label: 'Avg stances / topic',
      value:
        data && data.list.length
          ? Math.round(
              data.list.reduce((sum, t) => sum + t.stanceCount, 0) /
                data.list.length,
            )
          : 0,
    },
    {
      label: 'Hot topics',
      value: data?.list.filter((t) => t.hot).length ?? 0,
    },
  ];

  /* ---------- columns ---------- */
  const columns = [
    {
      title: 'Title',
      dataIndex: 'title',
      render: (_: any, row: TopicRow) => (
        <a onClick={() => openPreview(row)}>{row.title}</a>
      ),
    },
    {
      title: 'Category',
      dataIndex: 'category',
      filters: true,
      render: (v, row) => <Tag color="geekblue">{v}</Tag>,
    },
    {
      title: 'Stances',
      dataIndex: 'stanceCount',
      sorter: true,
      align: 'right' as const,
    },
    {
      title: 'Last activity',
      dataIndex: 'lastActivity',
      valueType: 'fromNow',
    },
    {
      title: '',
      dataIndex: 'hot',
      width: 60,
      render: (v, row) =>
        v ? (
          <Tooltip title="Trending">
            <FireOutlined style={{ color: '#fa541c' }} />
          </Tooltip>
        ) : null,
    },
  ];

  /* ---------- render ---------- */
  return (
    <PageContainer
      ghost
      loading={loading}
      extra={
        <Space>
          <Button
            icon={<ReloadOutlined />}
            onClick={refresh}
            type="text"
            title="Refresh list"
          />
          {/* role check goes here */}
          <NewTopicButton onCreated={refresh} />
        </Space>
      }
    >
      {/* KPI summary */}
      <ProCard gutter={16} wrap style={{ marginBottom: 16 }}>
        {headerStats.map((k) => (
          <StatisticCard
            key={k.label}
            colSpan={{ xs: 24, sm: 8 }}
            statistic={{ title: k.label, value: k.value }}
          />
        ))}
      </ProCard>

      {/* list */}
      <ProTable<TopicRow>
        rowKey="id"
        columns={columns}
        dataSource={data?.list}
        search={{
          labelWidth: 90,
          filterType: 'light',
        }}
        pagination={{ pageSize: 10 }}
      />

      {/* preview drawer */}
      <Drawer
        width={520}
        open={!!previewId}
        onClose={() => setPreviewId(null)}
        title={preview?.title || 'Preview'}
      >
        {previewLoading ? (
          <Empty description="Loading…" />
        ) : preview ? (
          <>
            <p>
              <strong>Category:</strong> {preview.category}
            </p>
            <p>
              <strong>Opened:</strong>{' '}
              {dayjs(preview.createdAt).format('YYYY-MM-DD HH:mm')}
            </p>
            <h4>Latest statements</h4>
            <ul>
              {preview.latest.map((s) => (
                <li key={s.id}>
                  <em>{s.author}</em> — {s.body}
                </li>
              ))}
            </ul>
            <Button
              type="primary"
              onClick={() =>
                window.location.assign(`/ethikos/deliberate/${preview.id}`)
              }
            >
              Go to thread →
            </Button>
          </>
        ) : (
          <Empty />
        )}
      </Drawer>
    </PageContainer>
  );
}

/* ------------------------------------------------------------------ */
/*  New Topic modal                                                    */
/* ------------------------------------------------------------------ */

function NewTopicButton({ onCreated }: { onCreated: () => void }) {
  const [visible, setVisible] = React.useState(false);

  const { runAsync, loading } = useRequest(createEliteTopic, {
    manual: true,
    onSuccess: () => {
      antdMessage.success('Topic created 🎉');
      setVisible(false);
      onCreated();
    },
  });

  return (
    <>
      <Button
        icon={<PlusOutlined />}
        type="primary"
        onClick={() => setVisible(true)}
      >
        New Topic
      </Button>
      <ModalForm
        title="Create new topic"
        open={visible}
        onOpenChange={setVisible}
        onFinish={async (values) => {
          await runAsync(values);
          return true;
        }}
        submitter={{ submitButtonProps: { loading } }}
      >
        <ProFormText
          name="title"
          label="Title"
          rules={[{ required: true, min: 10 }]}
        />
        <ProFormSelect
          name="category"
          label="Category"
          options={[
            { label: 'AI Policy', value: 'AI Policy' },
            { label: 'Biotech', value: 'Biotech' },
            { label: 'Ethics', value: 'Ethics' },
          ]}
          rules={[{ required: true }]}
        />
      </ModalForm>
    </>
  );
}
}

===== END app\ethikos\deliberate\elite\page.tsx =====

===== BEGIN app\keenkonnect\ai-team-matching\my-matches\page.tsx =====
'use client';

import React, { useState } from 'react';
import { NextPage } from 'next';
import { Tabs, List, Button, Badge } from 'antd';
import PageContainer from '@/components/PageContainer'; // Composant contenant le header et le layout global

// Définition d'un type pour représenter un match
interface Match {
  id: string;
  name: string;
  matchScore: number; // Pourcentage de match par exemple
  commonInterests: string; // Chaîne résumant les intérêts ou points communs
  new?: boolean; // Flag indiquant un nouveau match pour ajouter un badge
}

// Exemple de données en local pour les "Team Matches"
const teamMatches: Match[] = [
  {
    id: 'team1',
    name: 'Alpha Team',
    matchScore: 92,
    commonInterests: 'UI/UX, Backend, DevOps',
    new: true,
  },
  {
    id: 'team2',
    name: 'Beta Squad',
    matchScore: 85,
    commonInterests: 'Mobile, Frontend',
  },
  // Ajoutez d'autres données selon les besoins
];

// Exemple de données en local pour les "Partner Matches" (collaborateurs individuels)
const partnerMatches: Match[] = [
  {
    id: 'partner1',
    name: 'Jean Dupont',
    matchScore: 88,
    commonInterests: 'Data Science, Machine Learning',
    new: true,
  },
  {
    id: 'partner2',
    name: 'Marie Curie',
    matchScore: 90,
    commonInterests: 'Research, AI Innovation',
  },
  // Ajoutez d'autres données si nécessaire
];

const { TabPane } = Tabs;

const MyMatchesPage: NextPage = () => {
  // On peut utiliser un state pour gérer l'onglet actif si des traitements spécifiques doivent être appliqués
  const [activeTab, setActiveTab] = useState<string>('team');

  // Fonction de rendu générique pour un élément de la liste
  const renderMatchItem = (item: Match) => (
    <List.Item
      key={item.id}
      actions={[
        // Action « Connect » pour démarrer une interaction
        <Button type="primary" key="connect">Connect</Button>,
        // Action pour consulter le profil ou l'équipe
        <Button key="view">View Profile/Team</Button>,
      ]}
    >
      <List.Item.Meta
        // Le titre inclut éventuellement un Badge si le match est récent
        title={
          <span>
            {item.name}
            {item.new && (
              <Badge count={'new'} style={{ backgroundColor: '#52c41a', marginLeft: 8 }} />
            )}
          </span>
        }
        description={`${item.matchScore}% de match - ${item.commonInterests}`}
      />
    </List.Item>
  );

  return (
    // Le PageContainer gère la structure globale et le header de la page
    <PageContainer title="My Matches">
      <Tabs defaultActiveKey="team" onChange={setActiveTab}>
        <TabPane
          // Intitulé de l'onglet Team Matches avec possibilité d'y intégrer un badge de notification si besoin
          tab="Team Matches"
          key="team"
        >
          <List
            itemLayout="horizontal"
            dataSource={teamMatches ?? []}
            renderItem={renderMatchItem}
          />
        </TabPane>
        <TabPane
          tab="Partner Matches"
          key="partner"
        >
          <List
            itemLayout="horizontal"
            dataSource={partnerMatches ?? []}
            renderItem={renderMatchItem}
          />
        </TabPane>
      </Tabs>
    </PageContainer>
  );

// Si votre projet utilise une méthode de layout global via getLayout (par exemple dans _app.tsx), vous pouvez l'intégrer ainsi :

  // MainLayout est le layout global qui intègre header, sidebar, etc.
  // Assurez-vous de l'importer depuis le dossier correspondant (par ex. '@/layout-components/MainLayout')
  // Exemple :
  // return <MainLayout>{page}</MainLayout>;
  return page; // Pour l'exemple, on retourne la page directement

export default MyMatchesPage;
}

===== END app\keenkonnect\ai-team-matching\my-matches\page.tsx =====

===== BEGIN app\keenkonnect\knowledge\browse-repository\page.tsx =====
'use client'

// pages/keenkonnect/knowledge/browse-repository/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Table, Input, Select, Button, Row, Col, Card, Divider } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Search } = Input;
const { Option } = Select;

interface DocumentResource {
  key: string;
  title: string;
  category: string;
  language: string;
  version: string;
  lastUpdated: string;
}

// Données simulées pour les ressources
const sampleResources: DocumentResource[] = [
  { key: '1', title: 'Robotics Blueprint', category: 'Robotics', language: 'English', version: '1.0', lastUpdated: '2023-09-01' },
  { key: '2', title: 'Healthcare Protocols', category: 'Healthcare', language: 'French', version: '2.1', lastUpdated: '2023-08-28' },
  { key: '3', title: 'AI Research Paper', category: 'Technology', language: 'English', version: '1.2', lastUpdated: '2023-09-03' },
  { key: '4', title: 'Sustainable Energy Report', category: 'Energy', language: 'English', version: '3.0', lastUpdated: '2023-08-20' },
];

const BrowseRepository = () => {
  const router = useRouter();
  const [searchText, setSearchText] = useState('');
  const [selectedCategory, setSelectedCategory] = useState<string>('All');
  const [selectedLanguage, setSelectedLanguage] = useState<string>('All');

  // Filtrage des ressources selon les filtres
  const filteredResources = useMemo(() => {
    return sampleResources.filter((resource) => {
      const matchesSearch = resource.title.toLowerCase().includes(searchText.toLowerCase());
      const matchesCategory = selectedCategory === 'All' || resource.category === selectedCategory;
      const matchesLanguage = selectedLanguage === 'All' || resource.language === selectedLanguage;
      return matchesSearch && matchesCategory && matchesLanguage;
    });
  }, [searchText, selectedCategory, selectedLanguage]);

  // Colonnes pour la table
  const columns = [
    { title: 'Title', dataIndex: 'title', key: 'title' },
    { title: 'Category', dataIndex: 'category', key: 'category' },
    { title: 'Language', dataIndex: 'language', key: 'language' },
    { title: 'Version', dataIndex: 'version', key: 'version' },
    { title: 'Last Updated', dataIndex: 'lastUpdated', key: 'lastUpdated' },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: DocumentResource) => (
        <>
          <Button type="link" onClick={() => router.push(`/keenkonnect/knowledge/view/${record.key}`)}>
            View
          </Button>
          <Button type="link" onClick={() => router.push(`/keenkonnect/knowledge/edit/${record.key}`)}>
            Edit
          </Button>
        </>
      ),
    },
  ];

  return (
    <>
      <Head>
        <title>Browse Repository</title>
        <meta name="description" content="Browse technical documents and blueprints in your repository." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête */}
        <h1 className="text-2xl font-bold mb-4">Browse Repository</h1>
        
        {/* Barre de recherche et filtres */}
        <Row gutter={[16, 16]} className="mb-4">
          <Col xs={24} sm={8}>
            <Search
              placeholder="Search documents..."
              allowClear
              onSearch={value => setSearchText(value)}
            />
          </Col>
          <Col xs={24} sm={8}>
            <Select
              defaultValue="All"
              style={{ width: '100%' }}
              onChange={(value) => setSelectedCategory(value)}
            >
              <Option value="All">All Categories</Option>
              <Option value="Robotics">Robotics</Option>
              <Option value="Healthcare">Healthcare</Option>
              <Option value="Technology">Technology</Option>
              <Option value="Energy">Energy</Option>
            </Select>
          </Col>
          <Col xs={24} sm={8}>
            <Select
              defaultValue="All"
              style={{ width: '100%' }}
              onChange={(value) => setSelectedLanguage(value)}
            >
              <Option value="All">All Languages</Option>
              <Option value="English">English</Option>
              <Option value="French">French</Option>
            </Select>
          </Col>
        </Row>

        {/* Bouton pour uploader un nouveau document */}
        <Row justify="end" className="mb-4">
          <Button type="primary" onClick={() => router.push('/keenkonnect/knowledge/upload-new-document')}>
            Upload New Document
          </Button>
        </Row>

        <Card>
          <Table columns={columns} dataSource={filteredResources} pagination={{ pageSize: 5 }} />
        </Card>
      </div>
    </>
  );



export default BrowseRepository;
}

===== END app\keenkonnect\knowledge\browse-repository\page.tsx =====

===== BEGIN app\keenkonnect\knowledge\upload-new-document\page.tsx =====
'use client'

// pages/keenkonnect/knowledge/upload-new-document/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Form, Input, Select, Upload, Switch, Button, message as antdMessage, Progress, Result  } from 'antd';
import { UploadOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Option } = Select;
const { TextArea } = Input;

const UploadNewDocument = () => {
  const [form] = Form.useForm();
  const router = useRouter();
  
  const [uploadProgress, setUploadProgress] = useState<number>(0);
  const [uploading, setUploading] = useState<boolean>(false);
  const [submitted, setSubmitted] = useState<boolean>(false);

  const handleUploadChange = ({ fileList }: any) => {
    // Ce callback se contente de conserver le fileList dans le formulaire via antd.
    return fileList;

  const simulateUpload = () => {
    setUploading(true);
    setUploadProgress(0);
    
    // Simuler une progression d'upload
    const interval = setInterval(() => {
      setUploadProgress(prev => {
        if (prev >= 100) {
          clearInterval(interval);
          setUploading(false);
          antdMessage.success('Document uploaded successfully');
          setSubmitted(true);
          return 100;
        }
        return prev + 20;
      });
    }, 500);

  const onFinish = async (values: any) => {
    console.log('Form values:', values);
    simulateUpload();

  if (submitted) {
    return (
      <div className="container mx-auto p-5">
        <Result
          status="success"
          title="Document Uploaded Successfully!"
          subTitle="Your document has been successfully submitted."
          extra={[
            <Button type="primary" key="manage" onClick={() => router.push('/keenkonnect/knowledge/document-management')}>
              Go to Document Management
            </Button>,
          ]}
        />
      </div>
    );
  }

  return (
    <>
      <Head>
        <title>Upload New Document</title>
        <meta name="description" content="Submit a new document to the knowledge repository." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Upload New Document</h1>
        <Form form={form} layout="vertical" onFinish={onFinish}>
          {/* Title */}
          <Form.Item
            name="title"
            label="Document Title"
            rules={[{ required: true, message: 'Please enter a document title' }]}
          >
            <Input placeholder="Enter document title" />
          </Form.Item>

          {/* Description */}
          <Form.Item
            name="description"
            label="Description/Abstract"
            rules={[{ required: true, message: 'Please provide a description' }]}
          >
            <TextArea rows={4} placeholder="Enter document description" />
          </Form.Item>

          {/* Category/Topic */}
          <Form.Item
            name="category"
            label="Category/Topic"
            rules={[{ required: true, message: 'Please select a category' }]}
          >
            <Select placeholder="Select category">
              <Option value="Robotics">Robotics</Option>
              <Option value="Healthcare">Healthcare</Option>
              <Option value="Technology">Technology</Option>
              <Option value="Energy">Energy</Option>
              <Option value="Education">Education</Option>
            </Select>
          </Form.Item>

          {/* Version */}
          <Form.Item
            name="version"
            label="Version"
            rules={[{ required: true, message: 'Please enter the document version' }]}
          >
            <Input placeholder="e.g. 1.0" />
          </Form.Item>

          {/* Language */}
          <Form.Item
            name="language"
            label="Language"
            rules={[{ required: true, message: 'Please select a language' }]}
          >
            <Select placeholder="Select language">
              <Option value="English">English</Option>
              <Option value="French">French</Option>
            </Select>
          </Form.Item>

          {/* File Upload */}
          <Form.Item
            name="documentFile"
            label="Document File"
            rules={[{ required: true, message: 'Please upload the document file' }]}
            valuePropName="fileList"
            getValueFromEvent={handleUploadChange}
          >
            <Upload beforeUpload={() => false} listType="picture">
              <Button icon={<UploadOutlined />}>Upload File</Button>
            </Upload>
          </Form.Item>

          {/* Publish Toggle */}
          <Form.Item name="publishNow" label="Publish Status" initialValue={true} valuePropName="checked">
            <Switch checkedChildren="Publish Now" unCheckedChildren="Save as Draft" />
          </Form.Item>

          {/* Bouton de soumission */}
          <Form.Item>
            <Button type="primary" htmlType="submit" disabled={uploading}>
              Submit
            </Button>
          </Form.Item>
        </Form>

        {/* Indicateur de progression lors de l'upload */}
        {uploading && (
          <div className="mt-4">
            <Progress percent={uploadProgress} status="active" />
          </div>
        )}
      </div>
    </>
  );



export default UploadNewDocument;
}}}}

===== END app\keenkonnect\knowledge\upload-new-document\page.tsx =====

===== BEGIN app\keenkonnect\projects\create-new-project\page.tsx =====
'use client'

// pages/keenkonnect/projects/create-new-project/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Steps, Button, Form, Input, Select, Upload, Result, message as antdMessage  } from 'antd';
import { UploadOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { normalizeError } from "../../../../shared/errors";

const { Step } = Steps;
const { Option } = Select;
const { TextArea } = Input;

const CreateNewProject = () => {
  const [currentStep, setCurrentStep] = useState(0);
  const [submitted, setSubmitted] = useState(false);
  const [form] = Form.useForm();

  // Stockage des données saisies durant le wizard
  const [formData, setFormData] = useState({
    projectName: '',
    projectDescription: '',
    category: '',
    projectImage: null as any,
    teamMembers: [] as string[],
  });

  const steps = [
    { title: 'Project Info' },
    { title: 'Team Setup' },
    { title: 'Review' },
  ];

  // Passage à l'étape suivante après validation
  const next = async () => {
    try {
      const values = await form.validateFields();
      setFormData((prev) => ({ ...prev, ...values }));
      setCurrentStep(currentStep + 1);
      form.resetFields();
    } catch (error: unknown) {
      const { message, statusCode } = normalizeError(error);
      antdMessage.error('Please fill in the required fields.');
    }

  // Retour à l'étape précédente
  const prev = () => {
    setCurrentStep(currentStep - 1);

  // Soumission finale du formulaire
  const onFinish = async () => {
    try {
      const values = await form.validateFields();
      setFormData((prev) => ({ ...prev, ...values }));
      // Simulation d'enregistrement du projet.
      console.log('Project created with values:', { ...formData, ...values });
      setSubmitted(true);
    } catch (error: unknown) {
      const { message, statusCode } = normalizeError(error);
      antdMessage.error('Please fill in the required fields.');
    }

  // Rendu du contenu en fonction de l'étape
  const renderStepContent = (step: number) => {
    switch (step) {
      case 0:
        return (
          <>
            <Form.Item
              name="projectName"
              label="Project Name"
              rules={[{ required: true, message: 'Please enter project name' }]}
              initialValue={formData.projectName}
            >
              <Input placeholder="Enter project name" />
            </Form.Item>
            <Form.Item
              name="projectDescription"
              label="Project Description"
              rules={[{ required: true, message: 'Please enter project description' }]}
              initialValue={formData.projectDescription}
            >
              <TextArea rows={4} placeholder="Enter project description" />
            </Form.Item>
            <Form.Item
              name="category"
              label="Category/Domain"
              rules={[{ required: true, message: 'Please select a category' }]}
              initialValue={formData.category}
            >
              <Select placeholder="Select category">
                <Option value="Innovation">Innovation</Option>
                <Option value="Research">Research</Option>
                <Option value="Development">Development</Option>
                <Option value="Marketing">Marketing</Option>
                <Option value="Design">Design</Option>
              </Select>
            </Form.Item>
            <Form.Item
              name="projectImage"
              label="Project Image/Icon"
              valuePropName="fileList"
              getValueFromEvent={(e) => (Array.isArray(e) ? e : e && e.fileList)}
            >
              <Upload beforeUpload={() => false} listType="picture">
                <Button icon={<UploadOutlined />}>Upload Image</Button>
              </Upload>
            </Form.Item>
          </>
        );
      case 1:
        return (
          <>
            <Form.Item
              name="teamMembers"
              label="Invite Team Members"
              initialValue={formData.teamMembers}
            >
              <Select mode="multiple" placeholder="Select team members">
                <Option value="Alice">Alice</Option>
                <Option value="Bob">Bob</Option>
                <Option value="Charlie">Charlie</Option>
                <Option value="Diana">Diana</Option>
              </Select>
            </Form.Item>
          </>
        );
      case 2:
        return (
          <div>
            <h3>Review Your Project Details:</h3>
            <p>
              <strong>Project Name:</strong> {formData.projectName || 'N/A'}
            </p>
            <p>
              <strong>Description:</strong> {formData.projectDescription || 'N/A'}
            </p>
            <p>
              <strong>Category:</strong> {formData.category || 'N/A'}
            </p>
            <p>
              <strong>Team Members:</strong>{' '}
              {formData.teamMembers.length > 0 ? formData.teamMembers.join(', ') : 'None'}
            </p>
            {formData.projectImage && (
              <p>
                <strong>Project Image:</strong> {JSON.stringify(formData.projectImage)}
              </p>
            )}
          </div>
        );
      default:
        return null;
    }

  if (submitted) {
    return (
      <div className="container mx-auto p-5">
        <Result
          status="success"
          title="Project Created Successfully!"
          subTitle="Your new project has been created. You can now manage it or invite additional team members."
          extra={[
            <Button type="primary" key="dashboard" onClick={() => window.location.href = '/keenkonnect/dashboard'}>
              Go to Dashboard
            </Button>,
          ]}
        />
      </div>
    );
  }

  return (
    <>
      <Head>
        <title>Create New Project</title>
        <meta name="description" content="Create a new project using our guided project creation wizard." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Create New Project</h1>
        <Steps current={currentStep} className="mb-6">
          {steps.map((item, index) => (
            <Step key={index} title={item.title} />
          ))}
        </Steps>
        <Form form={form} layout="vertical" initialValues={formData} onFinish={onFinish}>
          {renderStepContent(currentStep)}
          <div style={{ marginTop: 24 }}>
            {currentStep > 0 && (
              <Button style={{ marginRight: 8 }} onClick={prev}>
                Back
              </Button>
            )}
            {currentStep < steps.length - 1 && (
              <Button type="primary" onClick={next}>
                Next
              </Button>
            )}
            {currentStep === steps.length - 1 && (
              <Button type="primary" htmlType="submit">
                Submit
              </Button>
            )}
          </div>
        </Form>
      </div>
    </>
  );



export default CreateNewProject;
}}}}}

===== END app\keenkonnect\projects\create-new-project\page.tsx =====

===== BEGIN app\keenkonnect\projects\my-projects\page.tsx =====
'use client'

// pages/keenkonnect/projects/my-projects/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Table, Card, Button, Row, Col, Select, Typography, Divider, Space } from 'antd';
import { EyeOutlined, EditOutlined, RocketOutlined, PlusOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Title, Text } = Typography;
const { Option } = Select;

// Définition du type d'un projet
interface Project {
  key: string;
  name: string;
  role: 'Owner' | 'Member';
  status: 'Active' | 'Completed';
  lastUpdated: string; // date formatée
  category?: string;
}

// Données simulées pour les projets
const sampleProjects: Project[] = [
  { key: '1', name: 'Project Alpha', role: 'Owner', status: 'Active', lastUpdated: '2023-09-01', category: 'Innovation' },
  { key: '2', name: 'Project Beta', role: 'Member', status: 'Completed', lastUpdated: '2023-08-15', category: 'Research' },
  { key: '3', name: 'Project Gamma', role: 'Owner', status: 'Active', lastUpdated: '2023-09-03', category: 'Development' },
  { key: '4', name: 'Project Delta', role: 'Member', status: 'Active', lastUpdated: '2023-08-28', category: 'Marketing' },
  { key: '5', name: 'Project Epsilon', role: 'Member', status: 'Completed', lastUpdated: '2023-07-30', category: 'Design' },
];

const MyProjects = () => {
  const router = useRouter();
  const [statusFilter, setStatusFilter] = useState<string>('All');
  const [categoryFilter, setCategoryFilter] = useState<string>('All');

  // Filtrage des projets selon le statut et la catégorie
  const filteredProjects = useMemo(() => {
    return sampleProjects.filter((project) => {
      const statusMatch = statusFilter === 'All' || project.status === statusFilter;
      const categoryMatch = categoryFilter === 'All' || project.category === categoryFilter;
      return statusMatch && categoryMatch;
    });
  }, [statusFilter, categoryFilter]);

  // Définition des colonnes du tableau
  const columns = [
    {
      title: 'Project Name',
      dataIndex: 'name',
      key: 'name',
      render: (name: string, record: Project) => (
        <Text strong style={{ cursor: 'pointer' }} onClick={() => router.push(`/keenkonnect/projects/project-workspace?id=${record.key}`)}>
          {name}
        </Text>
      ),
    },
    {
      title: 'Role',
      dataIndex: 'role',
      key: 'role',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
    },
    {
      title: 'Last Updated',
      dataIndex: 'lastUpdated',
      key: 'lastUpdated',
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: Project) => (
        <Space>
          <Button icon={<EyeOutlined />} size="small" onClick={() => router.push(`/keenkonnect/projects/project-workspace?id=${record.key}`)}>View</Button>
          <Button icon={<EditOutlined />} size="small" onClick={() => router.push(`/keenkonnect/projects/manage-project?id=${record.key}`)}>Manage</Button>
          <Button icon={<RocketOutlined />} size="small" onClick={() => router.push(`/keenkonnect/projects/project-workspace?id=${record.key}`)}>Go to Workspace</Button>
        </Space>
      ),
    },
  ];

  // Calcul du résumé des projets
  const totalProjects = sampleProjects.length;
  const activeCount = sampleProjects.filter(proj => proj.status === 'Active').length;
  const completedCount = sampleProjects.filter(proj => proj.status === 'Completed').length;

  return (
    <>
      <Head>
        <title>My Projects</title>
        <meta name="description" content="View and manage your projects within KeenKonnect." />
      </Head>
      <div className="container mx-auto p-5">
        {/* En-tête de la page */}
        <Title level={2}>My Projects</Title>
        <Divider />

        {/* Résumé des projets */}
        <Row gutter={16} className="mb-4">
          <Col xs={24} sm={8}>
            <Card>
              <Text strong>Total Projects:</Text> <Text>{totalProjects}</Text>
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Text strong>Active:</Text> <Text>{activeCount}</Text>
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Text strong>Completed:</Text> <Text>{completedCount}</Text>
            </Card>
          </Col>
        </Row>

        {/* Filtres */}
        <Row gutter={[16, 16]} className="mb-4">
          <Col xs={24} sm={12}>
            <Text>Status:</Text>
            <Select defaultValue="All" style={{ width: '100%' }} onChange={(value) => setStatusFilter(value)}>
              <Option value="All">All</Option>
              <Option value="Active">Active</Option>
              <Option value="Completed">Completed</Option>
            </Select>
          </Col>
          <Col xs={24} sm={12}>
            <Text>Category:</Text>
            <Select defaultValue="All" style={{ width: '100%' }} onChange={(value) => setCategoryFilter(value)}>
              <Option value="All">All</Option>
              <Option value="Innovation">Innovation</Option>
              <Option value="Research">Research</Option>
              <Option value="Development">Development</Option>
              <Option value="Marketing">Marketing</Option>
              <Option value="Design">Design</Option>
            </Select>
          </Col>
        </Row>

        <Divider />

        {/* Tableau de projets */}
        <Card className="mb-4">
          <Table columns={columns} dataSource={filteredProjects} pagination={false} />
        </Card>

        {/* Bouton pour créer un nouveau projet */}
        <Row justify="end">
          <Button type="primary" icon={<PlusOutlined />} onClick={() => router.push('/keenkonnect/projects/create-new-project')}>
            Create New Project
          </Button>
        </Row>
      </div>
    </>
  );



export default MyProjects;
}

===== END app\keenkonnect\projects\my-projects\page.tsx =====

===== BEGIN app\keenkonnect\sustainability-impact\submit-impact-reports\page.tsx =====
'use client'

// pages/keenkonnect/sustainability-impact/submit-impact-reports/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Form, Input, Select, DatePicker, InputNumber, Upload, Switch, Button, Modal, message as antdMessage  } from 'antd';
import { UploadOutlined } from '@ant-design/icons';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { RangePicker } = DatePicker;
const { TextArea } = Input;
const { Option } = Select;

const SubmitImpactReports = () => {
  const router = useRouter();
  const [form] = Form.useForm();
  
  // États pour gérer l'upload, la soumission, et la modal de confirmation
  const [submitting, setSubmitting] = useState(false);
  const [modalVisible, setModalVisible] = useState(false);
  // Flag pour déterminer si le rapport doit être sauvegardé en brouillon (true) ou soumis final (false)
  const [saveAsDraft, setSaveAsDraft] = useState(true);

  // Fonction simulant l'upload et la soumission
  const onFinish = async (values: any) => {
    setSubmitting(true);
    console.log('Submitted values:', values);
    // Simuler un appel API d'une durée de 1,5 seconde
    setTimeout(() => {
      setSubmitting(false);
      setModalVisible(true);
    }, 1500);

  const handleModalOk = () => {
    setModalVisible(false);
    // Rediriger vers la page Track Project Impact après soumission
    router.push('/keenkonnect/sustainability-impact/track-project-impact');

  return (
    <>
      <Head>
        <title>Submit Impact Reports</title>
        <meta name="description" content="Submit a new impact report for your project." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Submit Impact Reports</h1>
        <Form form={form} layout="vertical" onFinish={onFinish}>
          {/* Sélecteur du projet */}
          <Form.Item
            name="project"
            label="Select Project"
            rules={[{ required: true, message: 'Please select a project' }]}
          >
            <Select placeholder="Select project">
              <Option value="Project Alpha">Project Alpha</Option>
              <Option value="Project Beta">Project Beta</Option>
              <Option value="Project Gamma">Project Gamma</Option>
            </Select>
          </Form.Item>

          {/* Période de rapport */}
          <Form.Item
            name="reportingPeriod"
            label="Reporting Period"
            rules={[{ required: true, message: 'Please select the reporting period' }]}
          >
            <RangePicker style={{ width: '100%' }} />
          </Form.Item>

          {/* Impact metrics */}
          <Form.Item
            name="peopleAffected"
            label="Number of People Affected"
            rules={[{ required: true, message: 'Please enter the number of people affected' }]}
          >
            <InputNumber style={{ width: '100%' }} min={0} placeholder="Enter number" />
          </Form.Item>

          <Form.Item
            name="co2Reduction"
            label="CO2 Reduction (tons)"
            rules={[{ required: true, message: 'Please enter the CO2 reduction in tons' }]}
          >
            <InputNumber style={{ width: '100%' }} min={0} placeholder="Enter value" />
          </Form.Item>

          {/* Description narrative */}
          <Form.Item
            name="narrative"
            label="Impact Description"
            rules={[{ required: true, message: 'Please provide a description of the impact achieved' }]}
          >
            <TextArea rows={4} placeholder="Provide a narrative description..." />
          </Form.Item>

          {/* Upload des preuves */}
          <Form.Item
            name="evidence"
            label="Attach Evidence or Data Files"
            valuePropName="fileList"
            getValueFromEvent={(e) => (Array.isArray(e) ? e : e && e.fileList)}
          >
            <Upload beforeUpload={() => false} listType="text">
              <Button icon={<UploadOutlined />}>Upload File</Button>
            </Upload>
          </Form.Item>

          {/* Option de sauvegarde en brouillon */}
          <Form.Item
            name="saveDraft"
            label="Save as Draft"
            valuePropName="checked"
            initialValue={true}
          >
            <Switch
              checkedChildren="Draft"
              unCheckedChildren="Submit Final"
              onChange={(checked) => setSaveAsDraft(checked)}
            />
          </Form.Item>

          <Form.Item>
            <Button type="primary" htmlType="submit" loading={submitting}>
              Submit Report
            </Button>
          </Form.Item>
        </Form>

        {/* Modal de confirmation */}
        <Modal
          title="Report Submitted"
          open={modalVisible}
          onOk={handleModalOk}
          onCancel={handleModalOk}
          footer={[
            <Button key="ok" type="primary" onClick={handleModalOk}>
              OK
            </Button>,
          ]}
        >
          <p>Your impact report has been successfully submitted.</p>
        </Modal>
      </div>
    </>
  );



export default SubmitImpactReports;
}}}

===== END app\keenkonnect\sustainability-impact\submit-impact-reports\page.tsx =====

===== BEGIN app\keenkonnect\sustainability-impact\sustainability-dashboard\page.tsx =====
'use client';

// File: app/keenkonnect/sustainability-impact/sustainability-dashboard/page.tsx
import React, { useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, Row, Col, Statistic, Table, Select, Divider } from 'antd';
import type { ColumnsType } from 'antd/es/table';
import MainLayout from '@/components/layout-components/MainLayout';
import {
  PieChart as RePieChart,
  Pie,
  Cell,
  Legend,
  ResponsiveContainer,
  Tooltip as ReTooltip,
} from 'recharts';

const { Option } = Select;

/* -------------------------------
 * Données simulées
 * ------------------------------- */

// Statistiques globales
const globalStats = {
  totalCO2Saved: 50000,       // en kilogrammes
  totalVolunteerHours: 1200,  // en heures
  totalProjects: 45,
};

// Répartition d’impact (donut)
const impactDistribution = [
  { name: 'Environmental', value: 55 },
  { name: 'Social', value: 30 },
  { name: 'Economic', value: 15 },
];

const PIE_COLORS = ['#0088FE', '#00C49F', '#FFBB28'];

// Données pour le leaderboard (liste de projets par impact)
interface LeaderboardEntry {
  key: string;
  projectName: string;
  impactScore: number;
  co2Saved: number;
  volunteerHours: number;
}

const leaderboardData: LeaderboardEntry[] = [
  { key: '1', projectName: 'Project Alpha', impactScore: 95, co2Saved: 15000, volunteerHours: 300 },
  { key: '2', projectName: 'Project Beta', impactScore: 88, co2Saved: 12000, volunteerHours: 250 },
  { key: '3', projectName: 'Project Gamma', impactScore: 82, co2Saved: 10000, volunteerHours: 200 },
  { key: '4', projectName: 'Project Delta', impactScore: 78, co2Saved: 8000, volunteerHours: 180 },
  { key: '5', projectName: 'Project Epsilon', impactScore: 75, co2Saved: 7000, volunteerHours: 170 },
];

// Colonnes pour le leaderboard
const columns: ColumnsType<LeaderboardEntry> = [
  { title: 'Project Name', dataIndex: 'projectName', key: 'projectName' },
  { title: 'Impact Score', dataIndex: 'impactScore', key: 'impactScore' },
  { title: 'CO2 Saved (kg)', dataIndex: 'co2Saved', key: 'co2Saved' },
  { title: 'Volunteer Hours', dataIndex: 'volunteerHours', key: 'volunteerHours' },
];

// Filtres supplémentaires (simulés)
const regions = ['All', 'North America', 'Europe', 'Asia'];
const categories = ['All', 'Environmental', 'Social', 'Economic'];

const SustainabilityDashboard: NextPage & {
  getLayout?: (page: React.ReactElement) => React.ReactNode;
} = () => {
  // États de filtres (ici décoratifs)
  const [selectedRegion, setSelectedRegion] = React.useState('All');
  const [selectedCategory, setSelectedCategory] = React.useState('All');

  // Filtrage simulé
  const filteredLeaderboard = useMemo(() => {
    // Ajouter une vraie logique si nécessaire (region / category)
    return leaderboardData;
  }, [selectedRegion, selectedCategory]);

  return (
    <>
      <Head>
        <title>Sustainability Dashboard</title>
        <meta
          name="description"
          content="High-level dashboard aggregating sustainability impact across projects."
        />
      </Head>

      <div className="container mx-auto p-5">
        {/* En-tête */}
        <h1 className="text-2xl font-bold mb-4">Sustainability Dashboard</h1>

        {/* Filtres */}
        <Row gutter={[16, 16]} className="mb-6">
          <Col xs={24} sm={12}>
            <Select
              value={selectedRegion}
              onChange={(value) => setSelectedRegion(value)}
              style={{ width: '100%' }}
            >
              {regions.map((region) => (
                <Option key={region} value={region}>
                  {region}
                </Option>
              ))}
            </Select>
          </Col>
          <Col xs={24} sm={12}>
            <Select
              value={selectedCategory}
              onChange={(value) => setSelectedCategory(value)}
              style={{ width: '100%' }}
            >
              {categories.map((cat) => (
                <Option key={cat} value={cat}>
                  {cat}
                </Option>
              ))}
            </Select>
          </Col>
        </Row>

        <Divider />

        {/* Statistiques globales */}
        <Row gutter={16} className="mb-6">
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Total CO2 Saved (kg)" value={globalStats.totalCO2Saved} />
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Total Volunteer Hours" value={globalStats.totalVolunteerHours} />
            </Card>
          </Col>
          <Col xs={24} sm={8}>
            <Card>
              <Statistic title="Total Projects" value={globalStats.totalProjects} />
            </Card>
          </Col>
        </Row>

        {/* Donut: Impact Distribution */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">Impact Distribution</h2>
          <div style={{ width: '100%', height: 300 }}>
            <ResponsiveContainer>
              <RePieChart>
                <ReTooltip />
                <Legend verticalAlign="bottom" height={36} />
                <Pie
                  data={impactDistribution}
                  dataKey="value"
                  nameKey="name"
                  innerRadius={60}
                  outerRadius={100}
                  paddingAngle={5}
                >
                  {impactDistribution.map((entry, index) => (
                    <Cell
                      key={`cell-${index}`}
                      fill={PIE_COLORS[index % PIE_COLORS.length]}
                    />
                  ))}
                </Pie>
              </RePieChart>
            </ResponsiveContainer>
          </div>
        </Card>

        {/* Leaderboard */}
        <Card className="mb-6">
          <h2 className="text-xl font-semibold mb-4">Top Projects by Impact</h2>
          <Table
            columns={columns}
            dataSource={filteredLeaderboard}
            pagination={{ pageSize: 5 }}
          />
        </Card>
      </div>
    </>
  );
};

// Mise en page (si utilisée dans ton app)
SustainabilityDashboard.getLayout = (page: React.ReactElement) => (
  <MainLayout>{page}</MainLayout>
);

export default SustainabilityDashboard;

===== END app\keenkonnect\sustainability-impact\sustainability-dashboard\page.tsx =====

===== BEGIN app\keenkonnect\user-reputation\manage-expertise-areas\page.tsx =====
﻿import React from 'react';
import { NextPage } from 'next';
import { Form, Checkbox, Select, Button, Alert, Divider } from 'antd';
import PageContainer from '@/components/PageContainer';
// MainLayout retiré car non utilisé

const { Option } = Select;

const ManageExpertiseAreas: NextPage = () => {
  const [form] = Form.useForm();

  // Données initiales : expertises déjà sélectionnées par l'utilisateur
  const currentExpertiseInitial: string[] = ['Frontend Development', 'UI/UX Design'];

  // Liste complète des domaines d'expertise disponibles
  const expertiseOptions: string[] = [
    'Frontend Development',
    'Backend Development',
    'UI/UX Design',
    'Data Science',
    'DevOps',
    'Mobile Development',
    'QA',
    'Project Management',
  ];

  // Gestion de la soumission : intégration d'une API ou logique de mise à jour
  const onFinish = (values: any) => {
    console.log('Updated Expertise Areas:', values);
    // Traitement complémentaire
  };

  return (
    <PageContainer title="Manage Expertise Areas">
      <Form
        form={form}
        layout="vertical"
        initialValues={{
          currentExpertise: currentExpertiseInitial,
          newExpertise: [],
        }}
        onFinish={onFinish}
      >
        {/* Liste des expertises actuelles */}
        <Form.Item label="Current Expertise Areas" name="currentExpertise">
          <Checkbox.Group>
            {expertiseOptions.map((option) => (
              <Checkbox key={option} value={option}>
                {option}
              </Checkbox>
            ))}
          </Checkbox.Group>
        </Form.Item>

        <Divider />

        {/* Sélecteur pour ajouter de nouvelles expertises */}
        <Form.Item
          label="Add New Expertise Area"
          name="newExpertise"
          tooltip="Adding an expertise area will require validation through contributions."
        >
          <Select mode="multiple" placeholder="Select new expertise areas to add" allowClear>
            {expertiseOptions
              .filter((opt) => !currentExpertiseInitial.includes(opt))
              .map((option) => (
                <Option key={option} value={option}>
                  {option}
                </Option>
              ))}
          </Select>
        </Form.Item>

        {/* Message informatif */}
        <Alert
          message="Note: Adding an expertise will require validation through contributions."
          type="info"
          showIcon
          style={{ marginBottom: 16 }}
        />

        {/* Bouton pour sauvegarder */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Save Changes
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

export default ManageExpertiseAreas;

===== END app\keenkonnect\user-reputation\manage-expertise-areas\page.tsx =====

===== BEGIN app\konnected\certifications\exam-dashboard-results\page.tsx =====
'use client'

// File: /pages/konnected/certifications/exam-dashboard-results.tsx
import React, { useState } from 'react';
// (Optionnel) Si tu veux garder NextPage, tu peux l'importer :
// import { NextPage } from 'next';
import {
  Card,
  Statistic,
  Table,
  Drawer,
  Button,
  Typography,
  Row,
  Col,
  List,
  Alert,
} from 'antd';
import { EyeOutlined, FilePdfOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Text } = Typography;

// Interface pour représenter une tentative d'examen
interface ExamResult {
  id: string;
  examName: string;
  dateTaken: string;
  score: number;
  result: 'Pass' | 'Fail';
  details: string; // Description détaillée ou récapitulatif
}

// Examen à venir (si l'utilisateur est inscrit)
const upcomingExam = {
  examName: 'Certification Exam Level 1',
  examDate: '2023-10-10 10:00',
  status: 'Registered',
}; // <-- fermeture manquante ajoutée

// Historique des examens réalisés
const examResultsData: ExamResult[] = [
  {
    id: '1',
    examName: 'Certification Exam Level 1',
    dateTaken: '2023-08-10',
    score: 78,
    result: 'Pass',
    details:
      'Score global de 78%. Excellente performance en théorie, à améliorer en pratique.',
  },
  {
    id: '2',
    examName: 'Certification Exam Level 1',
    dateTaken: '2023-07-05',
    score: 65,
    result: 'Fail',
    details:
      'Score global de 65%. Points faibles identifiés en gestion des situations critiques.',
  },
];

// Exemples de certificats obtenus
const certificationsEarned = [
  { id: 'cert1', title: 'Certification Exam Level 1', pdfLink: '#' },
  { id: 'cert2', title: 'Advanced Certification Exam', pdfLink: '#' },
];

export default function ExamDashboardResults() {
  // État pour gérer le Drawer de détail d'une tentative d'examen
  const [drawerVisible, setDrawerVisible] = useState<boolean>(false);
  const [selectedExam, setSelectedExam] = useState<ExamResult | null>(null);

  // Définition des colonnes du tableau
  const columns = [
    {
      title: 'Exam Name',
      dataIndex: 'examName',
      key: 'examName',
    },
    {
      title: 'Date Taken',
      dataIndex: 'dateTaken',
      key: 'dateTaken',
    },
    {
      title: 'Score',
      dataIndex: 'score',
      key: 'score',
      render: (score: number) => `${score}%`,
    },
    {
      title: 'Result',
      dataIndex: 'result',
      key: 'result',
      render: (result: ExamResult['result']) => (
        <Text strong style={{ color: result === 'Pass' ? 'green' : 'red' }}>
          {result}
        </Text>
      ),
    },
    {
      title: 'Action',
      key: 'action',
      render: (_: any, record: ExamResult) => (
        <Button
          type="link"
          icon={<EyeOutlined />}
          onClick={() => {
            setSelectedExam(record);
            setDrawerVisible(true);
          }}
        >
          View Details
        </Button>
      ),
    },
  ];

  return (
    <MainLayout>
      <PageContainer title="Exam Dashboard & Results">
        {/* Section Examen à venir */}
        {upcomingExam && (
          <Card title="Upcoming Exam" style={{ marginBottom: 24 }}>
            <Row gutter={[16, 16]}>
              <Col xs={24} md={8}>
                <Text strong>Exam:</Text> {upcomingExam.examName}
              </Col>
              <Col xs={24} md={8}>
                <Text strong>Date:</Text> {upcomingExam.examDate}
              </Col>
              <Col xs={24} md={8}>
                <Text strong>Status:</Text> {upcomingExam.status}
              </Col>
            </Row>
          </Card>
        )}

        {/* Section Résumé des résultats pour le dernier examen terminé */}
        {examResultsData.length > 0 && (
          <Card title="Latest Exam Result" style={{ marginBottom: 24 }}>
            <Row gutter={16}>
              <Col xs={24} md={12}>
                <Statistic
                  title="Score Achieved"
                  value={examResultsData[0].score}
                  suffix="%"
                />
              </Col>
              <Col xs={24} md={12}>
                <Statistic
                  title="Result"
                  value={examResultsData[0].result}
                  valueStyle={{
                    color:
                      examResultsData[0].result === 'Pass'
                        ? '#3f8600'
                        : '#cf1322',
                  }}
                />
              </Col>
            </Row>
          </Card>
        )}

        {/* Tableau historique des examens */}
        <Card title="Exam History" style={{ marginBottom: 24 }}>
          <Table
            columns={columns}
            dataSource={examResultsData}
            rowKey="id"
            pagination={{ pageSize: 5 }}
          />
        </Card>

        {/* Liste des certifications obtenues */}
        <Card title="Certificates Earned" style={{ marginBottom: 24 }}>
          <List
            dataSource={certificationsEarned ?? []}
            renderItem={(item) => (
              <List.Item
                actions={[
                  <Button key="dl" icon={<FilePdfOutlined />} type="link">
                    Download
                  </Button>,
                ]}
              >
                <List.Item.Meta
                  title={item.title}
                  description={`Certificate ID: ${item.id}`}
                />
              </List.Item>
            )}
          />
        </Card>

        {/* Section Prochaines Étapes */}
        <Card>
          <Alert
            message="Next Steps: Explore further certification programs to advance your career."
            type="info"
            showIcon
          />
          <div style={{ marginTop: 16 }}>
            <Button type="primary" href="/konnected/certifications/programs">
              Certification Programs
            </Button>
          </div>
        </Card>

        {/* Drawer pour détailler l'examen sélectionné */}
        <Drawer
          title="Exam Details"
          placement="right"
          onClose={() => setDrawerVisible(false)}
          open={drawerVisible}
        >
          {selectedExam && (
            <>
              <p>
                <strong>Exam Name:</strong> {selectedExam.examName}
              </p>
              <p>
                <strong>Date Taken:</strong> {selectedExam.dateTaken}
              </p>
              <p>
                <strong>Score:</strong> {selectedExam.score}%
              </p>
              <p>
                <strong>Result:</strong>{' '}
                <Text
                  strong
                  style={{
                    color: selectedExam.result === 'Pass' ? 'green' : 'red',
                  }}
                >
                  {selectedExam.result}
                </Text>
              </p>
              <p>
                <strong>Details:</strong>
              </p>
              <p>{selectedExam.details}</p>
            </>
          )}
        </Drawer>
      </PageContainer>
    </MainLayout>
  );
}

===== END app\konnected\certifications\exam-dashboard-results\page.tsx =====

===== BEGIN app\konnected\community-discussions\moderation\page.tsx =====
﻿'use client';

import React, { useState, useMemo } from 'react';
import { NextPage } from 'next';
import { Table, Tabs, Tag, Button, Space, Modal, message as antdMessage } from 'antd';
import { ExclamationCircleOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { TabPane } = Tabs;
const { confirm } = Modal;

interface ModerationItem {
  id: string;
  contentSnippet: string;
  author: string;
  reportReason: string;
  date: string;
  status: 'Pending' | 'Approved' | 'Flagged';
  queue: 'Reported' | 'PendingApproval';
}

const dummyModerationItems: ModerationItem[] = [
  {
    id: '1',
    contentSnippet: 'Ce post contient des propos inappropriés sur…',
    author: 'John Doe',
    reportReason: 'Propos inappropriés',
    date: '2025-12-01 15:30',
    status: 'Pending',
    queue: 'Reported',
  },
  {
    id: '2',
    contentSnippet: "Nouvelle discussion sur les méthodes d'enseignement…",
    author: 'Alice Smith',
    reportReason: '',
    date: '2025-12-01 14:00',
    status: 'Pending',
    queue: 'PendingApproval',
  },
  {
    id: '3',
    contentSnippet: 'Ce thread a été signalé pour spam ou contenu indésirable.',
    author: 'Bob Johnson',
    reportReason: 'Spam',
    date: '2025-11-30 18:45',
    status: 'Pending',
    queue: 'Reported',
  },
  {
    id: '4',
    contentSnippet: 'Discussion ouverte sur la nouvelle réforme éducative…',
    author: 'Carol Lee',
    reportReason: '',
    date: '2025-12-01 16:20',
    status: 'Pending',
    queue: 'PendingApproval',
  },
];

const ModerationPage: NextPage = () => {
  // Onglet actif : "Reported" ou "PendingApproval"
  const [activeTab, setActiveTab] = useState<'Reported' | 'PendingApproval'>('Reported');

  // Filtrage selon l’onglet actif
  const filteredItems = useMemo(
    () => dummyModerationItems.filter((item) => item.queue === activeTab),
    [activeTab],
  );

  // Actions modération
  const handleApprove = (item: ModerationItem) => {
    antdMessage.success(`Content "${item.contentSnippet.substring(0, 20)}..." approved.`);
    // TODO: appel API d’approbation
  };

  const handleFlagUser = (item: ModerationItem) => {
    antdMessage.warning(`User ${item.author} has been flagged/warned.`);
    // TODO: appel API de signalement
  };

  const handleDelete = (item: ModerationItem) => {
    confirm({
      title: 'Confirmer la suppression',
      icon: <ExclamationCircleOutlined />,
      content: 'Êtes-vous sûr de vouloir supprimer ce contenu ? Cette action est irréversible.',
      okText: 'Supprimer',
      okType: 'danger',
      cancelText: 'Annuler',
      onOk() {
        antdMessage.success(`Content "${item.contentSnippet.substring(0, 20)}..." deleted.`);
        // TODO: appel API de suppression
      },
    });
  };

  // Colonnes du tableau
  const columns = [
    {
      title: 'Content Snippet',
      dataIndex: 'contentSnippet',
      key: 'contentSnippet',
      render: (text: string) => <span>{text}</span>,
    },
    { title: 'Author', dataIndex: 'author', key: 'author' },
    {
      title: activeTab === 'Reported' ? 'Report Reason' : 'Note',
      dataIndex: 'reportReason',
      key: 'reportReason',
      render: (text: string) =>
        text ? <Tag color="volcano">{text}</Tag> : <Tag color="blue">Pending Approval</Tag>,
    },
    { title: 'Date', dataIndex: 'date', key: 'date' },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
      render: (status: ModerationItem['status']) =>
        status === 'Approved' ? <Tag color="green">Approved</Tag> : <Tag color="orange">Pending</Tag>,
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: ModerationItem) => (
        <Space>
          {record.status === 'Pending' && (
            <Button size="small" type="primary" onClick={() => handleApprove(record)}>
              Approve
            </Button>
          )}
          <Button size="small" danger onClick={() => handleDelete(record)}>
            Delete
          </Button>
          {record.queue === 'Reported' && (
            <Button size="small" onClick={() => handleFlagUser(record)}>
              Flag User
            </Button>
          )}
        </Space>
      ),
    },
  ];

  return (
    <PageContainer title="Moderation">
      <Tabs
        defaultActiveKey="Reported"
        activeKey={activeTab}
        onChange={(key) => setActiveTab(key as 'Reported' | 'PendingApproval')}
        type="card"
        style={{ marginBottom: 24 }}
      >
        <TabPane tab="Reported Content" key="Reported" />
        <TabPane tab="Pending Approval" key="PendingApproval" />
      </Tabs>
      <Table columns={columns} dataSource={filteredItems} rowKey="id" pagination={{ pageSize: 5 }} />
    </PageContainer>
  );
};

export default ModerationPage;

===== END app\konnected\community-discussions\moderation\page.tsx =====

===== BEGIN app\konnected\community-discussions\start-new-discussion\page.tsx =====
﻿'use client'

// File: /pages/konnected/community-discussions/start-new-discussion.tsx
import React from 'react';
import { NextPage } from 'next';
import { Form, Input, Select, Switch, Button, message as antdMessage  } from 'antd';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';

const { Option } = Select;

const StartNewDiscussion: NextPage = () => {
  const [form] = Form.useForm();
  const router = useRouter();

  // Simulation de la soumission : en production, un appel API sera nÃ©cessaire pour crÃ©er le thread.
  const onFinish = (values: any) => {
    console.log('New Discussion Data:', values);
    antdMessage.success('Votre discussion a Ã©tÃ© crÃ©Ã©e avec succÃ¨s !');
    // Simuler la redirection vers la page de dÃ©tail du thread crÃ©Ã©, par exemple avec l'ID gÃ©nÃ©rÃ©.
    router.push(`/konnected/community-discussions/thread/123`);

  return (
    <PageContainer title="Start New Discussion">
      <Form
        form={form}
        layout="vertical"
        onFinish={onFinish}
        initialValues={{
          isQuestion: false,
        }}
      >
        <Form.Item
          label="Title"
          name="title"
          rules={[{ required: true, message: 'Veuillez saisir le titre de la discussion.' }]}
        >
          <Input placeholder="Entrez le titre de votre discussion" />
        </Form.Item>
        
        <Form.Item
          label="Content"
          name="content"
          rules={[{ required: true, message: 'Veuillez saisir le contenu de la discussion.' }]}
        >
          <Input.TextArea rows={6} placeholder="RÃ©digez le contenu de votre discussion ici..." />
          {/* Vous pouvez intÃ©grer ici un Ã©diteur riche (ex: React Quill) pour un contenu formatÃ© */}
        </Form.Item>
        
        <Form.Item
          label="Category"
          name="category"
          rules={[{ required: true, message: 'Veuillez sÃ©lectionner une catÃ©gorie.' }]}
        >
          <Select placeholder="Choisissez une catÃ©gorie">
            <Option value="Math">Math</Option>
            <Option value="Science">Science</Option>
            <Option value="General">General</Option>
            {/* Ajoutez d'autres catÃ©gories selon vos besoins */}
          </Select>
        </Form.Item>
        
        <Form.Item label="Is this a question?" name="isQuestion" valuePropName="checked">
          <Switch />
        </Form.Item>
        
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Post Discussion
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );


  return <MainLayout>{page}</MainLayout>;

export default StartNewDiscussion;
}}

===== END app\konnected\community-discussions\start-new-discussion\page.tsx =====

===== BEGIN app\konnected\learning-library\browse-resources\page.tsx =====
'use client'

// pages/konnected/learning-library/browse-resources/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Table, Input, Select, Row, Col, Card, Divider, Tag, Button } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import { useRouter } from 'next/navigation';

const { Search } = Input;
const { Option } = Select;

interface Resource {
  key: string;
  title: string;
  subject: string;
  level: string; // ex. Beginner, Intermediate, Advanced
  language: string;
  resourceType: string; // document, video, quiz, etc.
  rating: number; // sur 5
}

// Exemple de données simulées pour les ressources
const sampleResources: Resource[] = [
  {
    key: '1',
    title: 'Introduction to Robotics',
    subject: 'Robotics',
    level: 'Beginner',
    language: 'English',
    resourceType: 'Video',
    rating: 4,
  },
  {
    key: '2',
    title: 'Advanced Healthcare Protocols',
    subject: 'Healthcare',
    level: 'Advanced',
    language: 'French',
    resourceType: 'Document',
    rating: 5,
  },
  {
    key: '3',
    title: 'Machine Learning Fundamentals',
    subject: 'Technology',
    level: 'Intermediate',
    language: 'English',
    resourceType: 'Article',
    rating: 4,
  },
  {
    key: '4',
    title: 'Sustainable Energy Solutions',
    subject: 'Energy',
    level: 'Beginner',
    language: 'English',
    resourceType: 'Video',
    rating: 3,
  },
  {
    key: '5',
    title: 'Design Thinking Essentials',
    subject: 'Design',
    level: 'Intermediate',
    language: 'English',
    resourceType: 'Quiz',
    rating: 4,
  },
];

const BrowseResources = () => {
  const router = useRouter();
  const [searchText, setSearchText] = useState('');
  const [subjectFilter, setSubjectFilter] = useState('All');
  const [levelFilter, setLevelFilter] = useState('All');
  const [languageFilter, setLanguageFilter] = useState('All');

  // Filtrage des ressources selon les critères saisis
  const filteredResources = useMemo(() => {
    return sampleResources.filter(resource => {
      const matchesSearch = searchText === '' || resource.title.toLowerCase().includes(searchText.toLowerCase()) || resource.resourceType.toLowerCase().includes(searchText.toLowerCase());
      const matchesSubject = subjectFilter === 'All' || resource.subject === subjectFilter;
      const matchesLevel = levelFilter === 'All' || resource.level === levelFilter;
      const matchesLanguage = languageFilter === 'All' || resource.language === languageFilter;
      return matchesSearch && matchesSubject && matchesLevel && matchesLanguage;
    });
  }, [searchText, subjectFilter, levelFilter, languageFilter]);

  // Définition des colonnes du tableau
  const columns = [
    {
      title: 'Title',
      dataIndex: 'title',
      key: 'title',
      render: (text: string, record: Resource) => (
        <div style={{ display: 'flex', alignItems: 'center' }}>
          {/* Affichage d'une icône indicative selon le type de ressource */}
          {record.resourceType === 'Video' && <Tag color="blue">🎥</Tag>}
          {record.resourceType === 'Document' && <Tag color="green">📄</Tag>}
          {record.resourceType === 'Quiz' && <Tag color="purple">❓</Tag>}
          {record.resourceType === 'Article' && <Tag color="orange">📰</Tag>}
          <span style={{ marginLeft: 8 }}>{text}</span>
        </div>
      ),
    },
    {
      title: 'Subject',
      dataIndex: 'subject',
      key: 'subject',
    },
    {
      title: 'Level',
      dataIndex: 'level',
      key: 'level',
    },
    {
      title: 'Language',
      dataIndex: 'language',
      key: 'language',
    },
    {
      title: 'Rating',
      dataIndex: 'rating',
      key: 'rating',
      render: (rating, row) => `${rating} / 5`,
    },
    {
      title: 'Action',
      key: 'action',
      render: (_: any, record: Resource) => (
        <Button type="link" onClick={() => router.push(`/konnected/learning-library/resource/${record.key}`)}>
          Open
        </Button>
      ),
    },
  ];

  return (
    <>
      <Head>
        <title>Browse Resources</title>
        <meta name="description" content="Browse and search for educational content in the learning library." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Browse Resources</h1>
        
        {/* Barre de recherche et filtres */}
        <Card className="mb-4">
          <Row gutter={[16, 16]}>
            <Col xs={24} sm={12}>
              <Search placeholder="Search resources" allowClear onSearch={(value) => setSearchText(value)} />
            </Col>
            <Col xs={24} sm={4}>
              <Select defaultValue="All" style={{ width: '100%' }} onChange={(value) => setSubjectFilter(value)}>
                <Option value="All">All Subjects</Option>
                <Option value="Robotics">Robotics</Option>
                <Option value="Healthcare">Healthcare</Option>
                <Option value="Technology">Technology</Option>
                <Option value="Energy">Energy</Option>
                <Option value="Design">Design</Option>
              </Select>
            </Col>
            <Col xs={24} sm={4}>
              <Select defaultValue="All" style={{ width: '100%' }} onChange={(value) => setLevelFilter(value)}>
                <Option value="All">All Levels</Option>
                <Option value="Beginner">Beginner</Option>
                <Option value="Intermediate">Intermediate</Option>
                <Option value="Advanced">Advanced</Option>
              </Select>
            </Col>
            <Col xs={24} sm={4}>
              <Select defaultValue="All" style={{ width: '100%' }} onChange={(value) => setLanguageFilter(value)}>
                <Option value="All">All Languages</Option>
                <Option value="English">English</Option>
                <Option value="French">French</Option>
                {/* Ajoutez d'autres langues si nécessaire */}
              </Select>
            </Col>
          </Row>
        </Card>

        <Divider />

        {/* Table des ressources */}
        <Card>
          <Table
            dataSource={filteredResources}
            columns={columns}
            pagination={{ pageSize: 5 }}
          />
        </Card>
      </div>
    </>
  );



export default BrowseResources;
}

===== END app\konnected\learning-library\browse-resources\page.tsx =====

===== BEGIN app\konnected\learning-library\search-filters\page.tsx =====
'use client'

// pages/konnected/learning-library/search-filters/index.tsx
import React, { useState, useMemo } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Form, Input, DatePicker, Select, Slider, Button, Table, Row, Col, Card, Divider } from 'antd';
import MainLayout from '@/components/layout-components/MainLayout';
import dayjs from 'dayjs';

const { RangePicker } = DatePicker;
const { Option } = Select;

interface Resource {
  key: string;
  title: string;
  author: string;
  subject: string;
  resourceType: string; // Document, Video, Quiz, etc.
  difficulty: number;   // Niveau de difficulté (1 à 5)
  createdAt: string;    // Date de publication
  rating: number;       // sur 5
}

// Exemple de données simulées pour les ressources
const sampleResources: Resource[] = [
  {
    key: '1',
    title: 'Introduction to Robotics',
    author: 'Alice',
    subject: 'Robotics',
    resourceType: 'Video',
    difficulty: 2,
    createdAt: '2023-09-01',
    rating: 4,
  },
  {
    key: '2',
    title: 'Advanced Healthcare Protocols',
    author: 'Bob',
    subject: 'Healthcare',
    resourceType: 'Document',
    difficulty: 5,
    createdAt: '2023-08-28',
    rating: 5,
  },
  {
    key: '3',
    title: 'Machine Learning Fundamentals',
    author: 'Charlie',
    subject: 'Technology',
    resourceType: 'Article',
    difficulty: 3,
    createdAt: '2023-09-03',
    rating: 4,
  },
  {
    key: '4',
    title: 'Sustainable Energy Solutions',
    author: 'Diana',
    subject: 'Energy',
    resourceType: 'Video',
    difficulty: 1,
    createdAt: '2023-08-20',
    rating: 3,
  },
  {
    key: '5',
    title: 'Design Thinking Essentials',
    author: 'Edward',
    subject: 'Design',
    resourceType: 'Quiz',
    difficulty: 4,
    createdAt: '2023-08-25',
    rating: 4,
  },
];

const SearchFilters = () => {
  // États pour les filtres de recherche
  const [keyword, setKeyword] = useState('');
  const [authorFilter, setAuthorFilter] = useState<string>('');
  const [dateRange, setDateRange] = useState<[any, any] | null>(null);
  const [subjectFilter, setSubjectFilter] = useState<string[]>([]);
  const [resourceTypeFilter, setResourceTypeFilter] = useState<string[]>([]);
  const [difficultyRange, setDifficultyRange] = useState<[number, number]>([1, 5]);
  const [sortCriteria, setSortCriteria] = useState<string>('relevance');

  // Filtrage des ressources selon les valeurs des filtres
  const filteredResources = useMemo(() => {
    return sampleResources.filter(resource => {
      // Filtre de recherche par titre et auteur
      const matchesKeyword =
        keyword === '' ||
        resource.title.toLowerCase().includes(keyword.toLowerCase()) ||
        resource.author.toLowerCase().includes(keyword.toLowerCase());
      // Filtre auteur (si renseigné séparément)
      const matchesAuthor = authorFilter === '' || resource.author.toLowerCase().includes(authorFilter.toLowerCase());
      // Filtre date
      let matchesDate = true;
      if (dateRange && dateRange[0] && dateRange[1]) {
        const resourceDate = dayjs(resource.createdAt);
        matchesDate = resourceDate.isAfter(dateRange[0]) && resourceDate.isBefore(dateRange[1]);
      }
      // Filtre par sujet
      const matchesSubject = subjectFilter.length === 0 || subjectFilter.includes(resource.subject);
      // Filtre par type de ressource
      const matchesResourceType = resourceTypeFilter.length === 0 || resourceTypeFilter.includes(resource.resourceType);
      // Filtre par niveau de difficulté
      const matchesDifficulty = resource.difficulty >= difficultyRange[0] && resource.difficulty <= difficultyRange[1];

      return matchesKeyword && matchesAuthor && matchesDate && matchesSubject && matchesResourceType && matchesDifficulty;
    });
  }, [keyword, authorFilter, dateRange, subjectFilter, resourceTypeFilter, difficultyRange]);

  // Définition des colonnes pour le tableau des résultats
  const columns = [
    { title: 'Title', dataIndex: 'title', key: 'title' },
    { title: 'Author', dataIndex: 'author', key: 'author' },
    { title: 'Subject', dataIndex: 'subject', key: 'subject' },
    { title: 'Type', dataIndex: 'resourceType', key: 'resourceType' },
    { title: 'Difficulty', dataIndex: 'difficulty', key: 'difficulty' },
    { title: 'Created At', dataIndex: 'createdAt', key: 'createdAt' },
    { title: 'Rating', dataIndex: 'rating', key: 'rating' },
    {
      title: 'Action',
      key: 'action',
      render: (_: any, record: Resource) => (
        <Button type="link" onClick={() => window.location.href = `/konnected/learning-library/resource/${record.key}`}>
          Open
        </Button>
      ),
    },
  ];

  return (
    <>
      <Head>
        <title>Search & Filters</title>
        <meta name="description" content="Advanced search interface with detailed filters for learning resources." />
      </Head>
      <div className="container mx-auto p-5">
        <h1 className="text-2xl font-bold mb-4">Search & Filters</h1>
        
        {/* Formulaire de recherche avancée */}
        <Card className="mb-6">
          <Form layout="vertical">
            <Row gutter={[16, 16]}>
              <Col xs={24} sm={12}>
                <Form.Item label="Keywords">
                  <Input
                    placeholder="Search by title or author"
                    allowClear
                    onChange={(e) => setKeyword(e.target.value)}
                  />
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Author">
                  <Input
                    placeholder="Filter by author"
                    allowClear
                    onChange={(e) => setAuthorFilter(e.target.value)}
                  />
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Date Range">
                  <RangePicker onChange={(dates) => setDateRange(dates as any)} style={{ width: '100%' }} />
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Subjects">
                  <Select mode="multiple" placeholder="Select subjects" allowClear onChange={(value) => setSubjectFilter(value)}>
                    <Option value="Robotics">Robotics</Option>
                    <Option value="Healthcare">Healthcare</Option>
                    <Option value="Technology">Technology</Option>
                    <Option value="Energy">Energy</Option>
                    <Option value="Design">Design</Option>
                  </Select>
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Resource Type">
                  <Select mode="multiple" placeholder="Select type(s)" allowClear onChange={(value) => setResourceTypeFilter(value)}>
                    <Option value="Document">Document</Option>
                    <Option value="Video">Video</Option>
                    <Option value="Article">Article</Option>
                    <Option value="Quiz">Quiz</Option>
                  </Select>
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Difficulty">
                  <Slider
                    range
                    min={1}
                    max={5}
                    defaultValue={[1, 5]}
                    onChange={(value: [number, number]) => setDifficultyRange(value)}
                  />
                </Form.Item>
              </Col>
              <Col xs={24} sm={12}>
                <Form.Item label="Sort By">
                  <Select defaultValue="relevance" onChange={(value) => setSortCriteria(value)}>
                    <Option value="relevance">Relevance</Option>
                    <Option value="date">Newest</Option>
                    <Option value="rating">Highest Rated</Option>
                  </Select>
                </Form.Item>
              </Col>
            </Row>
            <Button type="primary" onClick={() => { /* les filtres s'appliquent en temps réel grâce aux hooks */ }}>
              Apply Filters
            </Button>
          </Form>
        </Card>

        <Divider />

        {/* Résultats de la recherche */}
        <Card>
          <Table dataSource={filteredResources} columns={columns} pagination={{ pageSize: 5 }} />
        </Card>
      </div>
    </>
  );



export default SearchFilters;
}

===== END app\konnected\learning-library\search-filters\page.tsx =====

===== BEGIN app\konnected\learning-paths\manage-existing-paths\page.tsx =====
﻿'use client'

// File: /pages/konnected/learning-paths/manage-existing-paths.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import {
  Table,
  Button,
  Modal,
  Typography,
  Input,
  Space,
  Empty,
  message as antdMessage,
} from 'antd';
import { EditOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { Title } = Typography;
const { Search } = Input;

interface LearningPath {
  id: string;
  title: string;
  lastUpdated: string;
  status: 'Published' | 'Draft';
}

const initialPaths: LearningPath[] = [
  {
    id: '1',
    title: 'Introduction to Programming',
    lastUpdated: '2023-09-15',
    status: 'Published',
  },
  {
    id: '2',
    title: 'Advanced Web Development',
    lastUpdated: '2023-08-10',
    status: 'Draft',
  },
  // Ajoutez d'autres parcours selon les besoins
];

const ManageExistingPaths: NextPage = () => {
  const [paths, setPaths] = useState<LearningPath[]>(initialPaths);
  const [searchText, setSearchText] = useState<string>('');

  // Filtrage des parcours selon le texte de recherche
  const filteredPaths = paths.filter((path) =>
    path.title.toLowerCase().includes(searchText.toLowerCase())
  );

  // Gestion de la suppression d'un parcours
  const handleDelete = (id: string) => {
    Modal.confirm({
      title: 'Confirm Deletion',
      content: 'Are you sure you want to delete this learning path?',
      okType: 'danger',
      onOk: () => {
        setPaths(paths.filter((path) => path.id !== id));
        antdMessage.success('Learning path deleted successfully');
      },
    });
  };

  // Colonnes du tableau
  const columns = [
    {
      title: 'Path Title',
      dataIndex: 'title',
      key: 'title',
    },
    {
      title: 'Last Updated',
      dataIndex: 'lastUpdated',
      key: 'lastUpdated',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: LearningPath) => (
        <Space>
          <Button
            icon={<EditOutlined />}
            type="link"
            onClick={() => {
              // Redirection vers la page d’édition (ex: /learning-paths/edit/[id])
              window.location.href = `/learning-paths/edit/${record.id}`;
            }}
          >
            Edit
          </Button>
          <Button
            icon={<DeleteOutlined />}
            type="link"
            danger
            onClick={() => handleDelete(record.id)}
          >
            Delete
          </Button>
        </Space>
      ),
    },
  ];

  return (
    <PageContainer title="Manage Existing Paths">
      {/* Titre affiché en plus si tu veux conserver Typography */}
      <Title level={4} style={{ marginBottom: 16 }}>Manage Existing Paths</Title>

      <div
        style={{
          marginBottom: 24,
          display: 'flex',
          justifyContent: 'space-between',
        }}
      >
        <Search
          placeholder="Search by path name"
          onChange={(e) => setSearchText(e.target.value)}
          style={{ width: 300 }}
        />
        <Button type="primary" icon={<PlusOutlined />} href="/learning-paths/create">
          Create New Path
        </Button>
      </div>

      {filteredPaths.length > 0 ? (
        <Table
          dataSource={filteredPaths}
          columns={columns}
          rowKey="id"
          pagination={{ pageSize: 5 }}
        />
      ) : (
        <Empty description="No learning paths found.">
          <Button type="primary" href="/learning-paths/create">
            Create New Path
          </Button>
        </Empty>
      )}
    </PageContainer>
  );
};

export default ManageExistingPaths;

===== END app\konnected\learning-paths\manage-existing-paths\page.tsx =====

===== BEGIN app\konnected\learning-paths\my-learning-path\page.tsx =====
'use client'

// pages/konnected/learning-paths/my-learning-path/index.tsx
import React, { useState } from 'react';
import Head from 'next/head';
import type { NextPage } from 'next';
import { Card, Steps, Progress, Button, Typography, Empty } from 'antd';
import { useRouter } from 'next/navigation';
import MainLayout from '@/components/layout-components/MainLayout';

const { Title, Paragraph } = Typography;
const { Step } = Steps;

interface Lesson {
  id: string;
  name: string;
  completed: boolean;
}

interface LearningPath {
  id: string;
  title: string;
  description: string;
  progress: number;
  lessons: Lesson[];
}

// Exemple de données simulées pour un parcours d'apprentissage
const sampleLearningPath: LearningPath = {
  id: '1',
  title: 'Beginner Web Development',
  description:
    'A comprehensive path to learn web development from scratch. You will start with HTML and CSS and move on to JavaScript and modern frameworks.',
  progress: 40, // Pourcentage de progression
  lessons: [
    { id: '1', name: 'HTML Basics', completed: true },
    { id: '2', name: 'CSS Fundamentals', completed: true },
    { id: '3', name: 'Introduction to JavaScript', completed: false },
    { id: '4', name: 'Responsive Design', completed: false },
    { id: '5', name: 'Basic React', completed: false },
  ],
};

const MyLearningPath: NextPage & {
  getLayout?: (page: React.ReactElement) => React.ReactNode;
} = () => {
  const router = useRouter();
  // Dans cet exemple, nous partons du principe que l'utilisateur suit un parcours,
  // sinon, on pourra passer learningPath à null pour afficher un message d'invitation.
  const [learningPath] = useState<LearningPath | null>(sampleLearningPath);

  // Fonction pour naviguer vers la leçon sélectionnée
  const goToLesson = (lessonId: string) => {
    router.push(`/konnected/learning-library/lesson/${lessonId}`);
  };

  return (
    <>
      <Head>
        <title>My Learning Path</title>
        <meta
          name="description"
          content="View your current learning path and track your progress."
        />
      </Head>
      <div className="container mx-auto p-5">
        <Title level={2}>My Learning Path</Title>
        {learningPath ? (
          <>
            {/* Informations générales sur le parcours */}
            <Card className="mb-4">
              <Title level={4}>{learningPath.title}</Title>
              <Paragraph>{learningPath.description}</Paragraph>
            </Card>

            {/* Progression globale */}
            <Card className="mb-4">
              <Title level={5}>Overall Progress</Title>
              <Progress percent={learningPath.progress} status="active" />
            </Card>

            {/* Liste des modules/leçons du parcours */}
            <Card>
              <Title level={5}>Your Lessons</Title>
              <Steps direction="vertical">
                {learningPath.lessons.map((lesson, index) => (
                  <Step
                    key={lesson.id}
                    title={lesson.name}
                    status={
                      lesson.completed
                        ? 'finish'
                        : index === learningPath.lessons.findIndex((l) => !l.completed)
                        ? 'process'
                        : 'wait'
                    }
                    description={
                      <Button type="link" onClick={() => goToLesson(lesson.id)}>
                        Go to Lesson
                      </Button>
                    }
                  />
                ))}
              </Steps>
            </Card>
          </>
        ) : (
          <Empty description="You are not enrolled in any learning path yet. Explore our available learning paths to get started." />
        )}
      </div>
    </>
  );
};

MyLearningPath.getLayout = (page: React.ReactElement) => (
  <MainLayout>{page}</MainLayout>
);

export default MyLearningPath;

===== END app\konnected\learning-paths\my-learning-path\page.tsx =====

===== BEGIN app\konnected\teams-collaboration\my-teams\page.tsx =====
﻿'use client';
import React from 'react';
import type { NextPage } from 'next';
import { Table, Button, Avatar, List, Menu, Dropdown, Typography, Space } from 'antd';
import { SettingOutlined, DownOutlined, UsergroupAddOutlined } from '@ant-design/icons';
import PageContainer from '@/components/PageContainer';

const { Text, Title } = Typography;

interface TeamMember {
  id: string;
  name: string;
  role: string;
  avatar: string;
}

interface Team {
  id: string;
  teamName: string;
  role: 'Leader' | 'Member';
  membersCount: number;
  recentActivity: string[];
  roster: TeamMember[];
}

const teamsData: Team[] = [
  {
    id: 'team1',
    teamName: 'Alpha Innovators',
    role: 'Leader',
    membersCount: 5,
    recentActivity: [
      'John joined the team',
      'Meeting scheduled for 14:00',
      'Project milestone completed',
    ],
    roster: [
      { id: 'm1', name: 'John Doe', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/1.jpg' },
      { id: 'm2', name: 'Alice Smith', role: 'Member', avatar: 'https://randomuser.me/api/portraits/women/2.jpg' },
      { id: 'm3', name: 'Bob Johnson', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/3.jpg' },
      { id: 'm4', name: 'Eve Davis', role: 'Member', avatar: 'https://randomuser.me/api/portraits/women/4.jpg' },
      { id: 'm5', name: 'Charlie Brown', role: 'Leader', avatar: 'https://randomuser.me/api/portraits/men/5.jpg' },
    ],
  },
  {
    id: 'team2',
    teamName: 'Beta Coders',
    role: 'Member',
    membersCount: 8,
    recentActivity: ['New repository added', 'Bug fixes deployed', 'Code review completed'],
    roster: [
      { id: 'm6', name: 'Diana Prince', role: 'Leader', avatar: 'https://randomuser.me/api/portraits/women/6.jpg' },
      { id: 'm7', name: 'Bruce Wayne', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/7.jpg' },
      { id: 'm8', name: 'Clark Kent', role: 'Member', avatar: 'https://randomuser.me/api/portraits/men/8.jpg' },
      // ... autres membres si besoin
    ],
  },
];

const TeamsCollaboration: NextPage = () => {
  const teamActionsMenu = (
    <Menu>
      <Menu.Item key="settings">
        <a href="#">Manage Team Settings</a>
      </Menu.Item>
      <Menu.Item key="invite">
        <a href="#">Invite New Member</a>
      </Menu.Item>
    </Menu>
  );

  const columns = [
    {
      title: 'Team Name',
      dataIndex: 'teamName',
      key: 'teamName',
      render: (text: string, record: Team) => (
        <Space>
          <span>{text}</span>
          {record.role === 'Leader' && (
            <Text type="success" strong>
              (Leader)
            </Text>
          )}
        </Space>
      ),
    },
    {
      title: 'Role',
      dataIndex: 'role',
      key: 'role',
    },
    {
      title: 'Members',
      dataIndex: 'membersCount',
      key: 'membersCount',
    },
    {
      title: 'Recent Activity',
      dataIndex: 'recentActivity',
      key: 'recentActivity',
      render: (activities: string[]) => (
        <List
          dataSource={activities.slice(0, 2) ?? []}
          renderItem={(activity) => (
            <List.Item style={{ padding: 0 }}>
              <Text type="secondary">{activity}</Text>
            </List.Item>
          )}
          size="small"
        />
      ),
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_: any, record: Team) =>
        record.role === 'Leader' ? (
          <Dropdown overlay={teamActionsMenu}>
            <a onClick={(e) => e.preventDefault()}>
              <Space>
                Actions <DownOutlined />
              </Space>
            </a>
          </Dropdown>
        ) : null,
    },
  ];

  const expandedRowRender = (record: Team) => (
    <div style={{ padding: '16px 24px', background: '#fafafa' }}>
      <Title level={5}>Team Roster</Title>
      <List
        grid={{ gutter: 16, column: 4 }}
        dataSource={record.roster ?? []}
        renderItem={(member: TeamMember) => (
          <List.Item>
            <Space direction="vertical" align="center">
              <Avatar src={member.avatar} size={48} />
              <Text>{member.name}</Text>
              <Text type="secondary" style={{ fontSize: 12 }}>
                {member.role}
              </Text>
            </Space>
          </List.Item>
        )}
      />
      <br />
      <Title level={5}>Recent Activity Log</Title>
      <List
        dataSource={record.recentActivity ?? []}
        renderItem={(activity) => (
          <List.Item>
            <Text>{activity}</Text>
          </List.Item>
        )}
        size="small"
      />
    </div>
  );

  return (
    <PageContainer title="My Teams">
      <div style={{ marginBottom: 24, textAlign: 'right' }}>
        <Button
          type="primary"
          icon={<UsergroupAddOutlined />}
          href="/konnected/teams-collaboration/team-builder"
        >
          Team Builder
        </Button>
      </div>
      <Table
        columns={columns}
        dataSource={teamsData}
        rowKey="id"
        expandable={{ expandedRowRender }}
        pagination={{ pageSize: 5 }}
        rowClassName={(record: Team) => (record.role === 'Leader' ? 'team-leader-row' : '')}
      />
      <style jsx>{`
        .team-leader-row {
          background-color: #f6ffed;
        }
      `}</style>
    </PageContainer>
  );
};

export default TeamsCollaboration;

===== END app\konnected\teams-collaboration\my-teams\page.tsx =====

===== BEGIN app\kreative\community-showcases\submit-to-showcase\page.tsx =====
'use client'

// File: /pages/kreative/community-showcases/submit-to-showcase.tsx
import React, { useState } from 'react';
import { NextPage } from 'next';
import { Form, Input, Select, Button, Modal, message as antdMessage  } from 'antd';
import { useRouter } from 'next/navigation';
import PageContainer from '@/components/PageContainer';
import MainLayout from '@/components/layout-components/MainLayout';


const { TextArea } = Input;
const { Option } = Select;

const SubmitToShowcase: NextPage = () => {
  const [form] = Form.useForm();
  const router = useRouter();
  const [modalVisible, setModalVisible] = useState(false);

  // Dummy data representing the user's existing projects.
  const projectOptions = [
    { id: 'p1', name: 'Project Sunrise' },
    { id: 'p2', name: 'Digital Dreamscape' },
    { id: 'p3', name: 'Urban Poetry' },
  ];

  // Handle form submission.
  const onFinish = (values: any) => {
    console.log('Submitted values:', values);
    // Here you would typically submit values to your API.
    setModalVisible(true);

  // Handle modal confirmation.
  const handleModalOk = () => {
    antdMessage.success('Your project has been submitted for review.');
    setModalVisible(false);
    // Redirect to the featured projects page or the user's submissions.
    router.push('/kreative/community-showcases/featured-projects');

  return (
    <PageContainer title="Submit to Showcase">
      <Form
        form={form}
        layout="vertical"
        onFinish={onFinish}
        initialValues={{
          showcaseCategory: 'General',
        }}
      >
        {/* Project Selection */}
        <Form.Item
          label="Select Project"
          name="projectId"
          rules={[{ required: true, message: 'Please select a project to submit.' }]}
        >
          <Select placeholder="Choose a project">
            {projectOptions.map((project) => (
              <Option key={project.id} value={project.id}>
                {project.name}
              </Option>
            ))}
          </Select>
        </Form.Item>

        {/* Showcase Category (Optional) */}
        <Form.Item
          label="Showcase Category"
          name="showcaseCategory"
          rules={[{ required: true, message: 'Please select a showcase category.' }]}
        >
          <Select placeholder="Select a category">
            <Option value="General">General</Option>
            <Option value="Art">Art</Option>
            <Option value="Music">Music</Option>
            <Option value="Digital">Digital</Option>
          </Select>
        </Form.Item>

        {/* Justification Field */}
        <Form.Item
          label="Justification / Description"
          name="justification"
          rules={[{ required: true, message: 'Please provide a justification for your submission.' }]}
        >
          <TextArea
            rows={5}
            placeholder="Explain why your project is showcase-worthy and provide context for our curators."
          />
        </Form.Item>

        {/* Submit Button */}
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Submit Nomination
          </Button>
        </Form.Item>
      </Form>
      {/* Confirmation Modal */}
      <Modal
        title="Submission Received"
        open={modalVisible}
        onOk={handleModalOk}
        onCancel={() => setModalVisible(false)}
        okText="Ok"
        cancelButtonProps={{ style: { display: 'none' } }}
      >
        <p>Your project has been submitted for review. Moderators will evaluate your submission shortly.</p>
      </Modal>
    </PageContainer>
  );


  return <MainLayout>{page}</MainLayout>;

export default SubmitToShowcase;
}}}

===== END app\kreative\community-showcases\submit-to-showcase\page.tsx =====

===== BEGIN app\kreative\creative-hub\submit-creative-work\page.tsx =====
'use client';

// File: /pages/kreative/creative-hub/submit-creative-work.tsx
import React, { useState } from 'react';
import type { NextPage } from 'next';
import {
  Form,
  Input,
  Select,
  Upload,
  Button,
  Alert,
  message as antdMessage,
} from 'antd';
import { UploadOutlined } from '@ant-design/icons';
import { useRouter } from 'next/router';
import PageContainer from '@/components/PageContainer';

const { TextArea } = Input;
const { Option } = Select;

const SubmitCreativeWork: NextPage = () => {
  const [form] = Form.useForm();
  const router = useRouter();
  const [fileList, setFileList] = useState<any[]>([]);

  const handleUploadChange = (info: any) => {
    setFileList([...info.fileList]);
  };

  const onFinish = (values: any) => {
    const creativeWorkData = {
      ...values,
      file: fileList,
    };
    console.log('Submitted Creative Work:', creativeWorkData);
    antdMessage.success(
      "Votre œuvre créative a été soumise avec succès et est en attente d'approbation!"
    );
    router.push('/kreative/creative-hub/inspiration-gallery');
  };

  return (
    <PageContainer title="Submit Creative Work">
      <Alert
        message="Please Note"
        description="File size limit is 5MB. Accepted formats are JPG, PNG for images, MP4 for videos, and MP3 for audio."
        type="info"
        showIcon
        style={{ marginBottom: 24 }}
      />

      <Form
        form={form}
        layout="vertical"
        onFinish={onFinish}
        initialValues={{ category: 'Illustration' }}
      >
        <Form.Item
          label="Title of the Work"
          name="title"
          rules={[{ required: true, message: 'Veuillez saisir le titre de votre œuvre.' }]}
        >
          <Input placeholder="Entrez le titre de votre œuvre créative" />
        </Form.Item>

        <Form.Item
          label="Description or Story Behind the Work"
          name="description"
          rules={[{ required: true, message: 'Veuillez fournir une description ou une histoire.' }]}
        >
          <TextArea rows={5} placeholder="Décrivez votre œuvre et partagez son histoire..." />
        </Form.Item>

        <Form.Item
          label="Category / Medium"
          name="category"
          rules={[{ required: true, message: 'Veuillez sélectionner une catégorie.' }]}
        >
          <Select placeholder="Sélectionnez le type de contenu">
            <Option value="Illustration">Illustration</Option>
            <Option value="Photography">Photography</Option>
            <Option value="Music">Music</Option>
            <Option value="Video">Video</Option>
            <Option value="Digital Art">Digital Art</Option>
          </Select>
        </Form.Item>

        <Form.Item
          label="Upload Creative File"
          name="creativeFile"
          rules={[{ required: true, message: 'Veuillez télécharger un fichier pour votre œuvre.' }]}
        >
          <Upload
            beforeUpload={() => false}
            fileList={fileList}
            onChange={handleUploadChange}
            accept="image/*,video/*,audio/*"
          >
            <Button icon={<UploadOutlined />}>Click to Upload</Button>
          </Upload>
        </Form.Item>

        <Form.Item label="Credits / Tools Used (Optional)" name="credits">
          <Input placeholder="Exemple: Adobe Photoshop, Procreate, etc." />
        </Form.Item>

        <Form.Item>
          <Button type="primary" htmlType="submit">
            Submit Work
          </Button>
        </Form.Item>
      </Form>
    </PageContainer>
  );
};

export default SubmitCreativeWork;

===== END app\kreative\creative-hub\submit-creative-work\page.tsx =====

===== END app/problem_files_concat.txt =====


===== BEGIN app/providers/AuthProvider.tsx =====
// app/providers/AuthProvider.tsx
'use client';

import React from 'react';

/**
 * Auth provider wrapper for App Router.
 * No SDK import needed — Auth0 sessions are handled by middleware.
 */
export default function AuthProvider({ children }: { children: React.ReactNode }) {
  return <>{children}</>;
}

===== END app/providers/AuthProvider.tsx =====

