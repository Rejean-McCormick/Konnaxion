Voici un modÃ¨le central que tu peux rÃ©utiliser comme **rÃ©fÃ©rence de layout KeenKonnect** et donner tel quel Ã  une autre IA quand tu lui demandes de refactor des pages.

Je vais dâ€™abord te donner **le composant central**, puis **la structure de page de rÃ©fÃ©rence**, puis **les rÃ¨gles pour corriger les autres pages**.

---

## 1. Composant central : `<KeenPage>` (Ã  crÃ©er une fois)

> Objectif : toutes les pages KeenKonnect passent par ce wrapper, pour aligner :
>
> * largeur
> * padding
> * taille du titre
> * zone de description
> * toolbar Ã  droite
> * pas de breadcrumb local (on laisse le layout global le gÃ©rer)

**Fichier suggÃ©rÃ©** : `components/keenkonnect/KeenPage.tsx`

```tsx
'use client';

import React from 'react';
import Head from 'next/head';
import usePageTitle from '@/hooks/usePageTitle';

type KeenPageProps = {
  /** Gros titre de la page, affichÃ© en <h1> */
  title: string;

  /** Sous-titre / description sous le titre */
  description?: string;

  /** Titre <title> du navigateur. Si non fourni, on gÃ©nÃ¨re "KeenKonnect Â· {title}" */
  metaTitle?: string;

  /** Contenu principal de la page */
  children: React.ReactNode;

  /**
   * Ã‰lÃ©ment(s) Ã  droite du titre (boutons dâ€™action, filtres, etc.)
   * ex: <Button type="primary">New</Button>
   */
  toolbar?: React.ReactNode;

  /** Largeur max de la zone centrale */
  maxWidth?: number | string;
};

export default function KeenPage({
  title,
  description,
  metaTitle,
  children,
  toolbar,
  maxWidth = 1200,
}: KeenPageProps) {
  const finalMetaTitle = metaTitle ?? `KeenKonnect Â· ${title}`;

  // Synchronise le titre de lâ€™onglet (hook existant dans ton codebase)
  usePageTitle(finalMetaTitle);

  return (
    <>
      <Head>
        <title>{finalMetaTitle}</title>
      </Head>

      <div className="container mx-auto p-5" style={{ maxWidth }}>
        {/* Header de page standardisÃ© */}
        <div className="mb-4 flex flex-wrap items-center justify-between gap-3">
          <div>
            <h1 className="text-2xl font-bold">{title}</h1>
            {description && (
              <p className="mt-1 text-gray-500">{description}</p>
            )}
          </div>

          {toolbar && <div className="flex items-center gap-2">{toolbar}</div>}
        </div>

        {/* Contenu spÃ©cifique Ã  la page */}
        {children}
      </div>
    </>
  );
}
```

**RÃ¨gles associÃ©es :**

* âœ… **Toujours** utiliser `<KeenPage>` pour les pages KeenKonnect (sauf cas ultra-spÃ©ciaux).
* âœ… Titre **toujours** en `text-2xl font-bold`, pas de `Typography.Title level={1}` ou `level={2}` diffÃ©rents selon les pages.
* âœ… Padding global **toujours** `className="container mx-auto p-5"`.
* âœ… Toolbar (boutons Ã  droite du titre) passe par la prop `toolbar`.
* ğŸš« **Pas** de breadcrumb local dans les pages (le layout du haut sâ€™en charge).
* ğŸš« **Pas** de `margin-top` Ã©norme ou de `padding` custom sur le container : tout doit se faire Ã  lâ€™intÃ©rieur du contenu via des `Card`, `Row`, etc.

---

## 2. Page de rÃ©fÃ©rence (modÃ¨le Ã  recopier)

Ta page `search-filter-documents` est globalement le bon Â« look Â».
Voici la version **rÃ©fÃ©rencÃ©e** qui lâ€™utilise via `<KeenPage>` :

```tsx
'use client';

import React from 'react';
import { Card, Alert } from 'antd';
import type { PaginationProps } from 'antd';
import {
  ProTable,
  QueryFilter,
  ProFormText,
  ProFormSelect,
  ProFormDateRangePicker,
} from '@ant-design/pro-components';
import KeenPage from '@/components/keenkonnect/KeenPage';

// ... types + donnÃ©es (DocumentResource, sampleDocuments, etc.)

export default function SearchFilterDocumentsPage(): JSX.Element {
  // ... state, filtres, useMemo, columns, paginationProps, etc.

  return (
    <KeenPage
      title="Search & Filter Documents"
      description="Advanced search and filtering for knowledge documents in KeenKonnect."
    >
      {/* Bloc filtres */}
      <Card className="mb-4">
        <QueryFilter
          onFinish={handleFilterFinish}
          onReset={handleFilterReset}
          labelWidth="auto"
          defaultCollapsed={false}
          span={8}
          initialValues={{ sort: DEFAULT_SORT }}
        >
          {/* ... champs de filtre */}
        </QueryFilter>
      </Card>

      {/* RÃ©sumÃ© + table */}
      <Alert /* ...props */ className="mb-4" />

      <Card>
        <ProTable
          /* ...props */
        />
        {/* Pagination externe */}
      </Card>
    </KeenPage>
  );
}
```

ğŸ‘‰ **Câ€™est cette structure quâ€™il faut viser partout** :
`<KeenPage>` en haut, puis `Card`, `ProTable`, `StepsForm`, `Tabs`, etc. Ã  lâ€™intÃ©rieur.

---

## 3. Que corriger, et oÃ¹ ? (central vs par page)

### 3.1. Ce qui se corrige **de maniÃ¨re centrale**

En crÃ©ant / imposant `<KeenPage>` tu centralises :

1. **Taille & style du titre**

   * `h1.text-2xl.font-bold` partout.
   * Plus de `Typography.Title` avec des niveaux diffÃ©rents.

2. **Padding & largeur**

   * Tout le monde utilise `container mx-auto p-5` avec le mÃªme `maxWidth`.
   * Plus de pages full-bleed sans padding.

3. **Structure de base**

   * Header de page = mÃªme layout : titre + description + toolbar Ã  droite.
   * Plus de pages oÃ¹ un bouton important flotte dans un coin sans alignement.

4. **Fil dâ€™Ariane (breadcrumb)**

   * **Jamais** en local dans la page.
   * Si un jour on veut ajouter un breadcrumb global, on le fait dans le layout `app/keenkonnect/layout.tsx` uniquement.

RÃ©sultat : 80% des diffÃ©rences visuelles disparaissent juste en passant par `<KeenPage>`.

---

### 3.2. Ce qui doit Ãªtre fait **par page** (mÃ©canique mais simple)

Pour chaque page existante (exemples : `my-projects`, `create-new-project`, `document-management`, `track-project-impact`, etc.) :

#### 1. Remplacer le wrapper racine

**Avant (exemples actuels) :**

```tsx
<div style={{ maxWidth: 960, margin: '0 auto', padding: 24 }}>
  {/* ... */}
</div>
```

ou

```tsx
<div className="container mx-auto p-5">
  <h1 className="text-3xl font-semibold">Big Title</h1>
  {/* ... */}
</div>
```

ou

```tsx
<PageContainer
  header={{
    title: 'My Page',
    breadcrumb: { /* ... */ },
  }}
>
  {/* ... */}
</PageContainer>
```

**AprÃ¨s (modÃ¨le unique) :**

```tsx
import KeenPage from '@/components/keenkonnect/KeenPage';

export default function SomePage() {
  return (
    <KeenPage
      title="My Page"
      description="One-line description of what this page does."
      toolbar={(
        /* optionnel : boutons dâ€™action Ã  droite du titre */
      )}
    >
      {/* Ancien contenu, sans h1, sans Head, sans breadcrumb */}
    </KeenPage>
  );
}
```

> ğŸ” **Important** :
>
> * Supprimer le `h1` local, `Typography.Title` principal, et les gros marges hautes â€” câ€™est gÃ©rÃ© par KeenPage.
> * Si la page utilisait `PageContainer`, garder le contenu mais le mettre dans des `Card` ou `ProCard` Ã  lâ€™intÃ©rieur de `<KeenPage>`.

#### 2. Supprimer les breadcumbs locaux

Tout ce qui ressemble Ã  :

```tsx
<Breadcrumb /* ... */ />
```

ou

```tsx
<PageContainer
  header={{
    breadcrumb: { /* ... */ },
  }}
/>
```

â¡ï¸ **Ã€ supprimer**.
Breadcrumb = only via layout global (la â€œupper barâ€).

#### 3. Unifier les titres secondaires

Ã€ lâ€™intÃ©rieur des pages, pour les sous-sections, tu peux :

* soit utiliser `Card` avec `title="..."`,
* soit `h2` / `h3` tailwind (`text-lg font-semibold`, etc.) mais de faÃ§on cohÃ©rente :

Par ex :

```tsx
<h2 className="text-lg font-semibold mb-2">Team Settings</h2>
```

ou

```tsx
<Card title="Team Settings" className="mb-4">
  {/* ... */}
</Card>
```

---

## 4. Quels types de pages & comment les aligner

Tu peux inclure ce bloc dans ta doc pour guider lâ€™IA selon le type de page.

### 4.1. Pages â€œform wizardâ€ (StepsForm)

Ex : `create-new-project`, `submit-impact-reports`, `match-preferences`, etc.

**Pattern recommandÃ© :**

```tsx
<KeenPage
  title="Create New Project"
  description="Use this guided wizard to describe your project and configure the team."
>
  <Card>
    <StepsForm
      onFinish={...}
      formProps={{ layout: 'vertical' }}
      submitter={{
        // pas de nextText/prevText custom si le type ne le supporte pas
      }}
    >
      {/* StepForm ... */}
    </StepsForm>
  </Card>
</KeenPage>
```

**Checklist :**

* Pas de marge/padding custom autour du `Card`.
* StepForm toujours dans un `Card` (ou deux si besoin).
* Titre principal gÃ©rÃ© par `<KeenPage>`.

---

### 4.2. Pages â€œtableau & filtresâ€ (list, ProTable)

Ex :
`knowledge/search-filter-documents` (rÃ©fÃ©rence), `projects/my-projects`, `workspaces/my-workspaces`, `knowledge/document-management`.

**Pattern recommandÃ© :**

```tsx
<KeenPage
  title="My Projects"
  description="Browse and manage your KeenKonnect projects."
  toolbar={(
    <Button type="primary">New project</Button>
  )}
>
  <Card className="mb-4">
    {/* Filtres / QueryFilter / search bar */}
  </Card>

  <Card>
    <ProTable /* ... */ />
  </Card>
</KeenPage>
```

---

### 4.3. Pages â€œdashboard / analyticsâ€

Ex :
`sustainability-impact/sustainability-dashboard`, `track-project-impact`.

MÃªme base, mais tu joues avec `Row`/`Col` + `Card`/`ProCard` :

```tsx
<KeenPage
  title="Sustainability Impact Dashboard"
  description="High-level dashboard aggregating sustainability impact across projects."
>
  <Row gutter={[16, 16]}>
    <Col xs={24} md={12}>
      <Card title="COâ‚‚ saved">
        {/* Graph / KPI */}
      </Card>
    </Col>
    {/* ... */}
  </Row>
</KeenPage>
```

---

## 5. RÃ©ponse directe Ã  tes questions

> **â€œwhat fix is needed for each page? is this a central fix, or a fix per page?â€**

* **Central** :

  * CrÃ©er `<KeenPage>` et lâ€™adopter comme **obligatoire** pour toutes les pages KeenKonnect.
  * Imposer les rÃ¨gles :

    * `container mx-auto p-5`
    * `h1.text-2xl.font-bold`
    * description en `text-gray-500`
    * toolbar Ã  droite via prop
    * **aucun breadcrumb local**.

* **Par page (mais mÃ©canique)** :

  * Remplacer le wrapper racine par `<KeenPage>`.
  * Supprimer les `h1` / `Title` custom.
  * Supprimer les breadcrumbs locaux.
  * Remettre les contenus dans des `Card` / `Row` / `Col` avec marges cohÃ©rentes (`mb-4`, etc.).
  * Pour les pages qui utilisaient `PageContainer`, migrer le header dans les props de `<KeenPage>`.

> **â€œwhich page are ok (like search-filter-documents)â€**

Ã€ partir de ce quâ€™on a vu ensemble :

* âœ… `knowledge/search-filter-documents`
  â†’ dÃ©jÃ  trÃ¨s proche du modÃ¨le. Il suffit juste Ã©ventuellement de le faire passer par `<KeenPage>` mais visuellement tu es dÃ©jÃ  dans le bon style.

* âš ï¸ Les autres pages quâ€™on a modifiÃ©es (projects, workspaces, sustainability, etc.)
  â†’ doivent Ãªtre **alignÃ©es** sur ce modÃ¨le en les enveloppant dans `<KeenPage>` et en supprimant :

  * leurs wrappers custom (`div` avec padding/margin),
  * leurs gros `Title` Ant Design,
  * leurs breadcrumbs locaux,
  * leurs variations de padding.

---

### TL;DR Ã  copier dans ton repo / Notion

* CrÃ©er `components/keenkonnect/KeenPage.tsx` (code ci-dessus).
* Toute nouvelle page KeenKonnect = **obligatoirement** basÃ©e sur `<KeenPage>`.
* Toute page existante = refactor pour utiliser `<KeenPage>` et supprimer les layouts locaux.

Si tu veux, ensuite, tu peux me coller le code dâ€™une page â€œmocheâ€ et on la rÃ©Ã©crit ensemble 100% alignÃ©e sur ce template.
