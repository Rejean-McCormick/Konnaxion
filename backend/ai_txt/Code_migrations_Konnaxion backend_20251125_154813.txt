===== TOC (27 fichiers) =====
0001  C:\MyCode\Konnaxionv14\backend\konnaxion\contrib\sites\migrations\0001_initial.py
0002  C:\MyCode\Konnaxionv14\backend\konnaxion\contrib\sites\migrations\0002_alter_domain_unique.py
0003  C:\MyCode\Konnaxionv14\backend\konnaxion\contrib\sites\migrations\0003_set_site_domain_and_name.py
0004  C:\MyCode\Konnaxionv14\backend\konnaxion\contrib\sites\migrations\0004_alter_options_ordering_domain.py
0005  C:\MyCode\Konnaxionv14\backend\konnaxion\contrib\sites\migrations\__init__.py
0006  C:\MyCode\Konnaxionv14\backend\konnaxion\ethikos\migrations\0001_initial.py
0007  C:\MyCode\Konnaxionv14\backend\konnaxion\ethikos\migrations\0002_initial.py
0008  C:\MyCode\Konnaxionv14\backend\konnaxion\ethikos\migrations\__init__.py
0009  C:\MyCode\Konnaxionv14\backend\konnaxion\keenkonnect\migrations\0001_initial.py
0010  C:\MyCode\Konnaxionv14\backend\konnaxion\keenkonnect\migrations\__init__.py
0011  C:\MyCode\Konnaxionv14\backend\konnaxion\kollective_intelligence\migrations\0001_initial.py
0012  C:\MyCode\Konnaxionv14\backend\konnaxion\kollective_intelligence\migrations\00xx_expertise_tags_api.py
0013  C:\MyCode\Konnaxionv14\backend\konnaxion\kollective_intelligence\migrations\__init__.py
0014  C:\MyCode\Konnaxionv14\backend\konnaxion\konnected\migrations\0001_initial.py
0015  C:\MyCode\Konnaxionv14\backend\konnaxion\konnected\migrations\0002_offline_packages.py
0016  C:\MyCode\Konnaxionv14\backend\konnaxion\konnected\migrations\__init__.py
0017  C:\MyCode\Konnaxionv14\backend\konnaxion\kreative\migrations\0001_initial.py
0018  C:\MyCode\Konnaxionv14\backend\konnaxion\kreative\migrations\0002_archivedocument_culturalpartner_digitalarchive_and_more.py
0019  C:\MyCode\Konnaxionv14\backend\konnaxion\kreative\migrations\__init__.py
0020  C:\MyCode\Konnaxionv14\backend\konnaxion\moderation\migrations\0001_initial.py
0021  C:\MyCode\Konnaxionv14\backend\konnaxion\moderation\migrations\__init__.py
0022  C:\MyCode\Konnaxionv14\backend\konnaxion\trust\migrations\0001_initial.py
0023  C:\MyCode\Konnaxionv14\backend\konnaxion\trust\migrations\__init__.py
0024  C:\MyCode\Konnaxionv14\backend\konnaxion\users\migrations\0001_initial.py
0025  C:\MyCode\Konnaxionv14\backend\konnaxion\users\migrations\0002_user_avatar.py
0026  C:\MyCode\Konnaxionv14\backend\konnaxion\users\migrations\0003_remove_user_avatar_user_profile_artwork.py
0027  C:\MyCode\Konnaxionv14\backend\konnaxion\users\migrations\__init__.py
===== END TOC =====


===== BEGIN konnaxion/contrib/sites/migrations/0001_initial.py =====
import django.contrib.sites.models
from django.contrib.sites.models import _simple_domain_name_validator
from django.db import migrations
from django.db import models


class Migration(migrations.Migration):

    dependencies = []

    operations = [
        migrations.CreateModel(
            name="Site",
            fields=[
                (
                    "id",
                    models.AutoField(
                        verbose_name="ID",
                        serialize=False,
                        auto_created=True,
                        primary_key=True,
                    ),
                ),
                (
                    "domain",
                    models.CharField(
                        max_length=100,
                        verbose_name="domain name",
                        validators=[_simple_domain_name_validator],
                    ),
                ),
                ("name", models.CharField(max_length=50, verbose_name="display name")),
            ],
            options={
                "ordering": ("domain",),
                "db_table": "django_site",
                "verbose_name": "site",
                "verbose_name_plural": "sites",
            },
            bases=(models.Model,),
            managers=[("objects", django.contrib.sites.models.SiteManager())],
        ),
    ]

===== END konnaxion/contrib/sites/migrations/0001_initial.py =====


===== BEGIN konnaxion/contrib/sites/migrations/0002_alter_domain_unique.py =====
import django.contrib.sites.models
from django.db import migrations
from django.db import models


class Migration(migrations.Migration):

    dependencies = [("sites", "0001_initial")]

    operations = [
        migrations.AlterField(
            model_name="site",
            name="domain",
            field=models.CharField(
                max_length=100,
                unique=True,
                validators=[django.contrib.sites.models._simple_domain_name_validator],
                verbose_name="domain name",
            ),
        )
    ]

===== END konnaxion/contrib/sites/migrations/0002_alter_domain_unique.py =====


===== BEGIN konnaxion/contrib/sites/migrations/0003_set_site_domain_and_name.py =====
"""
To understand why this file is here, please read:

https://cookiecutter-django.readthedocs.io/en/latest/5-help/faq.html#why-is-there-a-django-contrib-sites-directory-in-cookiecutter-django
"""
from django.conf import settings
from django.db import migrations


def _update_or_create_site_with_sequence(site_model, connection, domain, name):
    """Update or create the site with default ID and keep the DB sequence in sync."""
    site, created = site_model.objects.update_or_create(
        id=settings.SITE_ID,
        defaults={
            "domain": domain,
            "name": name,
        },
    )
    if created:
        # We provided the ID explicitly when creating the Site entry, therefore the DB
        # sequence to auto-generate them wasn't used and is now out of sync. If we
        # don't do anything, we'll get a unique constraint violation the next time a
        # site is created.
        # To avoid this, we need to manually update DB sequence and make sure it's
        # greater than the maximum value.
        max_id = site_model.objects.order_by("-id").first().id
        with connection.cursor() as cursor:
            cursor.execute("SELECT last_value from django_site_id_seq")
            (current_id,) = cursor.fetchone()
            if current_id <= max_id:
                cursor.execute(
                    "alter sequence django_site_id_seq restart with %s",
                    [max_id + 1],
                )


def update_site_forward(apps, schema_editor):
    """Set site domain and name."""
    Site = apps.get_model("sites", "Site")
    _update_or_create_site_with_sequence(
        Site,
        schema_editor.connection,
        "konnaxion.local",
        "Konnaxion",
    )


def update_site_backward(apps, schema_editor):
    """Revert site domain and name to default."""
    Site = apps.get_model("sites", "Site")
    _update_or_create_site_with_sequence(
        Site,
        schema_editor.connection,
        "example.com",
        "example.com",
    )


class Migration(migrations.Migration):

    dependencies = [("sites", "0002_alter_domain_unique")]

    operations = [migrations.RunPython(update_site_forward, update_site_backward)]

===== END konnaxion/contrib/sites/migrations/0003_set_site_domain_and_name.py =====


===== BEGIN konnaxion/contrib/sites/migrations/0004_alter_options_ordering_domain.py =====
# Generated by Django 3.1.7 on 2021-02-04 14:49

from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [
        ("sites", "0003_set_site_domain_and_name"),
    ]

    operations = [
        migrations.AlterModelOptions(
            name="site",
            options={
                "ordering": ["domain"],
                "verbose_name": "site",
                "verbose_name_plural": "sites",
            },
        ),
    ]

===== END konnaxion/contrib/sites/migrations/0004_alter_options_ordering_domain.py =====


===== BEGIN konnaxion/contrib/sites/migrations/__init__.py =====
"""
To understand why this file is here, please read:

https://cookiecutter-django.readthedocs.io/en/latest/5-help/faq.html#why-is-there-a-django-contrib-sites-directory-in-cookiecutter-django
"""

===== END konnaxion/contrib/sites/migrations/__init__.py =====


===== BEGIN konnaxion/ethikos/migrations/0001_initial.py =====
# Generated by Django 5.1.9 on 2025-06-26 09:50

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='EthikosCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('description', models.TextField(blank=True)),
            ],
            options={
                'ordering': ('name',),
            },
        ),
        migrations.CreateModel(
            name='EthikosArgument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField()),
                ('side', models.CharField(blank=True, choices=[('pro', 'Pro'), ('con', 'Con')], max_length=3, null=True)),
                ('is_hidden', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='replies', to='ethikos.ethikosargument')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ethikos_arguments', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ('created_at',),
            },
        ),
        migrations.CreateModel(
            name='EthikosStance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('value', models.SmallIntegerField(validators=[django.core.validators.MinValueValidator(-3), django.core.validators.MaxValueValidator(3)])),
                ('timestamp', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ethikos_stances', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='EthikosTopic',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('status', models.CharField(choices=[('open', 'Open'), ('closed', 'Closed'), ('archived', 'Archived')], default='open', max_length=8)),
                ('total_votes', models.PositiveIntegerField(default=0)),
                ('last_activity', models.DateTimeField(auto_now=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='topics', to='ethikos.ethikoscategory')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ethikos_topics', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ('-created_at',),
            },
        ),
    ]

===== END konnaxion/ethikos/migrations/0001_initial.py =====


===== BEGIN konnaxion/ethikos/migrations/0002_initial.py =====
# Generated by Django 5.1.9 on 2025-06-26 09:50

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('ethikos', '0001_initial'),
        ('kollective_intelligence', '0001_initial'),
    ]

    operations = [
        migrations.AddField(
            model_name='ethikostopic',
            name='expertise_category',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='kollective_intelligence.expertisecategory'),
        ),
        migrations.AddField(
            model_name='ethikosstance',
            name='topic',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stances', to='ethikos.ethikostopic'),
        ),
        migrations.AddField(
            model_name='ethikosargument',
            name='topic',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='arguments', to='ethikos.ethikostopic'),
        ),
        migrations.AddIndex(
            model_name='ethikosstance',
            index=models.Index(fields=['topic'], name='ethikos_eth_topic_i_791d0c_idx'),
        ),
        migrations.AddIndex(
            model_name='ethikosstance',
            index=models.Index(fields=['user'], name='ethikos_eth_user_id_fe6937_idx'),
        ),
        migrations.AddConstraint(
            model_name='ethikosstance',
            constraint=models.CheckConstraint(condition=models.Q(('value__gte', -3), ('value__lte', 3)), name='stance_value_between_-3_and_3'),
        ),
        migrations.AlterUniqueTogether(
            name='ethikosstance',
            unique_together={('user', 'topic')},
        ),
        migrations.AddIndex(
            model_name='ethikosargument',
            index=models.Index(fields=['topic'], name='ethikos_eth_topic_i_53cecf_idx'),
        ),
        migrations.AddIndex(
            model_name='ethikosargument',
            index=models.Index(fields=['user'], name='ethikos_eth_user_id_0f0683_idx'),
        ),
    ]

===== END konnaxion/ethikos/migrations/0002_initial.py =====


===== BEGIN konnaxion/ethikos/migrations/__init__.py =====

===== END konnaxion/ethikos/migrations/__init__.py =====


===== BEGIN konnaxion/keenkonnect/migrations/0001_initial.py =====
# Generated by Django 5.1.9 on 2025-06-26 09:50

import django.db.models.deletion
import konnaxion.keenkonnect.models
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Tag',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=50, unique=True)),
            ],
        ),
        migrations.CreateModel(
            name='Project',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('category', models.CharField(max_length=100)),
                ('status', models.CharField(choices=[('idea', 'Idea'), ('progress', 'In progress'), ('completed', 'Completed'), ('validated', 'Validated')], default='idea', max_length=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('creator', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='created_projects', to=settings.AUTH_USER_MODEL)),
                ('tags', models.ManyToManyField(blank=True, related_name='projects', to='keenkonnect.tag')),
            ],
            options={
                'ordering': ('-created_at',),
            },
        ),
        migrations.CreateModel(
            name='ProjectResource',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(blank=True, max_length=200)),
                ('description', models.TextField(blank=True)),
                ('file', models.FileField(blank=True, null=True, upload_to=konnaxion.keenkonnect.models.project_file_path)),
                ('external_url', models.URLField(blank=True)),
                ('file_type', models.CharField(choices=[('image', 'Image'), ('document', 'Document'), ('3d_model', '3D model'), ('other', 'Other')], max_length=15)),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('version', models.PositiveSmallIntegerField(default=1)),
                ('converted_path', models.FileField(blank=True, null=True, upload_to=konnaxion.keenkonnect.models.project_file_path)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='resources', to='keenkonnect.project')),
                ('uploaded_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ('-uploaded_at',),
            },
        ),
        migrations.CreateModel(
            name='ProjectMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('author', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='messages', to='keenkonnect.project')),
            ],
            options={
                'ordering': ('created_at',),
                'indexes': [models.Index(fields=['project', 'created_at'], name='keenkonnect_project_c63dc8_idx')],
            },
        ),
        migrations.CreateModel(
            name='ProjectRating',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('value', models.SmallIntegerField(choices=[(1, '+1'), (-1, '-1')])),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ratings', to='keenkonnect.project')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'indexes': [models.Index(fields=['project'], name='keenkonnect_project_ae0089_idx')],
                'unique_together': {('project', 'user')},
            },
        ),
        migrations.CreateModel(
            name='ProjectTask',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('todo', 'To do'), ('doing', 'In progress'), ('done', 'Done')], default='todo', max_length=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('due_date', models.DateField(blank=True, null=True)),
                ('order', models.PositiveIntegerField(default=0)),
                ('assignee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tasks', to='keenkonnect.project')),
            ],
            options={
                'ordering': ('order', 'created_at'),
                'indexes': [models.Index(fields=['project', 'status'], name='keenkonnect_project_d9553a_idx')],
            },
        ),
        migrations.CreateModel(
            name='ProjectTeam',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('owner', 'Owner'), ('collaborator', 'Collaborator'), ('mentor', 'Mentor')], default='collaborator', max_length=15)),
                ('joined_at', models.DateTimeField(auto_now_add=True)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='team_memberships', to='keenkonnect.project')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'indexes': [models.Index(fields=['project', 'role'], name='keenkonnect_project_12f451_idx')],
                'unique_together': {('project', 'user')},
            },
        ),
        migrations.AddIndex(
            model_name='project',
            index=models.Index(fields=['status', 'category'], name='keenkonnect_status_096d5f_idx'),
        ),
    ]

===== END konnaxion/keenkonnect/migrations/0001_initial.py =====


===== BEGIN konnaxion/keenkonnect/migrations/__init__.py =====

===== END konnaxion/keenkonnect/migrations/__init__.py =====


===== BEGIN konnaxion/kollective_intelligence/migrations/0001_initial.py =====
# Generated by Django 5.1.9 on 2025-06-26 09:50

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('users', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='ConfidentialitySetting',
            fields=[
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, primary_key=True, serialize=False, to=settings.AUTH_USER_MODEL)),
                ('level', models.CharField(choices=[('public', 'Public'), ('pseudonym', 'Pseudonym'), ('anonymous', 'Anonymous')], default='public', max_length=10)),
            ],
        ),
        migrations.CreateModel(
            name='ContextAnalysisLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('entity_type', models.CharField(max_length=40)),
                ('entity_id', models.PositiveBigIntegerField()),
                ('field', models.CharField(max_length=64)),
                ('input_metadata', models.JSONField()),
                ('adjustments_applied', models.JSONField()),
                ('logged_at', models.DateTimeField(default=django.utils.timezone.now)),
            ],
        ),
        migrations.CreateModel(
            name='ExpertiseCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=120, unique=True)),
            ],
        ),
        migrations.CreateModel(
            name='IntegrationMapping',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('module_name', models.CharField(max_length=40)),
                ('context_type', models.CharField(max_length=40)),
                ('mapping_details', models.JSONField()),
            ],
        ),
        migrations.CreateModel(
            name='UserEthicsScore',
            fields=[
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, primary_key=True, serialize=False, to=settings.AUTH_USER_MODEL)),
                ('ethical_score', models.DecimalField(decimal_places=2, max_digits=5)),
            ],
        ),
        migrations.CreateModel(
            name='VoteModality',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=40, unique=True)),
                ('parameters', models.JSONField()),
            ],
        ),
        migrations.CreateModel(
            name='EmergingExpert',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('detection_date', models.DateField(default=django.utils.timezone.now)),
                ('score_delta', models.DecimalField(decimal_places=3, max_digits=7)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='emerging_expert_flags', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ScoreConfiguration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('weight_name', models.CharField(max_length=64)),
                ('weight_value', models.DecimalField(decimal_places=3, max_digits=6)),
                ('field', models.CharField(blank=True, max_length=64, null=True)),
            ],
            options={
                'unique_together': {('weight_name', 'field')},
            },
        ),
        migrations.CreateModel(
            name='UserExpertiseScore',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('raw_score', models.DecimalField(decimal_places=3, max_digits=7)),
                ('weighted_score', models.DecimalField(decimal_places=3, max_digits=7)),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='user_scores', to='kollective_intelligence.expertisecategory')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='expertise_scores', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ScoreHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('old_value', models.DecimalField(decimal_places=3, max_digits=7)),
                ('new_value', models.DecimalField(decimal_places=3, max_digits=7)),
                ('change_reason', models.CharField(max_length=255)),
                ('changed_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('merit_score', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='history', to='kollective_intelligence.userexpertisescore')),
            ],
        ),
        migrations.CreateModel(
            name='Vote',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('target_type', models.CharField(max_length=40)),
                ('target_id', models.PositiveBigIntegerField()),
                ('raw_value', models.DecimalField(decimal_places=3, max_digits=6)),
                ('weighted_value', models.DecimalField(decimal_places=3, max_digits=6)),
                ('voted_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='votes', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='VoteResult',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('target_type', models.CharField(max_length=40)),
                ('target_id', models.PositiveBigIntegerField()),
                ('sum_weighted_value', models.DecimalField(decimal_places=3, max_digits=12)),
                ('vote_count', models.PositiveIntegerField()),
            ],
            options={
                'unique_together': {('target_type', 'target_id')},
            },
        ),
        migrations.AddIndex(
            model_name='userexpertisescore',
            index=models.Index(fields=['category', '-weighted_score'], name='kollective__categor_c5228d_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='userexpertisescore',
            unique_together={('user', 'category')},
        ),
        migrations.AlterUniqueTogether(
            name='vote',
            unique_together={('user', 'target_type', 'target_id')},
        ),
    ]

===== END konnaxion/kollective_intelligence/migrations/0001_initial.py =====


===== BEGIN konnaxion/kollective_intelligence/migrations/00xx_expertise_tags_api.py =====
from django.db import migrations

# Baseline expertise 'tags' that will be exposed via the expertise-tags API.
# For now we only persist the human-readable name on ExpertiseCategory.
EXPERTISE_TAGS = [
    # key, label, description
    (
        "frontend",
        "Frontend Development",
        "React, TypeScript, modern component patterns and design systems.",
    ),
    (
        "backend",
        "Backend Development",
        "APIs, microservices, Node.js / Python, data modelling & reliability.",
    ),
    (
        "uiux",
        "UI/UX Design",
        "User journeys, wireframes, interactive prototypes, design systems.",
    ),
    (
        "data-science",
        "Data Science",
        "Exploratory analysis, ML models, dashboards, decision support.",
    ),
    (
        "devops",
        "DevOps",
        "CI/CD, observability, infrastructure-as-code, cloud environments.",
    ),
    (
        "mobile",
        "Mobile Development",
        "Native & cross-platform apps, performance and offline patterns.",
    ),
    (
        "qa",
        "QA",
        "Testing strategy, automation, regression & release quality.",
    ),
    (
        "pm",
        "Project Management",
        "Roadmapping, stakeholder alignment, agile delivery and rituals.",
    ),
]


def forwards_create_expertise_tags(apps, schema_editor):
    """
    Seed baseline expertise categories used by:
    - Ekoh reputation / expertise weights
    - KeenKonnect matching
    - Smart Vote weighting

    We only persist the `.name` (label) on ExpertiseCategory so this
    migration remains compatible even if the model is later extended.
    """
    ExpertiseCategory = apps.get_model(
        "kollective_intelligence", "ExpertiseCategory"
    )

    for _key, label, _description in EXPERTISE_TAGS:
        # Use label as the canonical category name for now.
        ExpertiseCategory.objects.get_or_create(name=label)


def backwards_delete_expertise_tags(apps, schema_editor):
    """
    Reverse operation: remove categories whose names match the labels defined
    in this migration.
    """
    ExpertiseCategory = apps.get_model(
        "kollective_intelligence", "ExpertiseCategory"
    )

    labels = [label for _key, label, _desc in EXPERTISE_TAGS]
    ExpertiseCategory.objects.filter(name__in=labels).delete()


class Migration(migrations.Migration):

    # When you rename this file to a real migration (e.g. 0002_expertise_tags_api.py),
    # keep the dependency pointing to the initial schema migration.
    dependencies = [
        ("kollective_intelligence", "0001_initial"),
    ]

    operations = [
        migrations.RunPython(
            forwards_create_expertise_tags,
            backwards_delete_expertise_tags,
        ),
    ]

===== END konnaxion/kollective_intelligence/migrations/00xx_expertise_tags_api.py =====


===== BEGIN konnaxion/kollective_intelligence/migrations/__init__.py =====

===== END konnaxion/kollective_intelligence/migrations/__init__.py =====


===== BEGIN konnaxion/konnected/migrations/0001_initial.py =====
# Generated by Django 5.1.9 on 2025-06-26 09:50

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='CertificationPath',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='CoCreationProject',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('title', models.CharField(max_length=255)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('active', 'Active'), ('archived', 'Archived')], default='draft', max_length=8)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='CoCreationContribution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('content', models.TextField()),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='konnected.cocreationproject')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Evaluation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('raw_score', models.FloatField()),
                ('metadata', models.JSONField()),
                ('path', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='konnected.certificationpath')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='ForumTopic',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('title', models.CharField(max_length=255)),
                ('category', models.CharField(max_length=120)),
                ('creator', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='ForumPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('content', models.TextField()),
                ('author', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('topic', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='posts', to='konnected.forumtopic')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='InteropMapping',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('external_system', models.CharField(max_length=120)),
                ('external_id', models.CharField(max_length=255)),
                ('local_certification', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='konnected.certificationpath')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='KnowledgeResource',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('title', models.CharField(max_length=255)),
                ('type', models.CharField(choices=[('video', 'Video'), ('doc', 'Document'), ('course', 'Course'), ('other', 'Other')], max_length=10)),
                ('url', models.URLField()),
                ('author', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='KnowledgeRecommendation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('recommended_at', models.DateTimeField()),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('resource', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='konnected.knowledgeresource')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='PeerValidation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('decision', models.CharField(choices=[('approved', 'Approved'), ('rejected', 'Rejected')], max_length=8)),
                ('evaluation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='konnected.evaluation')),
                ('peer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Portfolio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('items', models.ManyToManyField(blank=True, related_name='portfolios', to='konnected.knowledgeresource')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='LearningProgress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('progress_percent', models.DecimalField(decimal_places=2, max_digits=5)),
                ('resource', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='konnected.knowledgeresource')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'unique_together': {('user', 'resource')},
            },
        ),
    ]

===== END konnaxion/konnected/migrations/0001_initial.py =====


===== BEGIN konnaxion/konnected/migrations/0002_offline_packages.py =====
# backend/konnaxion/konnected/migrations/0002_offline_packages.py

from django.db import migrations, models

try:
    # Django 3.1+ (builtâ€‘in JSONField)
    JSONField = models.JSONField
except AttributeError:
    # Older Django versions (PostgreSQL JSONField)
    from django.contrib.postgres.fields import JSONField  # type: ignore


class Migration(migrations.Migration):

    dependencies = [
        ("konnected", "0001_initial"),
    ]

    operations = [
        migrations.CreateModel(
            name="OfflinePackage",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                ("name", models.CharField(max_length=255)),
                ("description", models.TextField(blank=True)),
                (
                    "status",
                    models.CharField(
                        max_length=16,
                        default="scheduled",
                        choices=[
                            ("scheduled", "Scheduled"),
                            ("building", "Building"),
                            ("ready", "Ready"),
                            ("failed", "Failed"),
                        ],
                    ),
                ),
                ("item_count", models.PositiveIntegerField(default=0)),
                (
                    "total_size_mb",
                    models.DecimalField(
                        max_digits=10,
                        decimal_places=2,
                        default=0,
                    ),
                ),
                ("last_built_at", models.DateTimeField(blank=True, null=True)),
                (
                    "target_device_type",
                    models.CharField(
                        max_length=16,
                        blank=True,
                        choices=[
                            ("laptop", "Laptop / desktop"),
                            ("tablet", "Tablet"),
                            ("usb", "USB / external media"),
                            ("other", "Other"),
                        ],
                    ),
                ),
                ("auto_sync", models.BooleanField(default=False)),
                (
                    "build_progress_percent",
                    models.PositiveSmallIntegerField(blank=True, null=True),
                ),
                ("last_error_message", models.TextField(blank=True)),
                ("max_size_mb", models.PositiveIntegerField(blank=True, null=True)),
                (
                    "include_types",
                    JSONField(
                        blank=True,
                        default=list,
                        help_text=(
                            "List of resource types to include "
                            "(e.g. article, video, lesson, quiz, dataset)."
                        ),
                    ),
                ),
                (
                    "subject_filter",
                    models.CharField(
                        max_length=255,
                        blank=True,
                        help_text=(
                            "Optional subject/topic filter applied when "
                            "resolving resources."
                        ),
                    ),
                ),
                (
                    "level_filter",
                    models.CharField(
                        max_length=255,
                        blank=True,
                        help_text="Optional level/difficulty filter.",
                    ),
                ),
                (
                    "language_filter",
                    models.CharField(
                        max_length=50,
                        blank=True,
                        help_text="Optional language filter (e.g. 'en', 'fr').",
                    ),
                ),
            ],
            options={
                "ordering": ("name",),
            },
        ),
    ]

===== END konnaxion/konnected/migrations/0002_offline_packages.py =====


===== BEGIN konnaxion/konnected/migrations/__init__.py =====

===== END konnaxion/konnected/migrations/__init__.py =====


===== BEGIN konnaxion/kreative/migrations/0001_initial.py =====
# Generated by Django 5.1.9 on 2025-06-26 09:50

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Tag',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=64, unique=True)),
            ],
            options={
                'verbose_name': 'Tag',
                'verbose_name_plural': 'Tags',
            },
        ),
        migrations.CreateModel(
            name='Gallery',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('theme', models.CharField(blank=True, max_length=120)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='galleries_created', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Gallery',
                'verbose_name_plural': 'Galleries',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='KreativeArtwork',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('media_file', models.FileField(upload_to='kreative/artworks/')),
                ('media_type', models.CharField(choices=[('image', 'Image'), ('video', 'Video'), ('audio', 'Audio'), ('other', 'Other')], default='image', max_length=10)),
                ('year', models.PositiveIntegerField(blank=True, null=True)),
                ('medium', models.CharField(blank=True, max_length=120)),
                ('style', models.CharField(blank=True, max_length=120)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('artist', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='artworks', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Artwork',
                'verbose_name_plural': 'Artworks',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='GalleryArtwork',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('order', models.PositiveIntegerField(default=0)),
                ('gallery', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='kreative.gallery')),
                ('artwork', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='kreative.kreativeartwork')),
            ],
            options={
                'ordering': ['order'],
                'unique_together': {('gallery', 'artwork')},
            },
        ),
        migrations.AddField(
            model_name='gallery',
            name='artworks',
            field=models.ManyToManyField(related_name='galleries', through='kreative.GalleryArtwork', to='kreative.kreativeartwork'),
        ),
        migrations.CreateModel(
            name='CollabSession',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('session_type', models.CharField(choices=[('painting', 'Painting'), ('music', 'Music'), ('mixed', 'Mixed Media')], max_length=20)),
                ('started_at', models.DateTimeField(auto_now_add=True)),
                ('ended_at', models.DateTimeField(blank=True, null=True)),
                ('host', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='collab_sessions_hosted', to=settings.AUTH_USER_MODEL)),
                ('final_artwork', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_in_sessions', to='kreative.kreativeartwork')),
            ],
            options={
                'verbose_name': 'Collaboration Session',
                'verbose_name_plural': 'Collaboration Sessions',
                'ordering': ['-started_at'],
            },
        ),
        migrations.CreateModel(
            name='ArtworkTag',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('artwork', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='kreative.kreativeartwork')),
                ('tag', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='kreative.tag')),
            ],
            options={
                'unique_together': {('artwork', 'tag')},
            },
        ),
        migrations.AddField(
            model_name='kreativeartwork',
            name='tags',
            field=models.ManyToManyField(blank=True, through='kreative.ArtworkTag', to='kreative.tag'),
        ),
        migrations.CreateModel(
            name='TraditionEntry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('region', models.CharField(max_length=120)),
                ('media_file', models.FileField(upload_to='kreative/traditions/')),
                ('submitted_at', models.DateTimeField(auto_now_add=True)),
                ('approved', models.BooleanField(default=False)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='tradition_entries_approved', to=settings.AUTH_USER_MODEL)),
                ('submitted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='tradition_entries', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Tradition Entry',
                'verbose_name_plural': 'Tradition Entries',
                'ordering': ['-submitted_at'],
            },
        ),
    ]

===== END konnaxion/kreative/migrations/0001_initial.py =====


===== BEGIN konnaxion/kreative/migrations/0002_archivedocument_culturalpartner_digitalarchive_and_more.py =====
# Generated by Django 5.1.9 on 2025-11-11 15:39

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('kreative', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='ArchiveDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('document_type', models.CharField(max_length=64)),
                ('url', models.URLField()),
                ('metadata', models.JSONField(blank=True, default=dict)),
            ],
            options={
                'verbose_name': 'Archive Document',
                'verbose_name_plural': 'Archive Documents',
            },
        ),
        migrations.CreateModel(
            name='CulturalPartner',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('type', models.CharField(max_length=64)),
                ('contact_info', models.JSONField(blank=True, default=dict)),
            ],
            options={
                'verbose_name': 'Cultural Partner',
                'verbose_name_plural': 'Cultural Partners',
            },
        ),
        migrations.CreateModel(
            name='DigitalArchive',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('url', models.URLField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Digital Archive',
                'verbose_name_plural': 'Digital Archives',
            },
        ),
        migrations.CreateModel(
            name='VirtualExhibition',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Virtual Exhibition',
                'verbose_name_plural': 'Virtual Exhibitions',
            },
        ),
        migrations.CreateModel(
            name='AICatalogueEntry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tags', models.JSONField(blank=True, default=list)),
                ('classification', models.CharField(blank=True, max_length=120)),
                ('archive_document', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ai_entries', to='kreative.archivedocument')),
            ],
            options={
                'verbose_name': 'AI Catalogue Entry',
                'verbose_name_plural': 'AI Catalogue Entries',
            },
        ),
        migrations.AddField(
            model_name='archivedocument',
            name='archive',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documents', to='kreative.digitalarchive'),
        ),
    ]

===== END konnaxion/kreative/migrations/0002_archivedocument_culturalpartner_digitalarchive_and_more.py =====


===== BEGIN konnaxion/kreative/migrations/__init__.py =====

===== END konnaxion/kreative/migrations/__init__.py =====


===== BEGIN konnaxion/moderation/migrations/0001_initial.py =====
# Generated by Django 5.1.9 on 2025-11-24 17:48

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('contenttypes', '0002_remove_content_type_name'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AuditLogEntry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ts', models.DateTimeField(auto_now_add=True, db_index=True, help_text='Timestamp when the event occurred.')),
                ('actor', models.CharField(blank=True, help_text='Denormalized actor label exposed in the API.', max_length=255)),
                ('action', models.CharField(help_text="Logical action identifier, e.g. 'UPDATE_TOPIC'.", max_length=128)),
                ('target', models.CharField(blank=True, help_text='Human-readable target used in the admin UI.', max_length=255)),
                ('entity', models.CharField(blank=True, help_text="Machine-oriented entity type, e.g. 'topic', 'argument', 'user'.", max_length=64)),
                ('entity_id', models.CharField(blank=True, help_text='Primary key of the entity in the source system, stored as text.', max_length=64)),
                ('entity_object_id', models.CharField(blank=True, max_length=64)),
                ('severity', models.CharField(choices=[('info', 'Info'), ('warn', 'Warning'), ('critical', 'Critical')], db_index=True, default='info', max_length=10)),
                ('status', models.CharField(choices=[('ok', 'OK'), ('warn', 'Warning'), ('error', 'Error')], db_index=True, default='ok', max_length=10)),
                ('ip', models.GenericIPAddressField(blank=True, help_text='Source IP address, if available.', null=True)),
                ('meta', models.JSONField(blank=True, default=dict, help_text='Free-form JSON payload with extra context for the event.')),
                ('actor_user', models.ForeignKey(blank=True, help_text='Optional link to the user that triggered the event.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='audit_entries', to=settings.AUTH_USER_MODEL)),
                ('entity_content_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='audit_entries', to='contenttypes.contenttype')),
            ],
            options={
                'verbose_name': 'Audit log entry',
                'verbose_name_plural': 'Audit log entries',
                'ordering': ('-ts',),
            },
        ),
        migrations.CreateModel(
            name='ModerationCase',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('target_object_id', models.CharField(blank=True, help_text='Primary key of the moderated object, stored as text.', max_length=64)),
                ('target_type', models.CharField(choices=[('topic', 'Topic'), ('post', 'Post / argument'), ('user', 'User'), ('other', 'Other')], default='post', help_text='UI-level category of the moderated target (topic, post, user, â€¦).', max_length=16)),
                ('target_id', models.CharField(blank=True, help_text='External identifier exposed to frontends (argumentId, topicId, userId, â€¦).', max_length=64)),
                ('context_title', models.CharField(blank=True, help_text='Debate / consultation context, e.g. topic title.', max_length=255)),
                ('content_preview', models.TextField(blank=True, help_text='Short snapshot of the offending content for quick review.')),
                ('author_name', models.CharField(blank=True, help_text='Cached author label for admin views.', max_length=255)),
                ('status', models.CharField(choices=[('Pending', 'Pending'), ('Resolved', 'Resolved'), ('Escalated', 'Escalated')], db_index=True, default='Pending', max_length=16)),
                ('severity', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High')], db_index=True, default='medium', max_length=8)),
                ('report_count', models.PositiveIntegerField(default=0, help_text='Denormalized number of merged user reports for this case.')),
                ('source', models.CharField(blank=True, help_text="Originating app or module (e.g. 'ethikos', 'keenkonnect').", max_length=64)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('last_action_at', models.DateTimeField(auto_now=True)),
                ('author', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='moderation_cases_authored', to=settings.AUTH_USER_MODEL)),
                ('last_moderated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='moderation_cases_moderated', to=settings.AUTH_USER_MODEL)),
                ('target_content_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='moderation_cases', to='contenttypes.contenttype')),
            ],
            options={
                'verbose_name': 'Moderation case',
                'verbose_name_plural': 'Moderation cases',
                'ordering': ('-created_at',),
            },
        ),
        migrations.CreateModel(
            name='ModerationAction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('action', models.CharField(choices=[('approve', 'Approve content'), ('remove', 'Remove content'), ('escalate', 'Escalate / flag'), ('ignore', 'Ignore / keep pending')], max_length=16)),
                ('notes', models.TextField(blank=True, help_text='Optional internal notes from the moderator.')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('audit_entry', models.ForeignKey(blank=True, help_text='Optional link to the audit log entry for this decision.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='moderation_actions', to='moderation.auditlogentry')),
                ('moderator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='moderation_actions', to=settings.AUTH_USER_MODEL)),
                ('case', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='actions', to='moderation.moderationcase')),
            ],
            options={
                'verbose_name': 'Moderation action',
                'verbose_name_plural': 'Moderation actions',
                'ordering': ('-created_at',),
            },
        ),
        migrations.CreateModel(
            name='ModerationReport',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reporter_name', models.CharField(blank=True, help_text='Cached reporter label for admin views.', max_length=255)),
                ('type', models.CharField(choices=[('Spam', 'Spam'), ('Harassment', 'Harassment'), ('Misinformation', 'Misinformation'), ('Other', 'Other')], default='Spam', help_text='Primary moderation reason label.', max_length=32)),
                ('message', models.TextField(blank=True, help_text='Optional free-text notes supplied by the reporter.')),
                ('meta', models.JSONField(blank=True, default=dict, help_text='Arbitrary JSON payload with source-specific details.')),
                ('ip_address', models.GenericIPAddressField(blank=True, help_text='Source IP address of the reporter, if tracked.', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('case', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reports', to='moderation.moderationcase')),
                ('reporter', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='moderation_reports', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Moderation report',
                'verbose_name_plural': 'Moderation reports',
                'ordering': ('-created_at',),
            },
        ),
        migrations.AddIndex(
            model_name='auditlogentry',
            index=models.Index(fields=['ts'], name='moderation__ts_083a34_idx'),
        ),
        migrations.AddIndex(
            model_name='auditlogentry',
            index=models.Index(fields=['severity'], name='moderation__severit_95739a_idx'),
        ),
        migrations.AddIndex(
            model_name='auditlogentry',
            index=models.Index(fields=['status'], name='moderation__status_8f4da0_idx'),
        ),
        migrations.AddIndex(
            model_name='auditlogentry',
            index=models.Index(fields=['entity', 'entity_id'], name='moderation__entity_76cedd_idx'),
        ),
        migrations.AddIndex(
            model_name='moderationcase',
            index=models.Index(fields=['status', 'severity'], name='moderation__status_3af731_idx'),
        ),
        migrations.AddIndex(
            model_name='moderationcase',
            index=models.Index(fields=['target_type', 'target_id'], name='moderation__target__2376b2_idx'),
        ),
        migrations.AddIndex(
            model_name='moderationcase',
            index=models.Index(fields=['created_at'], name='moderation__created_b76f35_idx'),
        ),
        migrations.AddIndex(
            model_name='moderationreport',
            index=models.Index(fields=['type'], name='moderation__type_10cf49_idx'),
        ),
        migrations.AddIndex(
            model_name='moderationreport',
            index=models.Index(fields=['created_at'], name='moderation__created_ae337c_idx'),
        ),
    ]

===== END konnaxion/moderation/migrations/0001_initial.py =====


===== BEGIN konnaxion/moderation/migrations/__init__.py =====

===== END konnaxion/moderation/migrations/__init__.py =====


===== BEGIN konnaxion/trust/migrations/0001_initial.py =====
# Generated by Django 5.1.9 on 2025-11-24 17:48

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Credential',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(help_text="Short title, e.g. 'MSc Climate Policy'.", max_length=255)),
                ('issuer', models.CharField(blank=True, help_text='Issuing institution or body.', max_length=255)),
                ('issued_at', models.DateTimeField(blank=True, help_text='When the credential was issued (if known).', null=True)),
                ('file', models.FileField(blank=True, help_text='Binary document attached to this credential.', null=True, upload_to='trust/credentials/%Y/%m/%d')),
                ('status', models.CharField(choices=[('Pending', 'Pending'), ('Verified', 'Verified'), ('Rejected', 'Rejected')], default='Pending', help_text='Review status in the trust workflow.', max_length=16)),
                ('notes', models.TextField(blank=True, help_text='Optional reviewer notes shown readâ€‘only in the UI.')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(help_text='User who submitted this credential.', on_delete=django.db.models.deletion.CASCADE, related_name='trust_credentials', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ('-created_at',),
                'indexes': [models.Index(fields=['user', 'status'], name='trust_crede_user_id_3fc81d_idx')],
            },
        ),
    ]

===== END konnaxion/trust/migrations/0001_initial.py =====


===== BEGIN konnaxion/trust/migrations/__init__.py =====

===== END konnaxion/trust/migrations/__init__.py =====


===== BEGIN konnaxion/users/migrations/0001_initial.py =====
# Generated by Django 5.1.9 on 2025-06-25 20:12

import django.contrib.auth.models
import django.contrib.auth.validators
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('username', models.CharField(error_messages={'unique': 'A user with that username already exists.'}, help_text='Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.', max_length=150, unique=True, validators=[django.contrib.auth.validators.UnicodeUsernameValidator()], verbose_name='username')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='email address')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('is_active', models.BooleanField(default=True, help_text='Designates whether this user should be treated as active. Unselect this instead of deleting accounts.', verbose_name='active')),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now, verbose_name='date joined')),
                ('name', models.CharField(blank=True, max_length=255, verbose_name='Name of User')),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'user',
                'verbose_name_plural': 'users',
                'abstract': False,
            },
            managers=[
                ('objects', django.contrib.auth.models.UserManager()),
            ],
        ),
    ]

===== END konnaxion/users/migrations/0001_initial.py =====


===== BEGIN konnaxion/users/migrations/0002_user_avatar.py =====
# backend/konnaxion/users/migrations/0002_user_avatar.py
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("users", "0001_initial"),
    ]

    operations = [
        migrations.AddField(
            model_name="user",
            name="avatar",
            field=models.ImageField(
                upload_to="users/avatars/",
                blank=True,
                null=True,
            ),
        ),
    ]

===== END konnaxion/users/migrations/0002_user_avatar.py =====


===== BEGIN konnaxion/users/migrations/0003_remove_user_avatar_user_profile_artwork.py =====
# Generated by Django 5.1.9 on 2025-11-20 15:39

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('kreative', '0002_archivedocument_culturalpartner_digitalarchive_and_more'),
        ('users', '0002_user_avatar'),
    ]

    operations = [
        migrations.RemoveField(
            model_name='user',
            name='avatar',
        ),
        migrations.AddField(
            model_name='user',
            name='profile_artwork',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='users_using_as_profile', to='kreative.kreativeartwork'),
        ),
    ]

===== END konnaxion/users/migrations/0003_remove_user_avatar_user_profile_artwork.py =====


===== BEGIN konnaxion/users/migrations/__init__.py =====

===== END konnaxion/users/migrations/__init__.py =====

